function go(){window.location="/system-requirements"}!function(){function t(){var t,e=navigator.appName,r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(t=n.match(/version\/([\.\d]+)/i))&&(r[2]=t[1]),r=r?[r[1],r[2]]:[e,navigator.appVersion,"-?"]}function e(t){for(var e,n,o,u=t.split("or"),c=!1,l=0,f=u.length;f>l;l++){if(e=r(u[l]).split(" "),n=i[e[0].toLowerCase()],!n)throw new Error("Unrecognized browser name:"+e[0]);if(n===s&&(o=-1!==e[1].indexOf("+"),c=o?parseFloat(e[1])<=a:parseFloat(e[1])===a),c)break}return c}var n=navigator.userAgent,r=function(t){return t.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},i={ie:"msie",msie:"msie",ff:"firefox",firefox:"firefox",safari:"safari",chrome:"chrome",opera:"opera"},o=t(),s=o[0].toLowerCase(),a=parseFloat(o[1]);window.systemRequirements=function(t){var n=0,r=arguments.length;if("string"==typeof t){if(!e(t))return!1;n=1}for(;r>n;n++)if(arguments[n]instanceof Function&&!arguments[n]())return!1;return!0}}(),function(t,e){window.mixpanel=e;var n,r,i,o;n=t.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"===t.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.2.min.js",r=t.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r),e._i=[],e.init=function(t,n,r){function s(t,e){var n=e.split(".");2==n.length&&(t=t[n[0]],e=n[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var a=e;for("undefined"!=typeof r?a=e[r]=[]:r="mixpanel",a.people=a.people||[],i=["disable","track","track_pageview","track_links","track_forms","register","register_once","unregister","identify","alias","name_tag","set_config","people.set","people.increment","people.track_charge","people.append"],o=0;o<i.length;o++)s(a,i[o]);e._i.push([t,n,r])},e.__SV=1.2}(document,window.mixpanel||[]),mixpanel.init("4f9fd79a6827838ce81d84cd70d535cd"),systemRequirements("chrome 26+ or ff 20+")||("conversat.io"===window.location.hostname?mixpanel.track("systemRequirementsNotMet",{},go):go()),function(t,e){function n(t){var e=t.length,n=oe.type(t);return oe.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t){var e=de[t]={};return oe.each(t.match(ae)||[],function(t,n){e[n]=!0}),e}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=oe.expando+Math.random()}function o(t,n,r){var i;if(r===e&&1===t.nodeType)if(i="data-"+n.replace(ye,"-$1").toLowerCase(),r=t.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:ve.test(r)?JSON.parse(r):r}catch(o){}ge.set(t,n,r)}else r=e;return r}function s(){return!0}function a(){return!1}function u(){try{return W.activeElement}catch(t){}}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t,e,n){if(oe.isFunction(e))return oe.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return oe.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ce.test(e))return oe.filter(e,t,n);e=oe.filter(e,t)}return oe.grep(t,function(t){return ee.call(e,t)>=0!==n})}function f(t,e){return oe.nodeName(t,"table")&&oe.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function h(t){var e=De.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function d(t,e){for(var n=t.length,r=0;n>r;r++)me.set(t[r],"globalEval",!e||me.get(e[r],"globalEval"))}function g(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(me.hasData(t)&&(o=me.access(t),s=oe.extend({},o),c=o.events,me.set(e,s),c)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)oe.event.add(e,i,c[i][n])}ge.hasData(t)&&(a=ge.access(t),u=oe.extend({},a),ge.set(e,u))}}function m(t,n){var r=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&oe.nodeName(t,n)?oe.merge([t],r):r}function v(t,e){var n=e.nodeName.toLowerCase();"input"===n&&qe.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=Qe.length;i--;)if(e=Qe[i]+n,e in t)return e;return r}function b(t,e){return t=e||t,"none"===oe.css(t,"display")||!oe.contains(t.ownerDocument,t)}function x(e){return t.getComputedStyle(e,null)}function w(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=me.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&b(r)&&(o[s]=me.access(r,"olddisplay",E(r.nodeName)))):o[s]||(i=b(r),(n&&"none"!==n||!i)&&me.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function S(t,e,n){var r=We.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function _(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=oe.css(t,n+Ke[o],!0,i)),r?("content"===n&&(s-=oe.css(t,"padding"+Ke[o],!0,i)),"margin"!==n&&(s-=oe.css(t,"border"+Ke[o]+"Width",!0,i))):(s+=oe.css(t,"padding"+Ke[o],!0,i),"padding"!==n&&(s+=oe.css(t,"border"+Ke[o]+"Width",!0,i)));return s}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=x(t),s=oe.support.boxSizing&&"border-box"===oe.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=Be(t,e,o),(0>i||null==i)&&(i=t.style[e]),He.test(i))return i;r=s&&(oe.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+_(t,e,n||(s?"border":"content"),r,o)+"px"}function E(t){var e=W,n=Ge[t];return n||(n=N(t,e),"none"!==n&&n||(Ue=(Ue||oe("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(Ue[0].contentWindow||Ue[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=N(t,e),Ue.detach()),Ge[t]=n),n}function N(t,e){var n=oe(e.createElement(t)).appendTo(e.body),r=oe.css(n[0],"display");return n.remove(),r}function A(t,e,n,r){var i;if(oe.isArray(e))oe.each(e,function(e,i){n||tn.test(t)?r(t,i):A(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==oe.type(e))r(t,e);else for(i in e)A(t+"["+i+"]",e[i],n,r)}function C(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(ae)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function T(t,e,n,r){function i(a){var u;return o[a]=!0,oe.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===yn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function j(t,n){var r,i,o=oe.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&oe.extend(!0,t,i),t}function O(t,n,r){for(var i,o,s,a,u=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),i===e&&(i=t.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){c.unshift(o);break}if(c[0]in r)s=c[0];else{for(o in r){if(!c[0]||t.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),r[s]):void 0}function I(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function L(){return setTimeout(function(){An=e}),An=oe.now()}function R(t,e){oe.each(e,function(e,n){for(var r=(Ln[e]||[]).concat(Ln["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(t,e,n))return})}function q(t,e,n){var r,i,o=0,s=In.length,a=oe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=An||L(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:oe.extend({},e),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:An||L(),duration:n.duration,tweens:[],createTween:function(e,n){var r=oe.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(M(l,c.opts.specialEasing);s>o;o++)if(r=In[o].call(c,t,l,c.opts))return r;return R(c,l),oe.isFunction(c.opts.start)&&c.opts.start.call(t,c),oe.fx.timer(oe.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function M(t,e){var n,r,i,o,s;for(n in t)if(r=oe.camelCase(n),i=e[r],o=t[n],oe.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=oe.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function z(t,n,r){var i,o,s,a,u,c,l,f,p,h=this,d=t.style,g={},m=[],v=t.nodeType&&b(t);r.queue||(f=oe._queueHooks(t,"fx"),null==f.unqueued&&(f.unqueued=0,p=f.empty.fire,f.empty.fire=function(){f.unqueued||p()}),f.unqueued++,h.always(function(){h.always(function(){f.unqueued--,oe.queue(t,"fx").length||f.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===oe.css(t,"display")&&"none"===oe.css(t,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),u=me.get(t,"fxshow");for(i in n)if(s=n[i],Tn.exec(s)){if(delete n[i],c=c||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||u===e||u[i]===e)continue;v=!0}m.push(i)}if(a=m.length){u=me.get(t,"fxshow")||me.access(t,"fxshow",{}),"hidden"in u&&(v=u.hidden),c&&(u.hidden=!v),v?oe(t).show():h.done(function(){oe(t).hide()}),h.done(function(){var e;me.remove(t,"fxshow");for(e in g)oe.style(t,e,g[e])});for(i=0;a>i;i++)o=m[i],l=h.createTween(o,v?u[o]:0),g[o]=u[o]||oe.style(t,o),o in u||(u[o]=l.start,v&&(l.end=l.start,l.start="width"===o||"height"===o?1:0))}}function D(t,e,n,r,i){return new D.prototype.init(t,e,n,r,i)}function F(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Ke[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function P(t){return oe.isWindow(t)?t:9===t.nodeType&&t.defaultView}var B,U,$=typeof e,J=t.location,W=t.document,H=W.documentElement,V=t.jQuery,G=t.$,X={},Y=[],K="2.0.0",Q=Y.concat,Z=Y.push,te=Y.slice,ee=Y.indexOf,ne=X.toString,re=X.hasOwnProperty,ie=K.trim,oe=function(t,e){return new oe.fn.init(t,e,B)},se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,ue=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^-ms-/,fe=/-([\da-z])/gi,pe=function(t,e){return e.toUpperCase()},he=function(){W.removeEventListener("DOMContentLoaded",he,!1),t.removeEventListener("load",he,!1),oe.ready()};oe.fn=oe.prototype={jquery:K,constructor:oe,init:function(t,n,r){var i,o;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ue.exec(t),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(i[1]){if(n=n instanceof oe?n[0]:n,oe.merge(this,oe.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:W,!0)),ce.test(i[1])&&oe.isPlainObject(n))for(i in n)oe.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=W.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=W,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):oe.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),oe.makeArray(t,this))},selector:"",length:0,toArray:function(){return te.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=oe.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return oe.each(this,t,e)},ready:function(t){return oe.ready.promise().done(t),this},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(oe.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},oe.fn.init.prototype=oe.fn,oe.extend=oe.fn.extend=function(){var t,n,r,i,o,s,a=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},u=2),"object"==typeof a||oe.isFunction(a)||(a={}),c===u&&(a=this,--u);c>u;u++)if(null!=(t=arguments[u]))for(n in t)r=a[n],i=t[n],a!==i&&(l&&i&&(oe.isPlainObject(i)||(o=oe.isArray(i)))?(o?(o=!1,s=r&&oe.isArray(r)?r:[]):s=r&&oe.isPlainObject(r)?r:{},a[n]=oe.extend(l,s,i)):i!==e&&(a[n]=i));return a},oe.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===oe&&(t.$=G),e&&t.jQuery===oe&&(t.jQuery=V),oe},isReady:!1,readyWait:1,holdReady:function(t){t?oe.readyWait++:oe.ready(!0)},ready:function(t){(t===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,t!==!0&&--oe.readyWait>0||(U.resolveWith(W,[oe]),oe.fn.trigger&&oe(W).trigger("ready").off("ready")))},isFunction:function(t){return"function"===oe.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?X[ne.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==oe.type(t)||t.nodeType||oe.isWindow(t))return!1;try{if(t.constructor&&!re.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||W;var r=ce.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=oe.buildFragment([t],e,i),i&&oe(i).remove(),oe.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,r;if(!t||"string"!=typeof t)return null;try{r=new DOMParser,n=r.parseFromString(t,"text/xml")}catch(i){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;t=oe.trim(t),t&&(1===t.indexOf("use strict")?(e=W.createElement("script"),e.text=t,W.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(le,"ms-").replace(fe,pe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":ie.call(t)},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?oe.merge(r,"string"==typeof t?[t]:t):Z.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:ee.call(e,t,n)},merge:function(t,n){var r=n.length,i=t.length,o=0;if("number"==typeof r)for(;r>o;o++)t[i++]=n[o];else for(;n[o]!==e;)t[i++]=n[o++];return t.length=i,t},grep:function(t,e,n){var r,i=[],o=0,s=t.length;for(n=!!n;s>o;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),u=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&(u[u.length]=i);else for(o in t)i=e(t[o],o,r),null!=i&&(u[u.length]=i);return Q.apply([],u)},guid:1,proxy:function(t,n){var r,i,o;return"string"==typeof n&&(r=t[n],n=t,t=r),oe.isFunction(t)?(i=te.call(arguments,2),o=function(){return t.apply(n||this,i.concat(te.call(arguments)))},o.guid=t.guid=t.guid||oe.guid++,o):e},access:function(t,n,r,i,o,s,a){var u=0,c=t.length,l=null==r;if("object"===oe.type(r)){o=!0;for(u in r)oe.access(t,n,u,r[u],!0,s,a)}else if(i!==e&&(o=!0,oe.isFunction(i)||(a=!0),l&&(a?(n.call(t,i),n=null):(l=n,n=function(t,e,n){return l.call(oe(t),n)})),n))for(;c>u;u++)n(t[u],r,a?i:i.call(t[u],u,n(t[u],r)));return o?t:l?n.call(t):c?n(t[0],r):s},now:Date.now,swap:function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i}}),oe.ready.promise=function(e){return U||(U=oe.Deferred(),"complete"===W.readyState?setTimeout(oe.ready):(W.addEventListener("DOMContentLoaded",he,!1),t.addEventListener("load",he,!1))),U.promise(e)},oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()}),B=oe(W),function(t,e){function n(t){return be.test(t+"")}function r(){var t,e=[];return t=function(n,r){return e.push(n+=" ")>N.cacheLength&&delete t[e.shift()],t[n]=r}}function i(t){return t[P]=!0,t}function o(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e,n,r){var i,o,s,a,u,c,l,f,p,g;if((e?e.ownerDocument||e:B)!==L&&I(e),e=e||L,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(q&&!r){if(i=xe.exec(t))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&F(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return ee.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&U.getElementsByClassName&&e.getElementsByClassName)return ee.apply(n,e.getElementsByClassName(s)),n}if(U.qsa&&(!M||!M.test(t))){if(f=l=P,p=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(l=e.getAttribute("id"))?f=l.replace(_e,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+d(c[u]);p=de.test(t)&&e.parentNode||e,g=c.join(",")}if(g)try{return ee.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{l||e.removeAttribute("id")}}}return S(t.replace(fe,"$1"),e,n,r)}function a(t,e){var n=e&&t,r=n&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function u(t,n,r){var i;return r?e:(i=t.getAttributeNode(n))&&i.specified?i.value:t[n]===!0?n.toLowerCase():null}function c(t,n,r){var i;return r?e:i=t.getAttribute(n,"type"===n.toLowerCase()?1:2)}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function f(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function p(t){return i(function(e){return e=+e,i(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function h(t,e){var n,r,i,o,a,u,c,l=H[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=N.preFilter;a;){(!n||(r=pe.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(i=[])),n=!1,(r=he.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(fe," ")}),a=a.slice(n.length));for(o in N.filter)!(r=ye[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?s.error(t):H(t,u).slice(0)}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function g(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=J++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c,l=$+" "+o;if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i)if(c=e[P]||(e[P]={}),(u=c[r])&&u[0]===l){if((a=u[1])===!0||a===E)return a===!0}else if(u=c[r]=[l],u[1]=t(e,n,s)||E,u[1]===!0)return!0}}function m(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function y(t,e,n,r,o,s){return r&&!r[P]&&(r=y(r)),o&&!o[P]&&(o=y(o,s)),i(function(i,s,a,u){var c,l,f,p=[],h=[],d=s.length,g=i||w(e||"*",a.nodeType?[a]:a,[]),m=!t||!i&&e?g:v(g,p,t,a,u),y=n?o||(i?t:d||r)?[]:s:m;if(n&&n(m,y,a,u),r)for(c=v(y,h),r(c,[],a,u),l=c.length;l--;)(f=c[l])&&(y[h[l]]=!(m[h[l]]=f));if(i){if(o||t){if(o){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(m[l]=f);o(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=o?re.call(i,f):p[l])>-1&&(i[c]=!(s[c]=f))}}else y=v(y===s?y.splice(d,y.length):y),o?o(null,s,y,u):ee.apply(s,y)})}function b(t){for(var e,n,r,i=t.length,o=N.relative[t[0].type],s=o||N.relative[" "],a=o?1:0,u=g(function(t){return t===e},s,!0),c=g(function(t){return re.call(e,t)>-1},s,!0),l=[function(t,n,r){return!o&&(r||n!==j)||((e=n).nodeType?u(t,n,r):c(t,n,r))}];i>a;a++)if(n=N.relative[t[a].type])l=[g(m(l),n)];else{if(n=N.filter[t[a].type].apply(null,t[a].matches),n[P]){for(r=++a;i>r&&!N.relative[t[r].type];r++);return y(a>1&&m(l),a>1&&d(t.slice(0,a-1)).replace(fe,"$1"),n,r>a&&b(t.slice(a,r)),i>r&&b(t=t.slice(r)),i>r&&d(t))}l.push(n)}return m(l)}function x(t,e){var n=0,r=e.length>0,o=t.length>0,a=function(i,a,u,c,l){var f,p,h,d=[],g=0,m="0",y=i&&[],b=null!=l,x=j,w=i||o&&N.find.TAG("*",l&&a.parentNode||a),S=$+=null==x?1:Math.random()||.1;for(b&&(j=a!==L&&a,E=n);null!=(f=w[m]);m++){if(o&&f){for(p=0;h=t[p++];)if(h(f,a,u)){c.push(f);break}b&&($=S,E=++n)}r&&((f=!h&&f)&&g--,i&&y.push(f))}if(g+=m,r&&m!==g){for(p=0;h=e[p++];)h(y,d,a,u);if(i){if(g>0)for(;m--;)y[m]||d[m]||(d[m]=Z.call(c));d=v(d)}ee.apply(c,d),b&&!i&&d.length>0&&g+e.length>1&&s.uniqueSort(c)}return b&&($=S,j=x),y};return r?i(a):a}function w(t,e,n){for(var r=0,i=e.length;i>r;r++)s(t,e[r],n);return n}function S(t,e,n,r){var i,o,s,a,u,c=h(t);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&q&&N.relative[o[1].type]){if(e=(N.find.ID(s.matches[0].replace(ke,Ee),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(i=ye.needsContext.test(t)?0:o.length;i--&&(s=o[i],!N.relative[a=s.type]);)if((u=N.find[a])&&(r=u(s.matches[0].replace(ke,Ee),de.test(o[0].type)&&e.parentNode||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return ee.apply(n,r),n;break}}return T(t,c)(r,e,!q,n,de.test(t)),n}function _(){}var k,E,N,A,C,T,j,O,I,L,R,q,M,z,D,F,P="sizzle"+-new Date,B=t.document,U={},$=0,J=0,W=r(),H=r(),V=r(),G=!1,X=function(){return 0},Y=typeof e,K=1<<31,Q=[],Z=Q.pop,te=Q.push,ee=Q.push,ne=Q.slice,re=Q.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",se="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ue=ae.replace("w","w#"),ce="\\["+se+"*("+ae+")"+se+"*(?:([*^$|!~]?=)"+se+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ue+")|)|)"+se+"*\\]",le=":("+ae+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ce.replace(3,8)+")*)|.*)\\)|)",fe=new RegExp("^"+se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+se+"+$","g"),pe=new RegExp("^"+se+"*,"+se+"*"),he=new RegExp("^"+se+"*([>+~]|"+se+")"+se+"*"),de=new RegExp(se+"*[+~]"),ge=new RegExp("="+se+"*([^\\]'\"]*)"+se+"*\\]","g"),me=new RegExp(le),ve=new RegExp("^"+ue+"$"),ye={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+ce),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+se+"*(even|odd|(([+-]|)(\\d*)n|)"+se+"*(?:([+-]|)"+se+"*(\\d+)|))"+se+"*\\)|)","i"),"boolean":new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+se+"*((?:-\\d)?\\d*)"+se+"*\\)|)(?=[^-]|$)","i")},be=/^[^{]+\{\s*\[native \w/,xe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,Se=/^h\d$/i,_e=/'|\\/g,ke=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Ee=function(t,e){var n="0x"+e-65536;return n!==n?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{ee.apply(Q=ne.call(B.childNodes),B.childNodes),Q[B.childNodes.length].nodeType}catch(Ne){ee={apply:Q.length?function(t,e){te.apply(t,ne.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}C=s.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},I=s.setDocument=function(t){var r=t?t.ownerDocument||t:B;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,R=r.documentElement,q=!C(r),U.getElementsByTagName=o(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),U.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),U.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),U.sortDetached=o(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),U.getById=o(function(t){return R.appendChild(t).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),U.getById?(N.find.ID=function(t,e){if(typeof e.getElementById!==Y&&q){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(t){var e=t.replace(ke,Ee);return function(t){return t.getAttribute("id")===e}}):(N.find.ID=function(t,n){if(typeof n.getElementById!==Y&&q){var r=n.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==Y&&r.getAttributeNode("id").value===t?[r]:e:[]}},N.filter.ID=function(t){var e=t.replace(ke,Ee);return function(t){var n=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return n&&n.value===e}}),N.find.TAG=U.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},N.find.CLASS=U.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&q?e.getElementsByClassName(t):void 0},z=[],M=[],(U.qsa=n(r.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||M.push("\\["+se+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||M.push(":checked")}),o(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&M.push("[*^$]="+se+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(U.matchesSelector=n(D=R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&o(function(t){U.disconnectedMatch=D.call(t,"div"),D.call(t,"[s!='']:x"),z.push("!=",le)}),M=M.length&&new RegExp(M.join("|")),z=z.length&&new RegExp(z.join("|")),F=n(R.contains)||R.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=R.compareDocumentPosition?function(t,e){if(t===e)return G=!0,0;var n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return n?1&n||!U.sortDetached&&e.compareDocumentPosition(t)===n?t===r||F(B,t)?-1:e===r||F(B,e)?1:O?re.call(O,t)-re.call(O,e):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],c=[e];if(t===e)return G=!0,0;if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:O?re.call(O,t)-re.call(O,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===B?-1:c[i]===B?1:0},L):L},s.matches=function(t,e){return s(t,null,null,e)},s.matchesSelector=function(t,e){if((t.ownerDocument||t)!==L&&I(t),e=e.replace(ge,"='$1']"),!(!U.matchesSelector||!q||z&&z.test(e)||M&&M.test(e)))try{var n=D.call(t,e);if(n||U.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return s(e,L,null,[t]).length>0},s.contains=function(t,e){return(t.ownerDocument||t)!==L&&I(t),F(t,e)},s.attr=function(t,n){(t.ownerDocument||t)!==L&&I(t);var r=N.attrHandle[n.toLowerCase()],i=r&&r(t,n,!q);return i===e?U.attributes||!q?t.getAttribute(n):(i=t.getAttributeNode(n))&&i.specified?i.value:null:i},s.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},s.uniqueSort=function(t){var e,n=[],r=0,i=0;if(G=!U.detectDuplicates,O=!U.sortStable&&t.slice(0),t.sort(X),G){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},A=s.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=A(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r];r++)n+=A(e);return n},N=s.selectors={cacheLength:50,createPseudo:i,match:ye,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,Ee),t[3]=(t[4]||t[5]||"").replace(ke,Ee),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||s.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&s.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return ye.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&me.test(n)&&(e=h(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,Ee).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+se+")"+t+"("+se+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=s.attr(r,t);return null==i?"!="===e:e?(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i+" ").indexOf(n)>-1:"|="===e?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,p,h,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(l=m[P]||(m[P]={}),c=l[t]||[],h=c[0]===$&&c[1],p=c[0]===$&&c[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(p=h=0)||d.pop();)if(1===f.nodeType&&++p&&f===e){l[t]=[$,h,p];break}}else if(y&&(c=(e[P]||(e[P]={}))[t])&&c[0]===$)p=c[1];else for(;(f=++h&&f&&f[g]||(p=h=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[P]||(f[P]={}))[t]=[$,p]),f!==e)););return p-=i,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(t,e){var n,r=N.pseudos[t]||N.setFilters[t.toLowerCase()]||s.error("unsupported pseudo: "+t);return r[P]?r(e):r.length>1?(n=[t,t,"",e],N.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)i=re.call(t,o[s]),t[i]=!(n[i]=o[s])
}):function(t){return r(t,0,n)}):r}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(fe,"$1"));return r[P]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(e){return s(t,e).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||A(e)).indexOf(t)>-1}}),lang:i(function(t){return ve.test(t||"")||s.error("unsupported lang: "+t),t=t.replace(ke,Ee).toLowerCase(),function(e){var n;do if(n=q?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!N.pseudos.empty(t)},header:function(t){return Se.test(t.nodeName)},input:function(t){return we.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:p(function(){return[0]}),last:p(function(t,e){return[e-1]}),eq:p(function(t,e,n){return[0>n?n+e:n]}),even:p(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:p(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:p(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:p(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}};for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})N.pseudos[k]=f(k);T=s.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=h(t)),n=e.length;n--;)o=b(e[n]),o[P]?r.push(o):i.push(o);o=V(t,x(i,r))}return o},N.pseudos.nth=N.pseudos.eq,_.prototype=N.filters=N.pseudos,N.setFilters=new _,U.sortStable=P.split("").sort(X).join("")===P,I(),[0,0].sort(X),U.detectDuplicates=G,o(function(t){if(t.innerHTML="<a href='#'></a>","#"!==t.firstChild.getAttribute("href"))for(var e="type|href|height|width".split("|"),n=e.length;n--;)N.attrHandle[e[n]]=c}),o(function(t){if(null!=t.getAttribute("disabled"))for(var e=ie.split("|"),n=e.length;n--;)N.attrHandle[e[n]]=u}),oe.find=s,oe.expr=s.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=s.uniqueSort,oe.text=s.getText,oe.isXMLDoc=s.isXML,oe.contains=s.contains}(t);var de={};oe.Callbacks=function(t){t="string"==typeof t?de[t]||r(t):oe.extend({},t);var n,i,o,s,a,u,c=[],l=!t.once&&[],f=function(e){for(n=t.memory&&e,i=!0,u=s||0,s=0,a=c.length,o=!0;c&&a>u;u++)if(c[u].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}o=!1,c&&(l?l.length&&f(l.shift()):n?c=[]:p.disable())},p={add:function(){if(c){var e=c.length;!function r(e){oe.each(e,function(e,n){var i=oe.type(n);"function"===i?t.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),o?a=c.length:n&&(s=e,f(n))}return this},remove:function(){return c&&oe.each(arguments,function(t,e){for(var n;(n=oe.inArray(e,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,u>=n&&u--)}),this},has:function(t){return t?oe.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=l=n=e,this},disabled:function(){return!c},lock:function(){return l=e,n||p.disable(),this},locked:function(){return!l},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||i&&!l||(o?l.push(e):f(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},oe.extend({Deferred:function(t){var e=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return oe.Deferred(function(n){oe.each(e,function(e,o){var s=o[0],a=oe.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&oe.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?oe.extend(t,r):r}},i={};return r.pipe=r.then,oe.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=te.call(arguments),s=o.length,a=1!==s||t&&oe.isFunction(t.promise)?s:0,u=1===a?t:oe.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?te.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}}),oe.support=function(e){var n=W.createElement("input"),r=W.createDocumentFragment(),i=W.createElement("div"),o=W.createElement("select"),s=o.appendChild(W.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled,n=W.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===i.style.backgroundClip,oe(function(){var n,r,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=W.getElementsByTagName("body")[0];s&&(n=W.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",oe.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===i.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(W.createElement("div")),r.style.cssText=i.style.cssText=o,r.style.marginRight=r.style.width="0",i.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),s.removeChild(n))}),e):e}({});var ge,me,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;i.uid=1,i.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},i.prototype={key:function(t){if(!i.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=i.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,oe.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(oe.isEmptyObject(o))this.cache[i]=e;else for(r in e)o[r]=e[r]},get:function(t,n){var r=this.cache[this.key(t)];return n===e?r:r[n]},access:function(t,n,r){return n===e||n&&"string"==typeof n&&r===e?this.get(t,n):(this.set(t,n,r),r!==e?r:n)},remove:function(t,n){var r,i,o=this.key(t),s=this.cache[o];if(n===e)this.cache[o]={};else{oe.isArray(n)?i=n.concat(n.map(oe.camelCase)):n in s?i=[n]:(i=oe.camelCase(n),i=i in s?[i]:i.match(ae)||[]),r=i.length;for(;r--;)delete s[i[r]]}},hasData:function(t){return!oe.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){delete this.cache[this.key(t)]}},ge=new i,me=new i,oe.extend({acceptData:i.accepts,hasData:function(t){return ge.hasData(t)||me.hasData(t)},data:function(t,e,n){return ge.access(t,e,n)},removeData:function(t,e){ge.remove(t,e)},_data:function(t,e,n){return me.access(t,e,n)},_removeData:function(t,e){me.remove(t,e)}}),oe.fn.extend({data:function(t,n){var r,i,s=this[0],a=0,u=null;if(t===e){if(this.length&&(u=ge.get(s),1===s.nodeType&&!me.get(s,"hasDataAttrs"))){for(r=s.attributes;a<r.length;a++)i=r[a].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.substring(5)),o(s,i,u[i]));me.set(s,"hasDataAttrs",!0)}return u}return"object"==typeof t?this.each(function(){ge.set(this,t)}):oe.access(this,function(n){var r,i=oe.camelCase(t);if(s&&n===e){if(r=ge.get(s,t),r!==e)return r;if(r=ge.get(s,i),r!==e)return r;if(r=o(s,i,e),r!==e)return r}else this.each(function(){var r=ge.get(this,i);ge.set(this,i,n),-1!==t.indexOf("-")&&r!==e&&ge.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ge.remove(this,t)})}}),oe.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=me.get(t,e),n&&(!r||oe.isArray(n)?r=me.access(t,e,oe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=oe.queue(t,e),r=n.length,i=n.shift(),o=oe._queueHooks(t,e),s=function(){oe.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return me.get(t,n)||me.access(t,n,{empty:oe.Callbacks("once memory").add(function(){me.remove(t,[e+"queue",n])})})}}),oe.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),arguments.length<r?oe.queue(this[0],t):n===e?this:this.each(function(){var e=oe.queue(this,t,n);oe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&oe.dequeue(this,t)})},dequeue:function(t){return this.each(function(){oe.dequeue(this,t)})},delay:function(t,e){return t=oe.fx?oe.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var r,i=1,o=oe.Deferred(),s=this,a=this.length,u=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)r=me.get(s[a],t+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var be,xe,we=/[\t\r\n]/g,Se=/\r/g,_e=/^(?:input|select|textarea|button)$/i;oe.fn.extend({attr:function(t,e){return oe.access(this,oe.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){oe.removeAttr(this,t)})},prop:function(t,e){return oe.access(this,oe.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[oe.propFix[t]||t]})},addClass:function(t){var e,n,r,i,o,s=0,a=this.length,u="string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(ae)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=oe.trim(r)}return this},removeClass:function(t){var e,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(ae)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=t?oe.trim(r):""}return this},toggleClass:function(t,e){var n=typeof t,r="boolean"==typeof e;return oe.isFunction(t)?this.each(function(n){oe(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var i,o=0,s=oe(this),a=e,u=t.match(ae)||[];i=u[o++];)a=r?a:!s.hasClass(i),s[a?"addClass":"removeClass"](i);else(n===$||"boolean"===n)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||t===!1?"":me.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,r,i,o=this[0];{if(arguments.length)return i=oe.isFunction(t),this.each(function(r){var o,s=oe(this);1===this.nodeType&&(o=i?t.call(this,r,s.val()):t,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(t){return null==t?"":t+""})),n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==e?r:(r=o.value,"string"==typeof r?r.replace(Se,""):null==r?"":r)}}}),oe.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(oe.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(e=oe(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=oe.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=oe.inArray(oe(r).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,r){var i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===$?oe.prop(t,n,r):(1===s&&oe.isXMLDoc(t)||(n=n.toLowerCase(),i=oe.attrHooks[n]||(oe.expr.match.boolean.test(n)?xe:be)),r===e?i&&"get"in i&&null!==(o=i.get(t,n))?o:(o=oe.find.attr(t,n),null==o?e:o):null!==r?i&&"set"in i&&(o=i.set(t,r,n))!==e?o:(t.setAttribute(n,r+""),r):(oe.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(ae);if(o&&1===t.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.boolean.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!oe.support.radioValue&&"radio"===e&&oe.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,r){var i,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!oe.isXMLDoc(t),s&&(n=oe.propFix[n]||n,o=oe.propHooks[n]),r!==e?o&&"set"in o&&(i=o.set(t,r,n))!==e?i:t[n]=r:o&&"get"in o&&null!==(i=o.get(t,n))?i:t[n]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||_e.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),xe={set:function(t,e,n){return e===!1?oe.removeAttr(t,n):t.setAttribute(n,n),n}},oe.each(oe.expr.match.boolean.source.match(/\w+/g),function(t,n){var r=oe.expr.attrHandle[n]||oe.find.attr;oe.expr.attrHandle[n]=function(t,n,i){var o=oe.expr.attrHandle[n],s=i?e:(oe.expr.attrHandle[n]=e)!=r(t,n,i)?n.toLowerCase():null;return oe.expr.attrHandle[n]=o,s}}),oe.support.optSelected||(oe.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(t,e){return oe.isArray(e)?t.checked=oe.inArray(oe(t).val(),e)>=0:void 0}},oe.support.checkOn||(oe.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ke=/^key/,Ee=/^(?:mouse|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(t,n,r,i,o){var s,a,u,c,l,f,p,h,d,g,m,v=me.get(t);if(v){for(r.handler&&(s=r,r=s.handler,o=s.selector),r.guid||(r.guid=oe.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof oe===$||t&&oe.event.triggered===t.type?e:oe.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=(n||"").match(ae)||[""],l=n.length;l--;)u=Ae.exec(n[l])||[],d=m=u[1],g=(u[2]||"").split(".").sort(),d&&(p=oe.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=oe.event.special[d]||{},f=oe.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=c[d])||(h=c[d]=[],h.delegateCount=0,p.setup&&p.setup.call(t,i,g,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),p.add&&(p.add.call(t,f),f.handler.guid||(f.handler.guid=r.guid)),o?h.splice(h.delegateCount++,0,f):h.push(f),oe.event.global[d]=!0);t=null}},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,g,m=me.hasData(t)&&me.get(t);if(m&&(u=m.events)){for(e=(e||"").match(ae)||[""],c=e.length;c--;)if(a=Ae.exec(e[c])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){for(f=oe.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));s&&!p.length&&(f.teardown&&f.teardown.call(t,d,m.handle)!==!1||oe.removeEvent(t,h,m.handle),delete u[h])}else for(h in u)oe.event.remove(t,h+e[c],n,r,!0);oe.isEmptyObject(u)&&(delete m.handle,me.remove(t,"events"))}},trigger:function(n,r,i,o){var s,a,u,c,l,f,p,h=[i||W],d=re.call(n,"type")?n.type:n,g=re.call(n,"namespace")?n.namespace.split("."):[];if(a=u=i=i||W,3!==i.nodeType&&8!==i.nodeType&&!Ne.test(d+oe.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),l=d.indexOf(":")<0&&"on"+d,n=n[oe.expando]?n:new oe.Event(d,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=i),r=null==r?[n]:oe.makeArray(r,[n]),p=oe.event.special[d]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!oe.isWindow(i)){for(c=p.delegateType||d,Ne.test(c+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(i.ownerDocument||W)&&h.push(u.defaultView||u.parentWindow||t)}for(s=0;(a=h[s++])&&!n.isPropagationStopped();)n.type=s>1?c:p.bindType||d,f=(me.get(a,"events")||{})[n.type]&&me.get(a,"handle"),f&&f.apply(a,r),f=l&&a[l],f&&oe.acceptData(a)&&f.apply&&f.apply(a,r)===!1&&n.preventDefault();return n.type=d,o||n.isDefaultPrevented()||p._default&&p._default.apply(h.pop(),r)!==!1||!oe.acceptData(i)||l&&oe.isFunction(i[d])&&!oe.isWindow(i)&&(u=i[l],u&&(i[l]=null),oe.event.triggered=d,i[d](),oe.event.triggered=e,u&&(i[l]=u)),n.result}},dispatch:function(t){t=oe.event.fix(t);var n,r,i,o,s,a=[],u=te.call(arguments),c=(me.get(this,"events")||{})[t.type]||[],l=oe.event.special[t.type]||{};if(u[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=oe.event.handlers.call(this,t,c),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,i=((oe.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,u),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,n){var r,i,o,s,a=[],u=n.delegateCount,c=t.target;if(u&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],r=0;u>r;r++)s=n[r],o=s.selector+" ",i[o]===e&&(i[o]=s.needsContext?oe(o,this).index(c)>=0:oe.find(o,this,null,[c]).length),i[o]&&i.push(s);i.length&&a.push({elem:c,handlers:i})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,s=n.button;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||W,i=r.documentElement,o=r.body,t.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[oe.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ee.test(i)?this.mouseHooks:ke.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new oe.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return 3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return oe.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=oe.extend(new oe.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?oe.event.trigger(i,null,e):oe.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},oe.Event=function(t,e){return this instanceof oe.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,e&&oe.extend(this,e),this.timeStamp=t&&t.timeStamp||oe.now(),this[oe.expando]=!0,void 0):new oe.Event(t,e)},oe.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){oe.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!oe.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),oe.support.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){oe.event.simulate(e,t.target,oe.event.fix(t),!0)};oe.event.special[e]={setup:function(){0===n++&&W.addEventListener(t,r,!0)},teardown:function(){0===--n&&W.removeEventListener(t,r,!0)}}}),oe.fn.extend({on:function(t,n,r,i,o){var s,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=e);for(u in t)this.on(u,n,r,t[u],o);return this}if(null==r&&null==i?(i=n,r=n=e):null==i&&("string"==typeof n?(i=r,r=e):(i=r,r=n,n=e)),i===!1)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(t){return oe().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=oe.guid++)),this.each(function(){oe.event.add(this,t,i,r,n)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,n,r){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,oe(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=e),r===!1&&(r=a),this.each(function(){oe.event.remove(this,t,r,n)})},trigger:function(t,e){return this.each(function(){oe.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?oe.event.trigger(t,e,n,!0):void 0}});var Ce=/^.[^:#\[\.,]*$/,Te=oe.expr.match.needsContext,je={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({find:function(t){var e,n,r,i=this.length;if("string"!=typeof t)return e=this,this.pushStack(oe(t).filter(function(){for(r=0;i>r;r++)if(oe.contains(e[r],this))return!0}));for(n=[],r=0;i>r;r++)oe.find(t,this[r],n);return n=this.pushStack(i>1?oe.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e=oe(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(oe.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(l(this,t||[],!0))},filter:function(t){return this.pushStack(l(this,t||[],!1))},is:function(t){return!!t&&("string"==typeof t?Te.test(t)?oe(t,this.context).index(this[0])>=0:oe.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=Te.test(t)||"string"!=typeof t?oe(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(t){return t?"string"==typeof t?ee.call(oe(t),this[0]):ee.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?oe(t,e):oe.makeArray(t&&t.nodeType?[t]:t),r=oe.merge(this.get(),n);return this.pushStack(oe.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),oe.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return oe.dir(t,"parentNode")},parentsUntil:function(t,e,n){return oe.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return oe.dir(t,"nextSibling")},prevAll:function(t){return oe.dir(t,"previousSibling")},nextUntil:function(t,e,n){return oe.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return oe.dir(t,"previousSibling",n)},siblings:function(t){return oe.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return oe.sibling(t.firstChild)},contents:function(t){return oe.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:oe.merge([],t.childNodes)}},function(t,e){oe.fn[t]=function(n,r){var i=oe.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(je[t]||oe.unique(i),"p"===t[0]&&i.reverse()),this.pushStack(i)}}),oe.extend({filter:function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?oe.find.matchesSelector(r,t)?[r]:[]:oe.find.matches(t,oe.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,r){for(var i=[],o=r!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&oe(t).is(r))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Le=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,qe=/^(?:checkbox|radio)$/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^$|\/(?:java|ecma)script/i,De=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.col=Pe.thead,Pe.th=Pe.td,oe.fn.extend({text:function(t){return oe.access(this,function(t){return t===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?oe.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||oe.cleanData(m(n)),n.parentNode&&(e&&oe.contains(n.ownerDocument,n)&&d(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(oe.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return oe.clone(this,t,e)})},html:function(t){return oe.access(this,function(t){var n=this[0]||{},r=0,i=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!Re.test(t)&&!Pe[(Ie.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Oe,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(oe.cleanData(m(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=oe.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var r=t[e++],i=t[e++];i&&(oe(this).remove(),i.insertBefore(n,r))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=Q.apply([],t);var r,i,o,s,a,u,c=0,l=this.length,f=this,d=l-1,g=t[0],v=oe.isFunction(g);if(v||!(1>=l||"string"!=typeof g||oe.support.checkClone)&&Me.test(g))return this.each(function(r){var i=f.eq(r);v&&(t[0]=g.call(this,r,i.html())),i.domManip(t,e,n)});if(l&&(r=oe.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=oe.map(m(r,"script"),p),s=o.length;l>c;c++)a=r,c!==d&&(a=oe.clone(a,!0,!0),s&&oe.merge(o,m(a,"script"))),e.call(this[c],a,c);if(s)for(u=o[o.length-1].ownerDocument,oe.map(o,h),c=0;s>c;c++)a=o[c],ze.test(a.type||"")&&!me.access(a,"globalEval")&&oe.contains(u,a)&&(a.src?oe._evalUrl(a.src):oe.globalEval(a.textContent.replace(Fe,"")))}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){oe.fn[t]=function(t){for(var n,r=[],i=oe(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),oe(i[s])[e](n),Z.apply(r,n.get());return this.pushStack(r)}}),oe.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=oe.contains(t.ownerDocument,t);if(!(oe.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||oe.isXMLDoc(t)))for(s=m(a),o=m(t),r=0,i=o.length;i>r;r++)v(o[r],s[r]);if(e)if(n)for(o=o||m(t),s=s||m(a),r=0,i=o.length;i>r;r++)g(o[r],s[r]);else g(t,a);return s=m(a,"script"),s.length>0&&d(s,!u&&m(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=0,f=t.length,p=e.createDocumentFragment(),h=[];f>l;l++)if(i=t[l],i||0===i)if("object"===oe.type(i))oe.merge(h,i.nodeType?[i]:i);else if(Le.test(i)){for(o=o||p.appendChild(e.createElement("div")),s=(Ie.exec(i)||["",""])[1].toLowerCase(),a=Pe[s]||Pe._default,o.innerHTML=a[1]+i.replace(Oe,"<$1></$2>")+a[2],c=a[0];c--;)o=o.firstChild;oe.merge(h,o.childNodes),o=p.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(p.textContent="",l=0;i=h[l++];)if((!r||-1===oe.inArray(i,r))&&(u=oe.contains(i.ownerDocument,i),o=m(p.appendChild(i),"script"),u&&d(o),n))for(c=0;i=o[c++];)ze.test(i.type||"")&&n.push(i);
return p},cleanData:function(t){for(var e,n,r,i=t.length,o=0,s=oe.event.special;i>o;o++){if(n=t[o],oe.acceptData(n)&&(e=me.access(n)))for(r in e.events)s[r]?oe.event.remove(n,r):oe.removeEvent(n,r,e.handle);ge.discard(n),me.discard(n)}},_evalUrl:function(t){return oe.ajax({url:t,type:"GET",dataType:"text",async:!1,global:!1,success:oe.globalEval})}}),oe.fn.extend({wrapAll:function(t){var e;return oe.isFunction(t)?this.each(function(e){oe(this).wrapAll(t.call(this,e))}):(this[0]&&(e=oe(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return oe.isFunction(t)?this.each(function(e){oe(this).wrapInner(t.call(this,e))}):this.each(function(){var e=oe(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=oe.isFunction(t);return this.each(function(n){oe(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});var Be,Ue,$e=/^(none|table(?!-c[ea]).+)/,Je=/^margin/,We=new RegExp("^("+se+")(.*)$","i"),He=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),Ve=new RegExp("^([+-])=("+se+")","i"),Ge={BODY:"block"},Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:0,fontWeight:400},Ke=["Top","Right","Bottom","Left"],Qe=["Webkit","O","Moz","ms"];oe.fn.extend({css:function(t,n){return oe.access(this,function(t,n,r){var i,o,s={},a=0;if(oe.isArray(n)){for(i=x(t),o=n.length;o>a;a++)s[n[a]]=oe.css(t,n[a],!1,i);return s}return r!==e?oe.style(t,n,r):oe.css(t,n)},t,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:b(this))?oe(this).show():oe(this).hide()})}}),oe.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Be(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,u=oe.camelCase(n),c=t.style;return n=oe.cssProps[u]||(oe.cssProps[u]=y(c,u)),a=oe.cssHooks[n]||oe.cssHooks[u],r===e?a&&"get"in a&&(o=a.get(t,!1,i))!==e?o:c[n]:(s=typeof r,"string"===s&&(o=Ve.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(oe.css(t,n)),s="number"),null==r||"number"===s&&isNaN(r)||("number"!==s||oe.cssNumber[u]||(r+="px"),oe.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(r=a.set(t,r,i))===e||(c[n]=r)),void 0)}},css:function(t,n,r,i){var o,s,a,u=oe.camelCase(n);return n=oe.cssProps[u]||(oe.cssProps[u]=y(t.style,u)),a=oe.cssHooks[n]||oe.cssHooks[u],a&&"get"in a&&(o=a.get(t,!0,r)),o===e&&(o=Be(t,n,i)),"normal"===o&&n in Ye&&(o=Ye[n]),""===r||r?(s=parseFloat(o),r===!0||oe.isNumeric(s)?s||0:o):o}}),Be=function(t,n,r){var i,o,s,a=r||x(t),u=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==u||oe.contains(t.ownerDocument,t)||(u=oe.style(t,n)),He.test(u)&&Je.test(n)&&(i=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=u,u=a.width,c.width=i,c.minWidth=o,c.maxWidth=s)),u},oe.each(["height","width"],function(t,e){oe.cssHooks[e]={get:function(t,n,r){return n?0===t.offsetWidth&&$e.test(oe.css(t,"display"))?oe.swap(t,Xe,function(){return k(t,e,r)}):k(t,e,r):void 0},set:function(t,n,r){var i=r&&x(t);return S(t,n,r?_(t,e,r,oe.support.boxSizing&&"border-box"===oe.css(t,"boxSizing",!1,i),i):0)}}}),oe(function(){oe.support.reliableMarginRight||(oe.cssHooks.marginRight={get:function(t,e){return e?oe.swap(t,{display:"inline-block"},Be,[t,"marginRight"]):void 0}}),!oe.support.pixelPosition&&oe.fn.position&&oe.each(["top","left"],function(t,e){oe.cssHooks[e]={get:function(t,n){return n?(n=Be(t,e),He.test(n)?oe(t).position()[e]+"px":n):void 0}}})}),oe.expr&&oe.expr.filters&&(oe.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},oe.expr.filters.visible=function(t){return!oe.expr.filters.hidden(t)}),oe.each({margin:"",padding:"",border:"Width"},function(t,e){oe.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Ke[r]+e]=o[r]||o[r-2]||o[0];return i}},Je.test(t)||(oe.cssHooks[t+e].set=S)});var Ze=/%20/g,tn=/\[\]$/,en=/\r?\n/g,nn=/^(?:submit|button|image|reset|file)$/i,rn=/^(?:input|select|textarea|keygen)/i;oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=oe.prop(this,"elements");return t?oe.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!oe(this).is(":disabled")&&rn.test(this.nodeName)&&!nn.test(t)&&(this.checked||!qe.test(t))}).map(function(t,e){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(t){return{name:e.name,value:t.replace(en,"\r\n")}}):{name:e.name,value:n.replace(en,"\r\n")}}).get()}}),oe.param=function(t,n){var r,i=[],o=function(t,e){e=oe.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(t)||t.jquery&&!oe.isPlainObject(t))oe.each(t,function(){o(this.name,this.value)});else for(r in t)A(r,t[r],n,o);return i.join("&").replace(Ze,"+")},oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){oe.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),oe.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var on,sn,an=oe.now(),un=/\?/,cn=/#.*$/,ln=/([?&])_=[^&]*/,fn=/^(.*?):[ \t]*([^\r\n]*)$/gm,pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,hn=/^(?:GET|HEAD)$/,dn=/^\/\//,gn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,mn=oe.fn.load,vn={},yn={},bn="*/".concat("*");try{sn=J.href}catch(xn){sn=W.createElement("a"),sn.href="",sn=sn.href}on=gn.exec(sn.toLowerCase())||[],oe.fn.load=function(t,n,r){if("string"!=typeof t&&mn)return mn.apply(this,arguments);var i,o,s,a=this,u=t.indexOf(" ");return u>=0&&(i=t.slice(u),t=t.slice(0,u)),oe.isFunction(n)?(r=n,n=e):n&&"object"==typeof n&&(o="POST"),a.length>0&&oe.ajax({url:t,type:o,dataType:"html",data:n}).done(function(t){s=arguments,a.html(i?oe("<div>").append(oe.parseHTML(t)).find(i):t)}).complete(r&&function(t,e){a.each(r,s||[t.responseText,e,t])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){oe.fn[e]=function(t){return this.on(e,t)}}),oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:sn,type:"GET",isLocal:pn.test(on[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,oe.ajaxSettings),e):j(oe.ajaxSettings,t)},ajaxPrefilter:C(vn),ajaxTransport:C(yn),ajax:function(t,n){function r(t,n,r,a){var c,f,y,b,w,_=n;2!==x&&(x=2,u&&clearTimeout(u),i=e,s=a||"",S.readyState=t>0?4:0,c=t>=200&&300>t||304===t,r&&(b=O(p,S,r)),b=I(p,b,S,c),c?(p.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),w=S.getResponseHeader("etag"),w&&(oe.etag[o]=w)),204===t?_="nocontent":304===t?_="notmodified":(_=b.state,f=b.data,y=b.error,c=!y)):(y=_,(t||!_)&&(_="error",0>t&&(t=0))),S.status=t,S.statusText=(n||_)+"",c?g.resolveWith(h,[f,_,S]):g.rejectWith(h,[S,_,y]),S.statusCode(v),v=e,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?f:y]),m.fireWith(h,[S,_]),l&&(d.trigger("ajaxComplete",[S,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var i,o,s,a,u,c,l,f,p=oe.ajaxSetup({},n),h=p.context||p,d=p.context&&(h.nodeType||h.jquery)?oe(h):oe.event,g=oe.Deferred(),m=oe.Callbacks("once memory"),v=p.statusCode||{},y={},b={},x=0,w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=fn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return x||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else S.always(t[S.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),r(0,e),this}};if(g.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,p.url=((t||p.url||sn)+"").replace(cn,"").replace(dn,on[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(ae)||[""],null==p.crossDomain&&(c=gn.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]===on[1]&&c[2]===on[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(on[3]||("http:"===on[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),T(vn,p,n,S),2===x)return S;l=p.global,l&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!hn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(un.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=ln.test(o)?o.replace(ln,"$1_="+an++):o+(un.test(o)?"&":"?")+"_="+an++)),p.ifModified&&(oe.lastModified[o]&&S.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&S.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+bn+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(h,S,p)===!1||2===x))return S.abort();w="abort";for(f in{success:1,error:1,complete:1})S[f](p[f]);if(i=T(yn,p,n,S)){S.readyState=1,l&&d.trigger("ajaxSend",[S,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},p.timeout));try{x=1,i.send(y,r)}catch(_){if(!(2>x))throw _;r(-1,_)}}else r(-1,"No Transport");return S},getJSON:function(t,e,n){return oe.get(t,e,n,"json")},getScript:function(t,n){return oe.get(t,e,n,"script")}}),oe.each(["get","post"],function(t,n){oe[n]=function(t,r,i,o){return oe.isFunction(r)&&(o=o||i,i=r,r=e),oe.ajax({url:t,type:n,dataType:o,data:r,success:i})}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return oe.globalEval(t),t}}}),oe.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),oe.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=oe("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),W.head.appendChild(e[0])},abort:function(){n&&n()}}}});var wn=[],Sn=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=wn.pop()||oe.expando+"_"+an++;return this[t]=!0,t}}),oe.ajaxPrefilter("json jsonp",function(n,r,i){var o,s,a,u=n.jsonp!==!1&&(Sn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=oe.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Sn,"$1"+o):n.jsonp!==!1&&(n.url+=(un.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},i.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=r.jsonpCallback,wn.push(o)),a&&oe.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0}),oe.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var _n=oe.ajaxSettings.xhr(),kn={0:200,1223:204},En=0,Nn={};t.ActiveXObject&&oe(t).on("unload",function(){for(var t in Nn)Nn[t]();Nn=e}),oe.support.cors=!!_n&&"withCredentials"in _n,oe.support.ajax=_n=!!_n,oe.ajaxTransport(function(t){var n;return oe.support.cors||_n&&!t.crossDomain?{send:function(r,i){var o,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(t){return function(){n&&(delete Nn[s],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?i(a.status||404,a.statusText):i(kn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=Nn[s=En++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:void 0});var An,Cn,Tn=/^(?:toggle|show|hide)$/,jn=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),On=/queueHooks$/,In=[z],Ln={"*":[function(t,e){var n,r,i=this.createTween(t,e),o=jn.exec(e),s=i.cur(),a=+s||0,u=1,c=20;if(o){if(n=+o[2],r=o[3]||(oe.cssNumber[t]?"":"px"),"px"!==r&&a){a=oe.css(i.elem,t,!0)||n||1;do u=u||".5",a/=u,oe.style(i.elem,t,a+r);while(u!==(u=i.cur()/s)&&1!==u&&--c)}i.unit=r,i.start=a,i.end=o[1]?a+(o[1]+1)*n:n}return i}]};oe.Animation=oe.extend(q,{tweener:function(t,e){oe.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],Ln[n]=Ln[n]||[],Ln[n].unshift(e)},prefilter:function(t,e){e?In.unshift(t):In.push(t)}}),oe.Tween=D,D.prototype={constructor:D,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,n=D.propHooks[this.prop];return this.pos=e=this.options.duration?oe.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=oe.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){oe.fx.step[t.prop]?oe.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[oe.cssProps[t.prop]]||oe.cssHooks[t.prop])?oe.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},oe.each(["toggle","show","hide"],function(t,e){var n=oe.fn[e];oe.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,r,i)}}),oe.fn.extend({fadeTo:function(t,e,n,r){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=oe.isEmptyObject(t),o=oe.speed(e,n,r),s=function(){var e=q(this,oe.extend({},t),o);s.finish=function(){e.stop(!0)},(i||me.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=oe.timers,s=me.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&On.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(r),e=!1,o.splice(n,1));(e||!r)&&oe.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=me.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=oe.timers,s=r?r.length:0;for(n.finish=!0,oe.queue(this,t,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),oe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){oe.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),oe.speed=function(t,e,n){var r=t&&"object"==typeof t?oe.extend({},t):{complete:n||!n&&e||oe.isFunction(t)&&t,duration:t,easing:n&&e||e&&!oe.isFunction(e)&&e};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},oe.timers=[],oe.fx=D.prototype.init,oe.fx.tick=function(){var t,n=oe.timers,r=0;for(An=oe.now();r<n.length;r++)t=n[r],t()||n[r]!==t||n.splice(r--,1);n.length||oe.fx.stop(),An=e},oe.fx.timer=function(t){t()&&oe.timers.push(t)&&oe.fx.start()},oe.fx.interval=13,oe.fx.start=function(){Cn||(Cn=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(Cn),Cn=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fx.step={},oe.expr&&oe.expr.filters&&(oe.expr.filters.animated=function(t){return oe.grep(oe.timers,function(e){return t===e.elem}).length}),oe.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){oe.offset.setOffset(this,t,e)});var n,r,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return n=s.documentElement,oe.contains(n,i)?(typeof i.getBoundingClientRect!==$&&(o=i.getBoundingClientRect()),r=P(s),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o},oe.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=oe.css(t,"position"),f=oe(t),p={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=oe.css(t,"top"),u=oe.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),oe.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+i),"using"in e?e.using.call(t,p):f.css(p)}},oe.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),oe.nodeName(t[0],"html")||(r=t.offset()),r.top+=oe.css(t[0],"borderTopWidth",!0),r.left+=oe.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-oe.css(n,"marginTop",!0),left:e.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||H;t&&!oe.nodeName(t,"html")&&"static"===oe.css(t,"position");)t=t.offsetParent;return t||H})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;oe.fn[n]=function(o){return oe.access(this,function(n,o,s){var a=P(n);return s===e?a?a[r]:n[o]:(a?a.scrollTo(i?t.pageXOffset:s,i?s:t.pageYOffset):n[o]=s,void 0)},n,o,arguments.length,null)}}),oe.each({Height:"height",Width:"width"},function(t,n){oe.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,i){oe.fn[i]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(i===!0||o===!0?"margin":"border");return oe.access(this,function(n,r,i){var o;return oe.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):i===e?oe.css(n,r,a):oe.style(n,r,i,a)},n,s?i:e,s,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=oe:"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=oe)}(window),function(t){t.showMessage=function(e,n){var r=jQuery.extend({id:"sliding_message_box",position:"bottom",size:"90",backgroundColor:"rgb(143, 177, 240)",delay:1500,speed:500,fontSize:"30px"},n),i=t("#"+r.id);0==i.length&&(i=t("<div></div>").attr("id",r.id),i.css({"-moz-transition":"bottom "+r.speed+"ms","-webkit-transition":"bottom "+r.speed+"ms",bottom:"-"+r.size+"px","z-index":"999","background-color":r.backgroundColor,"text-align":"center",position:"fixed",left:"0",width:"100%","line-height":r.size+"px","font-size":r.fontSize}),t("body").append(i)),setTimeout(function(){i.html(e),i.css("bottom",0),setTimeout(function(){i.css("bottom","-"+r.size+"px")},r.delay)},10)}}(jQuery);var ui={};!function(t){function e(){this.callbacks={}}t.Emitter=e,e.prototype.on=function(t,e){return(this.callbacks[t]=this.callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this.on(t,n),this},e.prototype.off=function(t,e){var n=this.callbacks[t];if(!n)return this;if(1==arguments.length)return delete this.callbacks[t],this;var r=n.indexOf(e);return n.splice(r,1),this},e.prototype.emit=function(t){var e=[].slice.call(arguments,1),n=this.callbacks[t];if(n)for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e);return this}}(ui),function(t,e){function n(t){ui.Emitter.call(this);var n=this;t=t||{},this.closable=t.closable,this.el=$(e),this.el.appendTo("body"),this.closable&&this.el.click(function(){n.emit("close"),n.hide()})}t.Overlay=n,t.overlay=function(t){return new n(t)},n.prototype=new ui.Emitter,n.prototype.show=function(){return this.emit("show"),this.el.removeClass("hide"),this},n.prototype.hide=function(){var t=this;return this.emit("hide"),this.el.addClass("hide"),setTimeout(function(){t.el.remove()},2e3),this}}(ui,'<div id="overlay" class="hide"></div>'),function(t,e){function n(t){ui.Emitter.call(this),t=t||{},this.template=e,this.el=$(this.template),this.render(t),r&&!r.hiding&&r.hide(),n.effect&&this.effect(n.effect),r=this}var r;t.Dialog=n,t.dialog=function(t,e){switch(arguments.length){case 2:return new n({title:t,message:e});case 1:return new n({message:t})}},n.prototype=new ui.Emitter,n.prototype.render=function(t){var e=this.el,n=t.title,r=t.message,i=this;e.find(".close").click(function(){return i.emit("close"),i.hide(),!1}),e.find("h1").text(n),n||e.find("h1").remove(),"string"==typeof r?e.find("p").text(r):r&&e.find("p").replaceWith(r.el||r),setTimeout(function(){e.removeClass("hide")},0)},n.prototype.closable=function(){return this.el.addClass("closable"),this},n.prototype.effect=function(t){return this._effect=t,this.el.addClass(t),this},n.prototype.modal=function(){return this._overlay=ui.overlay(),this},n.prototype.overlay=function(){var t=this,e=ui.overlay({closable:!0});return e.on("hide",function(){t.closedOverlay=!0,t.hide()}),e.on("close",function(){t.emit("close")}),this._overlay=e,this},n.prototype.escapable=function(){var t=this;$(document).bind("keydown.dialog",function(e){27==e.which&&($(this).unbind("keydown.dialog"),t.emit("escape"),t.hide())})},n.prototype.show=function(){var t=this._overlay;return this.emit("show"),t&&(t.show(),this.el.addClass("modal")),(!t||t.closable)&&this.escapable(),this.el.appendTo("body"),this.el.css({marginLeft:-(this.el.width()/2)+"px"}),this.emit("show"),this},n.prototype.hide=function(t){var e=this;return this.hiding=!0,t?(setTimeout(function(){e.hide()},t),this):(this.el.addClass("hide"),this._effect?setTimeout(function(){e.remove()},500):e.remove(),this._overlay&&!e.closedOverlay&&this._overlay.hide(),this)},n.prototype.remove=function(){return this.emit("hide"),this.el.remove(),$(document).unbind("keydown.dialog"),this}}(ui,'<div id="dialog" class="hide">\n  <div class="content">\n    <h1>Title</h1>\n    <a href="#" class="close"></a>\n    <p>Message</p>\n  </div>\n</div>'),function(t,e,n){function r(n,o){if(!e[n]){if(!t[n]){var s="function"==typeof require&&require;if(!o&&s)return s(n,!0);if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var a=e[n]={exports:{}};t[n][0].call(a.exports,function(e){var i=t[n][1][e];return r(i?i:e)},a,a.exports)}return e[n].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){n.stanza=t("./lib/stanza/stanza"),n.Stream=t("./lib/stanza/stream").Stream,n.Message=t("./lib/stanza/message").Message,n.Presence=t("./lib/stanza/presence").Presence,n.Iq=t("./lib/stanza/iq").Iq,n.SOX=t("./lib/stanza/sox"),n.Jingle=t("./lib/stanza/jingle"),n.RTP=t("./lib/stanza/rtp.js"),n.ICEUDP=t("./lib/stanza/iceUdp.js"),n.Client=t("./lib/client").Client,n.createClient=function(e){var r=new n.Client(e);return r.use(t("./lib/plugins/disco").init),r.use(t("./lib/plugins/chatstates").init),r.use(t("./lib/plugins/delayed").init),r.use(t("./lib/plugins/forwarding").init),r.use(t("./lib/plugins/carbons").init),r.use(t("./lib/plugins/time").init),r.use(t("./lib/plugins/mam").init),r.use(t("./lib/plugins/receipts").init),r.use(t("./lib/plugins/idle").init),r.use(t("./lib/plugins/correction").init),r.use(t("./lib/plugins/attention").init),r.use(t("./lib/plugins/version").init),r.use(t("./lib/plugins/webrtc").init),r},window.XMPP=n},{"./lib/stanza/rtp.js":2,"./lib/stanza/iceUdp.js":3,"./lib/stanza/stanza":4,"./lib/stanza/stream":5,"./lib/stanza/message":6,"./lib/stanza/presence":7,"./lib/stanza/iq":8,"./lib/stanza/sox":9,"./lib/stanza/jingle":10,"./lib/client":11,"./lib/plugins/disco":12,"./lib/plugins/chatstates":13,"./lib/plugins/delayed":14,"./lib/plugins/forwarding":15,"./lib/plugins/carbons":16,"./lib/plugins/time":17,"./lib/plugins/mam":18,"./lib/plugins/receipts":19,"./lib/plugins/idle":20,"./lib/plugins/correction":21,"./lib/plugins/attention":22,"./lib/plugins/version":23,"./lib/plugins/webrtc":24}],5:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza");r.prototype={constructor:{value:r},_name:"stream",NS:"http://etherx.jabber.org/streams",EL:"stream",toString:i.toString,toJSON:i.toJSON,get lang(){return this.xml.getAttributeNS(i.XML_NS,"lang")||""},set lang(t){this.xml.setAttributeNS(i.XML_NS,"lang",t)},get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)},get version(){return this.xml.getAttribute("version")||"1.0"},set version(t){this.xml.setAttribute("version",t)},get to(){return this.xml.getAttribute("to")||""},set to(t){this.xml.setAttribute("to",t)},get from(){return this.xml.getAttribute("from")||""},set from(t){this.xml.setAttribute("from",t)}},n.Stream=r},{"./stanza":4}],8:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza");r.prototype={constructor:{value:r},_name:"iq",NS:"jabber:client",EL:"iq",toString:i.toString,toJSON:i.toJSON,resultReply:function(t){return t.to=this.from,t.id=this.id,t.type="result",new r(t)},errorReply:function(t){return t.to=this.from,t.id=this.id,t.type="error",new r(t)},get lang(){return this.xml.getAttributeNS(i.XML_NS,"lang")||""},set lang(t){this.xml.setAttributeNS(i.XML_NS,"lang",t)},get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)},get to(){return this.xml.getAttribute("to")||""},set to(t){this.xml.setAttribute("to",t)},get from(){return this.xml.getAttribute("from")||""},set from(t){this.xml.setAttribute("from",t)},get type(){return this.xml.getAttribute("type")||""},set type(t){this.xml.setAttribute("type",t)}},i.topLevel(r),n.Iq=r},{"./stanza":4}],13:[function(t,e,n){t("../stanza/chatstates"),n.init=function(t){t.disco.addFeature("","http://jabber.org/protocol/chatstates")}},{"../stanza/chatstates":25}],14:[function(t,e,n){t("../stanza/delayed"),n.init=function(t){t.disco.addFeature("","urn:xmpp:delay")}},{"../stanza/delayed":26}],15:[function(t,e,n){t("../stanza/forwarded"),n.init=function(t){t.disco.addFeature("","urn:xmpp:forward:0")}},{"../stanza/forwarded":27}],16:[function(t,e,n){t("../stanza/carbons"),n.init=function(t){t.disco.addFeature("","urn:xmpp:carbons:2"),t.enableCarbons=function(t){this.sendIq({type:"set",enableCarbons:!0},t)},t.disableCarbons=function(t){this.sendIq({type:"set",disableCarbons:!0},t)},t.on("message",function(e){return e._extensions.carbonSent?t.emit("carbon:sent",e):e._extensions.carbonReceived?t.emit("carbon:received",e):void 0})}},{"../stanza/carbons":28}],17:[function(t,e,n){t("../stanza/time"),n.init=function(t){t.disco.addFeature("","urn:xmpp:time"),t.getTime=function(t,e){this.sendIq({to:t,type:"get",time:!0},e)},t.on("iq:get:time",function(e){var n=new Date;t.sendIq(e.resultReply({time:{utc:n,tzo:n.getTimezoneOffset()}}))})}},{"../stanza/time":29}],18:[function(t,e,n){t("../stanza/mam"),n.init=function(t){t.disco.addFeature("","urn:xmpp:mam:tmp"),t.getHistory=function(t,e){var t=t||{},n=this.nextId(),r=this;t.queryid=n;var i=[];this.on("mam:"+n,"session",function(t){i.push(t)}),this.sendIq({type:"get",id:n,mamQuery:t},function(t){r.off("mam:"+n),t.mamQuery.results=i,(e||function(){})(t)})},t.on("message",function(e){e._extensions.mam&&t.emit("mam:"+e.mam.queryid,e)})}},{"../stanza/mam":30}],19:[function(t,e,n){t("../stanza/receipts"),n.init=function(t){t.disco.addFeature("","urn:xmpp:receipts"),t.on("message",function(e){var n={normal:!0,chat:!0,headline:!0};n[e.type]&&e.requestReceipt&&!e._extensions.receipt&&t.sendMessage({to:e.from,receipt:{id:e.id},id:e.id}),e._extensions.receipt&&t.emit("receipt:"+e.receipt.id)})}},{"../stanza/receipts":31}],20:[function(t,e,n){t("../stanza/idle"),n.init=function(t){t.disco.addFeature("","urn:xmpp:idle:0")}},{"../stanza/idle":32}],21:[function(t,e,n){t("../stanza/replace"),n.init=function(t){t.disco.addFeature("","urn:xmpp:message-correct:0"),t.on("message",function(e){e.replace&&t.emit("replace:"+e.id,e)})}},{"../stanza/replace":33}],22:[function(t,e,n){t("../stanza/attention"),n.init=function(t){t.disco.addFeature("","urn:xmpp:attention:0"),t.getAttention=function(e,n){n.to=e,n.type="headline",n.attention=!0,t.sendMessage(n)},t.on("message",function(e){e._extensions._attention&&t.emit("attention",e)})}},{"../stanza/attention":34}],23:[function(t,e,n){t("../stanza/version"),n.init=function(t){t.disco.addFeature("","jabber:iq:version"),t.on("iq:get:version",function(e){t.sendIq(e.resultReply({version:t.config.version||{name:"stanza.io"}}))}),t.getSoftwareVersion=function(t,e){this.sendIq({to:t,type:"get",version:{}},e)}}},{"../stanza/version":35}],36:[function(t,e,n){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var i=t("./sha"),o=t("./rng"),s=t("./md5"),a={sha1:{hex:i.hex_sha1,binary:i.b64_sha1,ascii:i.str_sha1},md5:{hex:s.hex_md5,binary:s.b64_md5,ascii:s.any_md5}};n.createHash=function(t){t=t||"sha1",a[t]||r("algorithm:",t,"is not yet supported");var e="",n=a[t];return{update:function(t){return e+=t,this},digest:function(i){i=i||"binary";var o;(o=n[i])||r("encoding:",i,"is not yet supported for algorithm",t);var s=o(e);return e=null,s}}},n.randomBytes=function(t,e){if(!e||!e.call)return o(t);try{e.call(this,void 0,o(t))}catch(n){e(n)}},["createCredentials","createHmac","createCypher","createCypheriv","createDecipher","createDecipheriv","createSign","createVerify","createDeffieHellman","pbkdf2"].forEach(function(t){n[t]=function(){r("sorry,",t,"is not implemented yet")
}})},{"./sha":37,"./rng":38,"./md5":39}],37:[function(t,e,n){function r(t){return v(c(g(t),t.length*w))}function i(t){return y(c(g(t),t.length*w))}function o(t){return m(c(g(t),t.length*w))}function s(t,e){return v(p(t,e))}function a(t,e){return y(p(t,e))}function u(t,e){return m(p(t,e))}function c(t,e){t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var n=Array(80),r=1732584193,i=-271733879,o=-1732584194,s=271733878,a=-1009589776,u=0;u<t.length;u+=16){for(var c=r,p=i,g=o,m=s,v=a,y=0;80>y;y++){n[y]=16>y?t[u+y]:d(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var b=h(h(d(r,5),l(y,i,o,s)),h(h(a,n[y]),f(y)));a=s,s=o,o=d(i,30),i=r,r=b}r=h(r,c),i=h(i,p),o=h(o,g),s=h(s,m),a=h(a,v)}return Array(r,i,o,s,a)}function l(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function f(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function p(t,e){var n=g(t);n.length>16&&(n=c(n,t.length*w));for(var r=Array(16),i=Array(16),o=0;16>o;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var s=c(r.concat(g(e)),512+e.length*w);return c(i.concat(s),672)}function h(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function d(t,e){return t<<e|t>>>32-e}function g(t){for(var e=Array(),n=(1<<w)-1,r=0;r<t.length*w;r+=w)e[r>>5]|=(t.charCodeAt(r/w)&n)<<32-w-r%32;return e}function m(t){for(var e="",n=(1<<w)-1,r=0;r<32*t.length;r+=w)e+=String.fromCharCode(t[r>>5]>>>32-w-r%32&n);return e}function v(t){for(var e=b?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(15&t[r>>2]>>8*(3-r%4)+4)+e.charAt(15&t[r>>2]>>8*(3-r%4));return n}function y(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0;r<4*t.length;r+=3)for(var i=(255&t[r>>2]>>8*(3-r%4))<<16|(255&t[r+1>>2]>>8*(3-(r+1)%4))<<8|255&t[r+2>>2]>>8*(3-(r+2)%4),o=0;4>o;o++)n+=8*r+6*o>32*t.length?x:e.charAt(63&i>>6*(3-o));return n}n.hex_sha1=r,n.b64_sha1=i,n.str_sha1=o,n.hex_hmac_sha1=s,n.b64_hmac_sha1=a,n.str_hmac_sha1=u;var b=0,x="",w=8},{}],38:[function(t,e){!function(){var t,n,r=this;if(t=function(t){for(var e,e,n=new Array(t),r=0;t>r;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=255&e>>>((3&r)<<3);return n},r.crypto&&crypto.getRandomValues){var i=new Uint32Array(4);n=function(t){var e=new Array(t);crypto.getRandomValues(i);for(var n=0;t>n;n++)e[n]=255&i[n>>2]>>>8*(3&n);return e}}e.exports=n||t}()},{}],39:[function(t,e,n){function r(t){return a(s(l(t)))}function i(t){return u(s(l(t)))}function o(t,e){return c(s(l(t)),e)}function s(t){return p(h(f(t),8*t.length))}function a(t){try{}catch(e){w=0}for(var n,r=w?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<t.length;o++)n=t.charCodeAt(o),i+=r.charAt(15&n>>>4)+r.charAt(15&n);return i}function u(t){try{}catch(e){S=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i=t.length,o=0;i>o;o+=3)for(var s=t.charCodeAt(o)<<16|(i>o+1?t.charCodeAt(o+1)<<8:0)|(i>o+2?t.charCodeAt(o+2):0),a=0;4>a;a++)r+=8*o+6*a>8*t.length?S:n.charAt(63&s>>>6*(3-a));return r}function c(t,e){var n,r,i,o,s,a=e.length,u=Array(Math.ceil(t.length/2));for(n=0;n<u.length;n++)u[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),l=Array(c);for(r=0;c>r;r++){for(s=Array(),o=0,n=0;n<u.length;n++)o=(o<<16)+u[n],i=Math.floor(o/a),o-=i*a,(s.length>0||i>0)&&(s[s.length]=i);l[r]=o,u=s}var f="";for(n=l.length-1;n>=0;n--)f+=e.charAt(l[n]);return f}function l(t){for(var e,n,r="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),i++),127>=e?r+=String.fromCharCode(e):2047>=e?r+=String.fromCharCode(192|31&e>>>6,128|63&e):65535>=e?r+=String.fromCharCode(224|15&e>>>12,128|63&e>>>6,128|63&e):2097151>=e&&(r+=String.fromCharCode(240|7&e>>>18,128|63&e>>>12,128|63&e>>>6,128|63&e));return r}function f(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(var n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function p(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(255&t[n>>5]>>>n%32);return e}function h(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,u=r,c=i,l=o;n=g(n,r,i,o,t[s+0],7,-680876936),o=g(o,n,r,i,t[s+1],12,-389564586),i=g(i,o,n,r,t[s+2],17,606105819),r=g(r,i,o,n,t[s+3],22,-1044525330),n=g(n,r,i,o,t[s+4],7,-176418897),o=g(o,n,r,i,t[s+5],12,1200080426),i=g(i,o,n,r,t[s+6],17,-1473231341),r=g(r,i,o,n,t[s+7],22,-45705983),n=g(n,r,i,o,t[s+8],7,1770035416),o=g(o,n,r,i,t[s+9],12,-1958414417),i=g(i,o,n,r,t[s+10],17,-42063),r=g(r,i,o,n,t[s+11],22,-1990404162),n=g(n,r,i,o,t[s+12],7,1804603682),o=g(o,n,r,i,t[s+13],12,-40341101),i=g(i,o,n,r,t[s+14],17,-1502002290),r=g(r,i,o,n,t[s+15],22,1236535329),n=m(n,r,i,o,t[s+1],5,-165796510),o=m(o,n,r,i,t[s+6],9,-1069501632),i=m(i,o,n,r,t[s+11],14,643717713),r=m(r,i,o,n,t[s+0],20,-373897302),n=m(n,r,i,o,t[s+5],5,-701558691),o=m(o,n,r,i,t[s+10],9,38016083),i=m(i,o,n,r,t[s+15],14,-660478335),r=m(r,i,o,n,t[s+4],20,-405537848),n=m(n,r,i,o,t[s+9],5,568446438),o=m(o,n,r,i,t[s+14],9,-1019803690),i=m(i,o,n,r,t[s+3],14,-187363961),r=m(r,i,o,n,t[s+8],20,1163531501),n=m(n,r,i,o,t[s+13],5,-1444681467),o=m(o,n,r,i,t[s+2],9,-51403784),i=m(i,o,n,r,t[s+7],14,1735328473),r=m(r,i,o,n,t[s+12],20,-1926607734),n=v(n,r,i,o,t[s+5],4,-378558),o=v(o,n,r,i,t[s+8],11,-2022574463),i=v(i,o,n,r,t[s+11],16,1839030562),r=v(r,i,o,n,t[s+14],23,-35309556),n=v(n,r,i,o,t[s+1],4,-1530992060),o=v(o,n,r,i,t[s+4],11,1272893353),i=v(i,o,n,r,t[s+7],16,-155497632),r=v(r,i,o,n,t[s+10],23,-1094730640),n=v(n,r,i,o,t[s+13],4,681279174),o=v(o,n,r,i,t[s+0],11,-358537222),i=v(i,o,n,r,t[s+3],16,-722521979),r=v(r,i,o,n,t[s+6],23,76029189),n=v(n,r,i,o,t[s+9],4,-640364487),o=v(o,n,r,i,t[s+12],11,-421815835),i=v(i,o,n,r,t[s+15],16,530742520),r=v(r,i,o,n,t[s+2],23,-995338651),n=y(n,r,i,o,t[s+0],6,-198630844),o=y(o,n,r,i,t[s+7],10,1126891415),i=y(i,o,n,r,t[s+14],15,-1416354905),r=y(r,i,o,n,t[s+5],21,-57434055),n=y(n,r,i,o,t[s+12],6,1700485571),o=y(o,n,r,i,t[s+3],10,-1894986606),i=y(i,o,n,r,t[s+10],15,-1051523),r=y(r,i,o,n,t[s+1],21,-2054922799),n=y(n,r,i,o,t[s+8],6,1873313359),o=y(o,n,r,i,t[s+15],10,-30611744),i=y(i,o,n,r,t[s+6],15,-1560198380),r=y(r,i,o,n,t[s+13],21,1309151649),n=y(n,r,i,o,t[s+4],6,-145523070),o=y(o,n,r,i,t[s+11],10,-1120210379),i=y(i,o,n,r,t[s+2],15,718787259),r=y(r,i,o,n,t[s+9],21,-343485551),n=b(n,a),r=b(r,u),i=b(i,c),o=b(o,l)}return Array(n,r,i,o)}function d(t,e,n,r,i,o){return b(x(b(b(e,t),b(r,o)),i),n)}function g(t,e,n,r,i,o,s){return d(e&n|~e&r,t,e,i,o,s)}function m(t,e,n,r,i,o,s){return d(e&r|n&~r,t,e,i,o,s)}function v(t,e,n,r,i,o,s){return d(e^n^r,t,e,i,o,s)}function y(t,e,n,r,i,o,s){return d(n^(e|~r),t,e,i,o,s)}function b(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function x(t,e){return t<<e|t>>>32-e}var w=0,S="";n.hex_md5=r,n.b64_md5=i,n.any_md5=o},{}],11:[function(t,e,n){!function(){function e(t){var e=this;r.call(this),this.config=t||{},this._idPrefix=o.v4(),this._idCount=0,this.negotiatedFeatures={},this.featureOrder=["sasl","streamManagement","bind","streamManagement","session"],this.features={},this.conn=new l,this.conn.on("*",function(t,n){e.emit(t,n)}),this.on("streamFeatures",function(t){var n=[function(e){e(null,t)}],r=["setup"];e.featureOrder.forEach(function(i){t._extensions[i]&&!e.negotiatedFeatures[i]&&(n.push(function(t,n){e.negotiatedFeatures[i]?n(null,t):e.features[i](t,n)}),r.push(i))}),i.waterfall(n,function(t){"restart"===t?e.conn.restart():"disconnect"===t&&e.disconnect()})}),this.features.sasl=function(t,n){e.on("sasl:success","sasl",function(){e.negotiatedFeatures.sasl=!0,e.releaseGroup("sasl"),n("restart")}),e.on("sasl:failure","sasl",function(){e.releaseGroup("sasl"),n("disconnect")}),e.on("sasl:abort","sasl",function(){e.releaseGroup("sasl"),n("disconnect")}),e.send(new s.Auth({mechanism:"PLAIN",value:"\0"+e.config.username+"\0"+e.config.password}))},this.features.bind=function(t,n){e.sendIq({type:"set",bind:{resource:e.config.resource}},function(r){e.negotiatedFeatures.bind=!0,e.emit("session:bound",r.bind.jid),e.jid=r.bind.jid,t._extensions.session||(e.sessionStarted=!0,e.emit("session:started",r.bind.jid)),n(null,t)})},this.features.session=function(t,n){e.sendIq({type:"set",session:{}},function(){e.negotiatedFeatures.session=!0,e.sessionStarted=!0,e.emit("session:started"),n(null,t)})},this.features.streamManagement=function(t,n){e.on("stream:management:enabled","sm",function(r){e.conn.sm.enabled(r),e.negotiatedFeatures.streamManagement=!0,e.on("stream:management:ack","connection",function(t){e.conn.sm.process(t)}),e.on("stream:management:request","connection",function(){e.conn.sm.ack()}),e.releaseGroup("sm"),n(null,t)}),e.on("stream:management:resumed","sm",function(r){e.conn.sm.enabled(r),e.negotiatedFeatures.streamManagement=!0,e.negotiatedFeatures.bind=!0,e.sessionStarted=!0,e.on("stream:management:ack","connection",function(t){e.conn.sm.process(t)}),e.on("stream:management:request","connection",function(){e.conn.sm.ack()}),e.releaseGroup("sm"),n(null,t)}),e.on("stream:management:failed","sm",function(){e.conn.sm.failed(),e.releaseGroup("sm"),n(null,t)}),e.conn.sm.id?e.conn.sm.id&&e.conn.sm.allowResume?e.conn.sm.resume():n(null,t):e.negotiatedFeatures.bind?e.conn.sm.enable():n(null,t)},this.on("disconnected",function(){e.sessionStarted=!1,e.negotiatedFeatures.sasl=!1,e.negotiatedFeatures.streamManagement=!1,e.negotiatedFeatures.bind=!1,e.releaseGroup("connection")}),this.on("iq:set:roster",function(t){e.emit("roster:update",t),e.sendIq({id:t.id,type:"result"})}),this.on("iq",function(t){var n=t.type,r=Object.keys(t._extensions),i=t.xml.childNodes;if("get"===t.type||"set"===t.type){if(1!=i.length)return client.sendIq({id:t.id,type:"error",error:{type:"modify",condition:"bad-request"}});if(!r.length)return client.sendIq({id:t.id,type:"error",error:{type:"cancel",condition:"feature-not-implemented"}});var o="iq:"+n+":"+r[0];e.callbacks[o]?e.emit(o,t):client.sendIq({id:t.id,type:"error",error:{type:"cancel",condition:"feature-not-implemented"}})}}),this.on("message",function(t){Object.keys(t.$body).length&&("chat"===t.type||"normal"===t.type?e.emit("chat",t):"groupchat"===t.type&&e.emit("groupchat",t))}),this.on("presence",function(t){var n=t.type||"available";e.emit(n,t)})}var r=t("wildemitter"),i=(t("lodash"),t("async")),o=t("node-uuid"),s=(t("./stanza/stanza"),t("./stanza/sasl")),a=t("./stanza/message").Message,u=t("./stanza/presence").Presence,c=t("./stanza/iq").Iq,l=t("./websocket").WSConnection;t("./stanza/stream"),t("./stanza/sm"),t("./stanza/roster"),t("./stanza/error"),t("./stanza/streamError"),t("./stanza/streamFeatures"),t("./stanza/bind"),t("./stanza/session"),e.prototype=Object.create(r.prototype,{constructor:{value:e}}),e.prototype.__defineGetter__("stream",function(){return this.conn?this.conn.stream:void 0}),e.prototype.use=function(t){t(this)},e.prototype.nextId=function(){return this._idPrefix+"-"+(this._idCount++).toString(16)},e.prototype.connect=function(){this.conn.connect(this.config)},e.prototype.disconnect=function(){this.sessionStarted&&(this.emit("session:end"),this.releaseGroup("session")),this.sessionStarted=!1,this.releaseGroup("connection"),this.conn&&this.conn.disconnect()},e.prototype.send=function(t){this.conn.send(t)},e.prototype.sendMessage=function(t){t=t||{},t.id||(t.id=this.nextId()),this.send(new a(t))},e.prototype.sendPresence=function(t){t=t||{},t.id||(t.id=this.nextId()),this.send(new u(t))},e.prototype.sendIq=function(t,e){t=t||{},t.id||(t.id=this.nextId()),("get"===t.type||"set"===t.type)&&this.once("id:"+t.id,e||function(){}),this.send(new c(t))},e.prototype.getRoster=function(t){var e=this;this.sendIq({type:"get",roster:{ver:e.config.rosterVer}},function(n){"result"===n.type&&n.roster.ver&&(e.config.rosterVer=n.roster.ver),t&&t(n)})},e.prototype.updateRosterItem=function(t,e){this.sendIq({type:"set",roster:{items:[t]}},e)},e.prototype.removeRosterItem=function(t,e){this.updateRosterItem({jid:t,subscription:"remove"},e)},e.prototype.subscribe=function(t){this.sendPresence({type:"subscribe",to:t})},e.prototype.unsubscribe=function(t){this.sendPresence({type:"unsubscribe",to:t})},e.prototype.acceptSubscription=function(t){this.sendPresence({type:"subscribed",to:t})},e.prototype.denySubscription=function(t){this.sendPresence({type:"unsubscribed",to:t})},n.Client=e}()},{"./stanza/stanza":4,"./stanza/sasl":40,"./stanza/message":6,"./stanza/presence":7,"./stanza/iq":8,"./websocket":41,"./stanza/stream":5,"./stanza/sm":42,"./stanza/roster":43,"./stanza/error":44,"./stanza/streamError":45,"./stanza/streamFeatures":46,"./stanza/bind":47,"./stanza/session":48,wildemitter:49,lodash:50,"node-uuid":51,async:52}],42:[function(t,e,n){function r(t,e){return f.init(this,e,t)}function i(t,e){return f.init(this,e,t)}function o(t,e){return f.init(this,e,t)}function s(t,e){return f.init(this,e,t)}function a(t,e){return f.init(this,e,t)}function u(t,e){return f.init(this,e,t)}function c(t,e){return f.init(this,e,t)}function l(t,e){return f.init(this,e,t)}var f=t("./stanza"),p=t("./streamFeatures").StreamFeatures;r.prototype={constructor:{value:r},_name:"streamManagement",NS:"urn:xmpp:sm:3",EL:"sm",toString:f.toString,toJSON:f.toJSON},i.prototype={constructor:{value:i},_name:"smEnable",_eventname:"stream:management:enable",NS:"urn:xmpp:sm:3",EL:"enable",toString:f.toString,toJSON:f.toJSON,get resume(){var t=this.xml.getAttribute("resume");return"true"==t||"1"==t},set resume(t){t&&this.xml.setAttribute("resume","true")}},o.prototype={constructor:{value:o},_name:"smEnabled",_eventname:"stream:management:enabled",NS:"urn:xmpp:sm:3",EL:"enabled",toString:f.toString,toJSON:f.toJSON,get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)},get resume(){var t=this.xml.getAttribute("resume");return"true"==t||"1"==t},set resume(t){t&&this.xml.setAttribute("resume","true")}},s.prototype={constructor:{value:s},_name:"smResume",_eventname:"stream:management:resume",NS:"urn:xmpp:sm:3",EL:"resume",toString:f.toString,toJSON:f.toJSON,get h(){return parseInt(this.xml.getAttribute("h")||"0",10)},set h(t){this.xml.setAttribute("h",""+t)},get previd(){return this.xml.getAttribute("previd")||""},set previd(t){this.xml.setAttribute("previd",t)}},a.prototype={constructor:{value:a},_name:"smResumed",_eventname:"stream:management:resumed",NS:"urn:xmpp:sm:3",EL:"resumed",toString:f.toString,toJSON:f.toJSON,get h(){return parseInt(this.xml.getAttribute("h")||"0",10)},set h(t){this.xml.setAttribute("h",""+t)},get previd(){return this.xml.getAttribute("previd")||""},set previd(t){this.xml.setAttribute("previd",t)}},u.prototype={constructor:{value:u},_name:"smFailed",_eventname:"stream:management:failed",NS:"urn:xmpp:sm:3",EL:"failed",toString:f.toString,toJSON:f.toJSON},c.prototype={constructor:{value:c},_name:"smAck",_eventname:"stream:management:ack",NS:"urn:xmpp:sm:3",EL:"a",toString:f.toString,toJSON:f.toJSON,get h(){return parseInt(this.xml.getAttribute("h")||"0",10)},set h(t){this.xml.setAttribute("h",""+t)}},l.prototype={constructor:{value:l},_name:"smRequest",_eventname:"stream:management:request",NS:"urn:xmpp:sm:3",EL:"r",toString:f.toString,toJSON:f.toJSON},f.extend(p,r),f.topLevel(c),f.topLevel(l),f.topLevel(i),f.topLevel(o),f.topLevel(s),f.topLevel(a),f.topLevel(u),n.SMFeature=r,n.Enable=i,n.Enabled=o,n.Resume=s,n.Resumed=a,n.Failed=u,n.Ack=c,n.Request=l},{"./stanza":4,"./streamFeatures":46}],46:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza");r.prototype={constructor:{value:r},_name:"streamFeatures",NS:"http://etherx.jabber.org/streams",EL:"features",_FEATURES:[],toString:i.toString,toJSON:i.toJSON,get features(){return this._extensions}},i.topLevel(r),n.StreamFeatures=r},{"./stanza":4}],47:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./iq").Iq,s=t("./streamFeatures").StreamFeatures;r.prototype={constructor:{value:r},_name:"bind",NS:"urn:ietf:params:xml:ns:xmpp-bind",EL:"bind",toString:i.toString,toJSON:i.toJSON,get resource(){return i.getSubText(this.xml,this.NS,"resource")},set resource(){i.setSubText(this.xml,this.NS,"resource")},get jid(){return i.getSubText(this.xml,this.NS,"jid")},set jid(){i.setSubText(this.xml,this.NS,"jid")}},i.extend(o,r),i.extend(s,r),n.Bind=r},{"./stanza":4,"./iq":8,"./streamFeatures":46}],48:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./iq").Iq,s=t("./streamFeatures").StreamFeatures;r.prototype={constructor:{value:r},_name:"session",NS:"urn:ietf:params:xml:ns:xmpp-session",EL:"session",toString:i.toString,toJSON:i.toJSON},i.extend(s,r),i.extend(o,r),n.Session=r},{"./stanza":4,"./iq":8,"./streamFeatures":46}],53:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./presence").Presence,s=t("./streamFeatures").StreamFeatures;r.prototype={constructor:{value:r},NS:"http://jabber.org/protocol/caps",EL:"c",_name:"caps",toString:i.toString,toJSON:i.toJSON,get ver(){return this.xml.getAttribute("ver")||""},set ver(t){this.xml.setAttribute("ver",t)},get node(){return this.xml.getAttribute("node")||""},set node(t){this.xml.setAttribute("node",t)},get hash(){return this.xml.getAttribute("hash")||""},set hash(t){this.xml.setAttribute("hash",t)},get ext(){return this.xml.getAttribute("ext")||""},set ext(t){this.xml.setAttribute("ext",t)}},i.extend(o,r),i.extend(s,r),n.Caps=r},{"./stanza":4,"./presence":7,"./streamFeatures":46}],25:[function(t){function e(t,e){return s.init(this,e,t)}function n(t,e){return s.init(this,e,t)}function r(t,e){return s.init(this,e,t)}function i(t,e){return s.init(this,e,t)}function o(t,e){return s.init(this,e,t)}var s=t("./stanza"),a=t("./message").Message;e.prototype={constructor:{value:e},NS:"http://jabber.org/protocol/chatstates",EL:"active",_name:"chatStateActive",_eventname:"chat:active",toString:s.toString,toJSON:void 0},n.prototype={constructor:{value:n},NS:"http://jabber.org/protocol/chatstates",EL:"composing",_name:"chatStateComposing",_eventname:"chat:composing",toString:s.toString,toJSON:void 0},r.prototype={constructor:{value:r},NS:"http://jabber.org/protocol/chatstates",EL:"paused",_name:"chatStatePaused",_eventname:"chat:paused",toString:s.toString,toJSON:void 0},i.prototype={constructor:{value:i},NS:"http://jabber.org/protocol/chatstates",EL:"inactive",_name:"chatStateInactive",_eventname:"chat:inactive",toString:s.toString,toJSON:void 0},o.prototype={constructor:{value:o},NS:"http://jabber.org/protocol/chatstates",EL:"gone",_name:"chatStateGone",_eventname:"chat:gone",toString:s.toString,toJSON:void 0},s.extend(a,e),s.extend(a,n),s.extend(a,r),s.extend(a,i),s.extend(a,o),a.prototype.__defineGetter__("chatState",function(){for(var t=this,e=["Active","Composing","Paused","Inactive","Gone"],n=0;n<e.length;n++)if(t._extensions["chatState"+e[n]])return e[n].toLowerCase();return""}),a.prototype.__defineSetter__("chatState",function(t){var e=this,n=["Active","Composing","Paused","Inactive","Gone"];n.forEach(function(t){e._extensions["chatState"+t]&&(e.xml.removeChild(e._extensions["chatState"+t].xml),delete e._extensions["chatState"+t])}),t&&this["chatState"+t.charAt(0).toUpperCase()+t.slice(1)]})},{"./stanza":4,"./message":6}],26:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./message").Message,s=t("./presence").Presence;r.prototype={constructor:{value:r},NS:"urn:xmpp:delay",EL:"delay",_name:"delay",toString:i.toString,toJSON:i.toJSON,get from(){return this.xml.getAttribute("from")||""},set from(t){this.xml.setAttribute("from",t)},get stamp(){return new Date(this.xml.getAttribute("stamp")||"")},set stamp(t){this.xml.setAttribute("stamp",t.toISOString())},get reason(){return this.xml.textContent||""},set reason(t){this.xml.textContent=t}},i.extend(o,r),i.extend(s,r),n.DelayedDelivery=r},{"./stanza":4,"./message":6,"./presence":7}],27:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./message").Message,s=t("./presence").Presence,a=t("./iq").Iq,u=t("./delayed").DelayedDelivery;r.prototype={constructor:{value:r},NS:"urn:xmpp:forward:0",EL:"forwarded",_name:"forwarded",_eventname:"forward",toString:i.toString,toJSON:i.toJSON},i.extend(o,r),i.extend(r,o),i.extend(r,s),i.extend(r,a),i.extend(r,u),n.Forwarded=r},{"./stanza":4,"./message":6,"./presence":7,"./iq":8,"./delayed":26}],28:[function(t,e,n){function r(t,e){return u.init(this,e,t)}function i(t,e){return u.init(this,e,t)}function o(t,e){return u.init(this,e,t)}function s(t,e){return u.init(this,e,t)}function a(t,e){return u.init(this,e,t)}var u=t("./stanza"),c=t("./message").Message,l=t("./iq").Iq,f=t("./forwarded").Forwarded;r.prototype={constructor:{value:r},NS:"urn:xmpp:carbons:2",EL:"sent",_name:"carbonSent",_eventname:"carbon:sent",toString:u.toString,toJSON:u.toJSON},i.prototype={constructor:{value:i},NS:"urn:xmpp:carbons:2",EL:"received",_name:"carbonReceived",_eventname:"carbon:received",toString:u.toString,toJSON:u.toJSON},o.prototype={constructor:{value:o},NS:"urn:xmpp:carbons:2",EL:"private",_name:"carbonPrivate",_eventname:"carbon:private",toString:u.toString,toJSON:u.toJSON},s.prototype={constructor:{value:s},NS:"urn:xmpp:carbons:2",EL:"enable",_name:"enableCarbons",toString:u.toString,toJSON:u.toJSON},a.prototype={constructor:{value:a},NS:"urn:xmpp:carbons:2",EL:"disable",_name:"disableCarbons",toString:u.toString,toJSON:u.toJSON},u.extend(r,f),u.extend(i,f),u.extend(c,r),u.extend(c,i),u.extend(c,o),u.extend(l,s),u.extend(l,a),n.Sent=r,n.Received=i,n.Private=o,n.Enable=s,n.Disable=a},{"./stanza":4,"./message":6,"./iq":8,"./forwarded":27}],29:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./iq").Iq;r.prototype={constructor:{value:r},NS:"urn:xmpp:time",EL:"time",_name:"time",toString:i.toString,toJSON:i.toJSON,get tzo(){var t=-1,e=this.xml.getAttribute("tzo")||"";if(!e)return 0;"-"===e.charAt(0)&&(t=1,e.slice(1));var n=e.split(":"),r=parseInt(n[0],10),i=parseInt(n[1],10);return(60*r+i)*t},set tzo(t){var e="-";if("number"==typeof t){0>t&&(t=-t,e="+");var n=t/60,r=t%60;e+=(10>n?"0":"")+n+":"+(10>r?"0":"")+r}else e=t;this.xml.setAttribute("tzo",e)},get utc(){var t=this.xml.getAttribute("utc")||"";return t?new Date(t):""},set utc(t){this.xml.setAttribute("utc",t.toISOString())}},i.extend(o,r),n.EntityTime=r},{"./stanza":4,"./iq":8}],30:[function(t,e,n){function r(t,e){return s.init(this,e,t)}function i(t,e){return s.init(this,e,t)}function o(t,e){return s.init(this,e,t)}var s=t("./stanza"),a=t("./message").Message,u=t("./iq").Iq,c=t("./forwarded").Forwarded,l=t("./rsm").RSM;r.prototype={constructor:{value:r},NS:"urn:xmpp:mam:tmp",EL:"query",_name:"mamQuery",toString:s.toString,toJSON:s.toJSON,get queryid(){return this.xml.getAttribute("queryid")||""},set queryid(t){this.xml.setAttribute("queryid",t)},get start(){return new Date(s.getSubText(this.xml,this.NS,"start")||"")},set start(t){s.setSubText(this.xml,this.NS,"start",t.toISOString())},get end(){return new Date(s.getSubText(this.xml,this.NS,"end")||"")},set end(t){s.setSubText(this.xml,this.NS,"end",t.toISOString())}},r.prototype.__defineGetter__("with",function(){return s.getSubText(this.xml,this.NS,"with")}),r.prototype.__defineSetter__("with",function(t){s.setSubText(this.xml,this.NS,"with",t)}),i.prototype={constructor:{value:i},NS:"urn:xmpp:mam:tmp",EL:"result",_name:"mam",_eventname:"mam:result",toString:s.toString,toJSON:s.toJSON,get queryid(){return this.xml.getAttribute("queryid")||""},set queryid(t){this.xml.setAttribute("queryid",t)},get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)}},o.prototype={constructor:{value:i},NS:"urn:xmpp:mam:tmp",EL:"archived",_name:"archived",_eventname:"mam:archived",toString:s.toString,toJSON:s.toJSON,get by(){return this.xml.getAttribute("queryid")||""},set by(t){this.xml.setAttribute("queryid",t)},get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)}},s.extend(u,r),s.extend(a,i),s.extend(a,o),s.extend(i,c),s.extend(r,l),n.MAMQuery=r,n.Result=i},{"./stanza":4,"./message":6,"./iq":8,"./forwarded":27,"./rsm":54}],31:[function(t,e,n){function r(t,e){return o.init(this,e,t)}function i(t,e){return o.init(this,e,t)}var o=t("./stanza"),s=t("./message").Message;r.prototype={constructor:{value:r},NS:"urn:xmpp:receipts",EL:"request",_name:"_requestReceipt",toString:o.toString,toJSON:void 0},i.prototype={constructor:{value:i},NS:"urn:xmpp:receipts",EL:"received",_name:"receipt",toString:o.toString,toJSON:o.toJSON,get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)}},s.prototype.__defineGetter__("requestReceipt",function(){return!!this._extensions._requestReceipt}),s.prototype.__defineSetter__("requestReceipt",function(t){t?this._requestReceipt=!0:this._extensions._requestReceipt&&(this.xml.removeChild(this._extensions._requestReceipt.xml),delete this._extensions._requestReceipt)}),o.extend(s,i),o.extend(s,r),n.Request=r,n.Received=i},{"./stanza":4,"./message":6}],32:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./presence").Presence;r.prototype={constructor:{value:r},NS:"urn:xmpp:idle:0",EL:"idle",_name:"idle",toString:i.toString,toJSON:i.toJSON,get since(){return new Date(this.xml.getAttribute("since")||"")},set since(t){this.xml.setAttribute("since",t.toISOString())}},i.extend(o,r),n.Idle=r},{"./stanza":4,"./presence":7}],33:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./message").Message;r.prototype={constructor:{value:r},NS:"urn:xmpp:message-correct:0",EL:"replace",_name:"_replace",toString:i.toString,toJSON:void 0,get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)}},i.extend(o,r),o.prototype.__defineGetter__("replace",function(){return this._extensions._replace?this._replace.id:""}),o.prototype.__defineSetter__("replace",function(t){t?this._replace.id=t:this._extensions._replace&&(this.xml.removeChild(this._extensions._replace.xml),delete this._extensions._replace)}),n.Replace=r},{"./stanza":4,"./message":6}],34:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./message").Message;r.prototype={constructor:{value:r},NS:"urn:xmpp:attention:0",EL:"attention",_name:"_attention",toString:i.toString,toJSON:void 0},o.prototype.__defineGetter__("attention",function(){return!!this._extensions._attention}),o.prototype.__defineSetter__("attention",function(t){t?this._attention=!0:this._extensions._attention&&(this.xml.removeChild(this._extensions._attention.xml),delete this._extensions._attention)}),i.extend(o,r),n.Attention=r},{"./stanza":4,"./message":6}],35:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza"),o=t("./iq").Iq;r.prototype={constructor:{value:r},NS:"jabber:iq:version",EL:"query",_name:"version",toString:i.toString,toJSON:i.toJSON,get name(){return i.getSubText(this.xml,this.NS,"name")},set name(t){i.setSubText(this.xml,this.NS,"name",t)},get version(){return i.getSubText(this.xml,this.NS,"version")},set version(t){i.setSubText(this.xml,this.NS,"version",t)},get os(){return i.getSubText(this.xml,this.NS,"os")},set os(t){i.setSubText(this.xml,this.NS,"os",t)}},i.extend(o,r),n.Version=r},{"./stanza":4,"./iq":8}],49:[function(t,e){function n(){this.callbacks={}}e.exports=n,n.prototype.on=function(t){var e=3===arguments.length,n=e?arguments[1]:void 0,r=e?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[t]=this.callbacks[t]||[]).push(r),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this.on(t,n),this},n.prototype.releaseGroup=function(t){var e,n,r,i;for(e in this.callbacks)for(i=this.callbacks[e],n=0,r=i.length;r>n;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},n.prototype.off=function(t,e){var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),this):this},n.prototype.emit=function(t){var e,n,r=[].slice.call(arguments,1),i=this.callbacks[t],o=this.getWildcardCallbacks(t);if(i)for(e=0,n=i.length;n>e&&i[e];++e)i[e].apply(this,r);if(o)for(e=0,n=o.length;n>e&&o[e];++e)o[e].apply(this,[t].concat(r));return this},n.prototype.getWildcardCallbacks=function(t){var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[1].length)===n[1])&&(r=r.concat(this.callbacks[e]));return r}},{}],50:[function(t,e,n){!function(t){!function(r){function i(t){function e(t){return t&&"object"==typeof t&&!Z(t)&&Zn.call(t,"__wrapped__")?t:new B(t)}function n(t){var e=t.length,n=e>=p;if(n)for(var r={},i=-1;++i<e;){var o=f+t[i];(r[o]||(r[o]=[])).push(t[i])}return function(e){if(n){var i=f+e;return r[i]&&We(r[i],e)>-1}return We(t,e)>-1}}function s(t){return t.charCodeAt(0)}function u(t,e){var n=t.index,r=e.index;if(t=t.criteria,e=e.criteria,t!==e){if(t>e||"undefined"==typeof t)return 1;if(e>t||"undefined"==typeof e)return-1}return r>n?-1:1}function j(t,e,n,r){function i(){var r=arguments,c=s?this:e;if(o||(t=e[a]),n.length&&(r=r.length?(r=hr.call(r),u?r.concat(n):n.concat(r)):n),this instanceof i){U.prototype=t.prototype,c=new U,U.prototype=null;var l=t.apply(c,r);return ae(l)?l:c}return t.apply(c,r)}var o=se(t),s=!n,a=e;if(s){var u=r;n=e}else if(!o){if(!r)throw new $n;e=t}return i}function F(t){return"\\"+z[t]}function P(t){return xr[t]}function B(t){this.__wrapped__=t}function U(){}function $(t){var e=!1;if(!t||rr.call(t)!=I)return e;var n=t.constructor;return(se(n)?n instanceof n:vr.nodeClass||!isNode(t))?(kr(t,function(t,n){e=n}),e===!1||Zn.call(t,e)):e}function J(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Rn(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function W(t){return wr[t]}function H(t){return rr.call(t)==N}function V(t,n,r,i,s,a){var u=t;if("function"==typeof n&&(i=r,r=n,n=!1),"function"==typeof r){if(r="undefined"==typeof i?r:e.createCallback(r,i,1),u=r(u),"undefined"!=typeof u)return u;u=t}var c=ae(u);if(c){var l=rr.call(u);if(!q[l])return u;var f=Z(u)}if(!c||!n)return c?f?J(u):Sr({},u):u;var p=mr[l];switch(l){case C:case T:return new p(+u);case O:case R:return new p(u);case L:return p(u.source,y.exec(u))}s||(s=[]),a||(a=[]);for(var h=s.length;h--;)if(s[h]==t)return a[h];return u=f?p(u.length):{},f&&(Zn.call(t,"index")&&(u.index=t.index),Zn.call(t,"input")&&(u.input=t.input)),s.push(t),a.push(u),(f?Ee:Er)(t,function(t,e){u[e]=V(t,n,r,o,s,a)}),u}function G(t,e,n){return V(t,!0,e,n)}function X(t,n,r){var i;return n=e.createCallback(n,r),Er(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function Y(t){var e=[];return kr(t,function(t,n){se(t)&&e.push(n)}),e.sort()}function K(t,e){return t?Zn.call(t,e):!1}function Q(t){for(var e=-1,n=br(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function Z(t){return t instanceof Rn||or(t)}function te(t){return t===!0||t===!1||rr.call(t)==C}function ee(t){return t instanceof Mn||rr.call(t)==T}function ne(t){return t?1===t.nodeType:!1}function re(t){var e=!0;if(!t)return e;var n=rr.call(t),r=t.length;return n==A||n==R||n==N||n==I&&"number"==typeof r&&se(t.splice)?!r:(Er(t,function(){return e=!1}),e)}function ie(t,n,r,i,o,s){var a=r===l;if("function"==typeof r&&!a){r=e.createCallback(r,i,2);var u=r(t,n);if("undefined"!=typeof u)return!!u}if(t===n)return 0!==t||1/t==1/n;var c=typeof t,f=typeof n;if(t===t&&(!t||"function"!=c&&"object"!=c)&&(!n||"function"!=f&&"object"!=f))return!1;if(null==t||null==n)return t===n;var p=rr.call(t),h=rr.call(n);if(p==N&&(p=I),h==N&&(h=I),p!=h)return!1;switch(p){case C:case T:return+t==+n;case O:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case L:case R:return t==Un(n)}var d=p==A;if(!d){if(Zn.call(t,"__wrapped__ ")||Zn.call(n,"__wrapped__"))return ie(t.__wrapped__||t,n.__wrapped__||n,r,i,o,s);if(p!=I)return!1;var g=t.constructor,m=n.constructor;if(g!=m&&!(se(g)&&g instanceof g&&se(m)&&m instanceof m))return!1
}o||(o=[]),s||(s=[]);for(var v=o.length;v--;)if(o[v]==t)return s[v]==n;var y=0;if(u=!0,o.push(t),s.push(n),d){if(v=t.length,y=n.length,u=y==t.length,!u&&!a)return u;for(;y--;){var b=v,x=n[y];if(a)for(;b--&&!(u=ie(t[b],x,r,i,o,s)););else if(!(u=ie(t[y],x,r,i,o,s)))break}return u}return kr(n,function(e,n,a){return Zn.call(a,n)?(y++,u=Zn.call(t,n)&&ie(t[n],e,r,i,o,s)):void 0}),u&&!a&&kr(t,function(t,e,n){return Zn.call(n,e)?u=--y>-1:void 0}),u}function oe(t){return sr(t)&&!ar(parseFloat(t))}function se(t){return"function"==typeof t}function ae(t){return t?M[typeof t]:!1}function ue(t){return le(t)&&t!=+t}function ce(t){return null===t}function le(t){return"number"==typeof t||rr.call(t)==O}function fe(t){return t instanceof Bn||rr.call(t)==L}function pe(t){return"string"==typeof t||rr.call(t)==R}function he(t){return"undefined"==typeof t}function de(t,n,r){var i=arguments,o=0,s=2;if(!ae(t))return t;if(r===l)var a=i[3],u=i[4],c=i[5];else u=[],c=[],"number"!=typeof r&&(s=i.length),s>3&&"function"==typeof i[s-2]?a=e.createCallback(i[--s-1],i[s--],2):s>2&&"function"==typeof i[s-1]&&(a=i[--s]);for(;++o<s;)(Z(i[o])?Ee:Er)(i[o],function(e,n){var r,i,o=e,s=t[n];if(e&&((i=Z(e))||Nr(e))){for(var f=u.length;f--;)if(r=u[f]==e){s=c[f];break}if(!r){var p;a&&(o=a(s,e),(p="undefined"!=typeof o)&&(s=o)),p||(s=i?Z(s)?s:[]:Nr(s)?s:{}),u.push(e),c.push(s),p||(s=de(s,e,l,a,u,c))}}else a&&(o=a(s,e),"undefined"==typeof o&&(o=e)),"undefined"!=typeof o&&(s=o);t[n]=s});return t}function ge(t,n,r){var i="function"==typeof n,o={};if(i)n=e.createCallback(n,r);else var s=Yn.apply(Jn,hr.call(arguments,1));return kr(t,function(t,e,r){(i?!n(t,e,r):We(s,e)<0)&&(o[e]=t)}),o}function me(t){for(var e=-1,n=br(t),r=n.length,i=Rn(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function ve(t,n,r){var i={};if("function"!=typeof n)for(var o=-1,s=Yn.apply(Jn,hr.call(arguments,1)),a=ae(t)?s.length:0;++o<a;){var u=s[o];u in t&&(i[u]=t[u])}else n=e.createCallback(n,r),kr(t,function(t,e,r){n(t,e,r)&&(i[e]=t)});return i}function ye(t){for(var e=-1,n=br(t),r=n.length,i=Rn(r);++e<r;)i[e]=t[n[e]];return i}function be(t){for(var e=-1,n=Yn.apply(Jn,hr.call(arguments,1)),r=n.length,i=Rn(r);++e<r;)i[e]=t[n[e]];return i}function xe(t,e,n){var r=-1,i=t?t.length:0,o=!1;return n=(0>n?cr(0,i+n):n)||0,"number"==typeof i?o=(pe(t)?t.indexOf(e,n):We(t,e,n))>-1:Er(t,function(t){return++r>=n?!(o=t===e):void 0}),o}function we(t,n,r){var i={};return n=e.createCallback(n,r),Ee(t,function(t,e,r){e=Un(n(t,e,r)),Zn.call(i,e)?i[e]++:i[e]=1}),i}function Se(t,n,r){var i=!0;n=e.createCallback(n,r);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s&&(i=!!n(t[o],o,t)););else Er(t,function(t,e,r){return i=!!n(t,e,r)});return i}function _e(t,n,r){var i=[];n=e.createCallback(n,r);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var a=t[o];n(a,o,t)&&i.push(a)}else Er(t,function(t,e,r){n(t,e,r)&&i.push(t)});return i}function ke(t,n,r){n=e.createCallback(n,r);var i=-1,o=t?t.length:0;if("number"!=typeof o){var s;return Er(t,function(t,e,r){return n(t,e,r)?(s=t,!1):void 0}),s}for(;++i<o;){var a=t[i];if(n(a,i,t))return a}}function Ee(t,n,r){var i=-1,o=t?t.length:0;if(n=n&&"undefined"==typeof r?n:e.createCallback(n,r),"number"==typeof o)for(;++i<o&&n(t[i],i,t)!==!1;);else Er(t,n);return t}function Ne(t,n,r){var i={};return n=e.createCallback(n,r),Ee(t,function(t,e,r){e=Un(n(t,e,r)),(Zn.call(i,e)?i[e]:i[e]=[]).push(t)}),i}function Ae(t,e){var n=hr.call(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,s=Rn("number"==typeof o?o:0);return Ee(t,function(t){s[++r]=(i?e:t[e]).apply(t,n)}),s}function Ce(t,n,r){var i=-1,o=t?t.length:0;if(n=e.createCallback(n,r),"number"==typeof o)for(var s=Rn(o);++i<o;)s[i]=n(t[i],i,t);else s=[],Er(t,function(t,e,r){s[++i]=n(t,e,r)});return s}function Te(t,n,r){var i=-1/0,o=i;if(!n&&Z(t))for(var a=-1,u=t.length;++a<u;){var c=t[a];c>o&&(o=c)}else n=!n&&pe(t)?s:e.createCallback(n,r),Ee(t,function(t,e,r){var s=n(t,e,r);s>i&&(i=s,o=t)});return o}function je(t,n,r){var i=1/0,o=i;if(!n&&Z(t))for(var a=-1,u=t.length;++a<u;){var c=t[a];o>c&&(o=c)}else n=!n&&pe(t)?s:e.createCallback(n,r),Ee(t,function(t,e,r){var s=n(t,e,r);i>s&&(i=s,o=t)});return o}function Oe(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r)for(var i=Rn(r);++n<r;)i[n]=t[n][e];return i||Ce(t,e)}function Ie(t,n,r,i){if(!t)return r;var o=arguments.length<3;n=e.createCallback(n,i,4);var s=-1,a=t.length;if("number"==typeof a)for(o&&(r=t[++s]);++s<a;)r=n(r,t[s],s,t);else Er(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)});return r}function Le(t,n,r,i){var o=t,s=t?t.length:0,a=arguments.length<3;if("number"!=typeof s){var u=br(t);s=u.length}return n=e.createCallback(n,i,4),Ee(t,function(t,e,i){e=u?u[--s]:--s,r=a?(a=!1,o[e]):n(r,o[e],e,i)}),r}function Re(t,n,r){return n=e.createCallback(n,r),_e(t,function(t,e,r){return!n(t,e,r)})}function qe(t){var e=-1,n=t?t.length:0,r=Rn("number"==typeof n?n:0);return Ee(t,function(t){var n=Kn(pr()*(++e+1));r[e]=r[n],r[n]=t}),r}function Me(t){var e=t?t.length:0;return"number"==typeof e?e:br(t).length}function ze(t,n,r){var i;n=e.createCallback(n,r);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s&&!(i=n(t[o],o,t)););else Er(t,function(t,e,r){return!(i=n(t,e,r))});return!!i}function De(t,n,r){var i=-1,o=t?t.length:0,s=Rn("number"==typeof o?o:0);for(n=e.createCallback(n,r),Ee(t,function(t,e,r){s[++i]={criteria:n(t,e,r),index:i,value:t}}),o=s.length,s.sort(u);o--;)s[o]=s[o].value;return s}function Fe(t){return t&&"number"==typeof t.length?J(t):ye(t)}function Pe(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function Be(t){for(var e=-1,r=t?t.length:0,i=Yn.apply(Jn,hr.call(arguments,1)),o=n(i),s=[];++e<r;){var a=t[e];o(a)||s.push(a)}return s}function Ue(t,n,r){var i=-1,o=t?t.length:0;for(n=e.createCallback(n,r);++i<o;)if(n(t[i],i,t))return i;return-1}function $e(t,n,r){if(t){var i=0,o=t.length;if("number"!=typeof n&&null!=n){var s=-1;for(n=e.createCallback(n,r);++s<o&&n(t[s],s,t);)i++}else if(i=n,null==i||r)return t[0];return J(t,0,lr(cr(0,i),o))}}function Je(t,n,r,i){var o=-1,s=t?t.length:0,a=[];for("boolean"!=typeof n&&null!=n&&(i=r,r=n,n=!1),null!=r&&(r=e.createCallback(r,i));++o<s;){var u=t[o];r&&(u=r(u,o,t)),Z(u)?tr.apply(a,n?u:Je(u)):a.push(u)}return a}function We(t,e,n){var r=-1,i=t?t.length:0;if("number"==typeof n)r=(0>n?cr(0,i+n):n||0)-1;else if(n)return r=Qe(t,e),t[r]===e?r:-1;for(;++r<i;)if(t[r]===e)return r;return-1}function He(t,n,r){if(!t)return[];var i=0,o=t.length;if("number"!=typeof n&&null!=n){var s=o;for(n=e.createCallback(n,r);s--&&n(t[s],s,t);)i++}else i=null==n||r?1:n||i;return J(t,0,lr(cr(0,o-i),o))}function Ve(t){var e=arguments,r=e.length,i={0:{}},o=-1,s=t?t.length:0,a=s>=p,u=[],c=u;t:for(;++o<s;){var l=t[o];if(a)var h=f+l,d=i[0][h]?!(c=i[0][h]):c=i[0][h]=[];if(d||We(c,l)<0){a&&c.push(l);for(var g=r;--g;)if(!(i[g]||(i[g]=n(e[g])))(l))continue t;u.push(l)}}return u}function Ge(t,n,r){if(t){var i=0,o=t.length;if("number"!=typeof n&&null!=n){var s=o;for(n=e.createCallback(n,r);s--&&n(t[s],s,t);)i++}else if(i=n,null==i||r)return t[o-1];return J(t,cr(0,o-i))}}function Xe(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?cr(0,r+n):lr(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function Ye(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var r=-1,i=cr(0,Gn((e-t)/n)),o=Rn(i);++r<i;)o[r]=t,t+=n;return o}function Ke(t,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,s=t?t.length:0;for(n=e.createCallback(n,r);++o<s&&n(t[o],o,t);)i++}else i=null==n||r?1:cr(0,n);return J(t,i)}function Qe(t,n,r,i){var o=0,s=t?t.length:o;for(r=r?e.createCallback(r,i,1):Sn,n=r(n);s>o;){var a=o+s>>>1;r(t[a])<n?o=a+1:s=a}return o}function Ze(t){return Z(t)||(arguments[0]=t?hr.call(t):Jn),tn(Yn.apply(Jn,arguments))}function tn(t,n,r,i){var o=-1,s=t?t.length:0,a=[],u=a;"boolean"!=typeof n&&null!=n&&(i=r,r=n,n=!1);var c=!n&&s>=p;if(c)var l={};for(null!=r&&(u=[],r=e.createCallback(r,i));++o<s;){var h=t[o],d=r?r(h,o,t):h;if(c)var g=f+d,m=l[g]?!(u=l[g]):u=l[g]=[];(n?!o||u[u.length-1]!==d:m||We(u,d)<0)&&((r||c)&&u.push(d),a.push(h))}return a}function en(t){for(var e=-1,n=t?t.length:0,r=n?Te(Oe(t,"length")):0,i=Rn(r);++e<n;)for(var o=-1,s=t[e];++o<r;)(i[o]||(i[o]=Rn(n)))[e]=s[o];return i}function nn(t){return Be(t,hr.call(arguments,1))}function rn(t){for(var e=-1,n=t?Te(Oe(arguments,"length")):0,r=Rn(n);++e<n;)r[e]=Oe(arguments,e);return r}function on(t,e){for(var n=-1,r=t?t.length:0,i={};++n<r;){var o=t[n];e?i[o]=e[n]:i[o[0]]=o[1]}return i}function sn(t,e){return 1>t?e():function(){return--t<1?e.apply(this,arguments):void 0}}function an(t,e){return vr.fastBind||ir&&arguments.length>2?ir.call.apply(ir,arguments):j(t,e,hr.call(arguments,2))}function un(t){for(var e=arguments.length>1?Yn.apply(Jn,hr.call(arguments,1)):Y(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=an(t[i],t)}return t}function cn(t,e){return j(t,e,hr.call(arguments,2),l)}function ln(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function fn(t,e,n){if(null==t)return Sn;var r=typeof t;if("function"!=r){if("object"!=r)return function(e){return e[t]};var i=br(t);return function(e){for(var n=i.length,r=!1;n--&&(r=ie(e[i[n]],t[i[n]],l)););return r}}return"undefined"!=typeof e?1===n?function(n){return t.call(e,n)}:2===n?function(n,r){return t.call(e,n,r)}:4===n?function(n,r,i,o){return t.call(e,n,r,i,o)}:function(n,r,i){return t.call(e,n,r,i)}:t}function pn(t,e,n){function r(){a=null,u&&(o=t.apply(s,i))}var i,o,s,a,u=!0;if(n===!0){var c=!0;u=!1}else n&&M[typeof n]&&(c=n.leading,u="trailing"in n?n.trailing:u);return function(){var n=c&&!a;return i=arguments,s=this,Xn(a),a=nr(r,e),n&&(o=t.apply(s,i)),o}}function hn(t){var e=hr.call(arguments,1);return nr(function(){t.apply(o,e)},1)}function dn(t,e){var n=hr.call(arguments,2);return nr(function(){t.apply(o,n)},e)}function gn(t,e){var n={};return function(){var r=f+(e?e.apply(this,arguments):arguments[0]);return Zn.call(n,r)?n[r]:n[r]=t.apply(this,arguments)}}function mn(t){var e,n;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function vn(t){return j(t,hr.call(arguments,1))}function yn(t){return j(t,hr.call(arguments,1),null,l)}function bn(t,e,n){function r(){u=new Mn,a=null,l&&(o=t.apply(s,i))}var i,o,s,a,u=0,c=!0,l=!0;return n===!1?c=!1:n&&M[typeof n]&&(c="leading"in n?n.leading:c,l="trailing"in n?n.trailing:l),function(){var n=new Mn;a||c||(u=n);var l=e-(n-u);return i=arguments,s=this,0>=l?(Xn(a),a=null,u=n,o=t.apply(s,i)):a||(a=nr(r,l)),o}}function xn(t,e){return function(){var n=[t];return tr.apply(n,arguments),e.apply(this,n)}}function wn(t){return null==t?"":Un(t).replace(S,P)}function Sn(t){return t}function _n(t){Ee(Y(t),function(n){var r=e[n]=t[n];e.prototype[n]=function(){var t=this.__wrapped__,n=[t];tr.apply(n,arguments);var i=r.apply(e,n);return t&&"object"==typeof t&&t==i?this:new B(i)}})}function kn(){return t._=Hn,this}function En(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+Kn(pr()*((+e||0)-t+1))}function Nn(t,e){var n=t?t[e]:o;return se(n)?t[e]():n}function An(t,n,r){var i=e.templateSettings;t||(t=""),r=_r({},r,i);var s,a=_r({},r.imports,i.imports),u=br(a),c=ye(a),l=0,f=r.interpolate||w,p="__p += '",m=Bn((r.escape||w).source+"|"+f.source+"|"+(f===b?v:w).source+"|"+(r.evaluate||w).source+"|$","g");t.replace(m,function(e,n,r,i,o,a){return r||(r=i),p+=t.slice(l,a).replace(_,F),n&&(p+="' +\n__e("+n+") +\n'"),o&&(s=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+e.length,e}),p+="';\n";var y=r.variable,x=y;x||(y="obj",p="with ("+y+") {\n"+p+"\n}\n"),p=(s?p.replace(h,""):p).replace(d,"$1").replace(g,"$1;"),p="function("+y+") {\n"+(x?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var S="\n/*\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+E++ +"]")+"\n*/";try{var k=zn(u,"return "+p+S).apply(o,c)}catch(N){throw N.source=p,N}return n?k(n):(k.source=p,k)}function Cn(t,n,r){t=(t=+t)>-1?t:0;var i=-1,o=Rn(t);for(n=e.createCallback(n,r,1);++i<t;)o[i]=n(i);return o}function Tn(t){return null==t?"":Un(t).replace(m,W)}function jn(t){var e=++c;return Un(null==t?"":t)+e}function On(t,e){return e(t),t}function In(){return Un(this.__wrapped__)}function Ln(){return this.__wrapped__}t=t?D.defaults(r.Object(),t,D.pick(r,k)):r;var Rn=t.Array,qn=t.Boolean,Mn=t.Date,zn=t.Function,Dn=t.Math,Fn=t.Number,Pn=t.Object,Bn=t.RegExp,Un=t.String,$n=t.TypeError,Jn=Rn(),Wn=Pn(),Hn=t._,Vn=Bn("^"+Un(Wn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Gn=Dn.ceil,Xn=t.clearTimeout,Yn=Jn.concat,Kn=Dn.floor,Qn=Vn.test(Qn=Pn.getPrototypeOf)&&Qn,Zn=Wn.hasOwnProperty,tr=Jn.push,er=t.setImmediate,nr=t.setTimeout,rr=Wn.toString,ir=Vn.test(ir=rr.bind)&&ir,or=Vn.test(or=Rn.isArray)&&or,sr=t.isFinite,ar=t.isNaN,ur=Vn.test(ur=Pn.keys)&&ur,cr=Dn.max,lr=Dn.min,fr=t.parseInt,pr=Dn.random,hr=Jn.slice,dr=Vn.test(t.attachEvent),gr=ir&&!/\n|true/.test(ir+dr),mr={};mr[A]=Rn,mr[C]=qn,mr[T]=Mn,mr[I]=Pn,mr[O]=Fn,mr[L]=Bn,mr[R]=Un;var vr=e.support={};vr.fastBind=ir&&!gr,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:e}},B.prototype=e.prototype;var yr=function(t){var e,n=t,r=[];if(!n)return r;if(!M[typeof t])return r;for(e in n)Zn.call(n,e)&&r.push(e);return r},br=ur?function(t){return ae(t)?ur(t):[]}:yr,xr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wr=Q(xr),Sr=function(t,n,r){var i,o=t,s=o;if(!o)return s;var a=arguments,u=0,c="number"==typeof r?2:a.length;if(c>3&&"function"==typeof a[c-2])var l=e.createCallback(a[--c-1],a[c--],2);else c>2&&"function"==typeof a[c-1]&&(l=a[--c]);for(;++u<c;)if(o=a[u],o&&M[typeof o]){var f=o.length;if(i=-1,Z(o))for(;++i<f;)s[i]=l?l(s[i],o[i]):o[i];else for(var p=-1,h=M[typeof o]?br(o):[],f=h.length;++p<f;)i=h[p],s[i]=l?l(s[i],o[i]):o[i]}return s},_r=function(t,e,n){var r,i=t,o=i;if(!i)return o;for(var s=arguments,a=0,u="number"==typeof n?2:s.length;++a<u;)if(i=s[a],i&&M[typeof i]){var c=i.length;if(r=-1,Z(i))for(;++r<c;)"undefined"==typeof o[r]&&(o[r]=i[r]);else for(var l=-1,f=M[typeof i]?br(i):[],c=f.length;++l<c;)r=f[l],"undefined"==typeof o[r]&&(o[r]=i[r])}return o},kr=function(t,n,r){var i,o=t,s=o;if(!o)return s;if(!M[typeof o])return s;n=n&&"undefined"==typeof r?n:e.createCallback(n,r);for(i in o)if(n(o[i],i,t)===!1)return s;return s},Er=function(t,n,r){var i,o=t,s=o;if(!o)return s;if(!M[typeof o])return s;n=n&&"undefined"==typeof r?n:e.createCallback(n,r);for(var a=-1,u=M[typeof o]?br(o):[],c=u.length;++a<c;)if(i=u[a],n(o[i],i,t)===!1)return s;return s},Nr=function(t){if(!t||rr.call(t)!=I)return!1;var e=t.valueOf,n="function"==typeof e&&(n=Qn(e))&&Qn(n);return n?t==n||Qn(t)==n:$(t)},Ar=_e;gr&&a&&"function"==typeof er&&(hn=an(er,t));var Cr=8==fr("08")?fr:function(t,e){return fr(pe(t)?t.replace(x,""):t,e||0)};return e.after=sn,e.assign=Sr,e.at=be,e.bind=an,e.bindAll=un,e.bindKey=cn,e.compact=Pe,e.compose=ln,e.countBy=we,e.createCallback=fn,e.debounce=pn,e.defaults=_r,e.defer=hn,e.delay=dn,e.difference=Be,e.filter=_e,e.flatten=Je,e.forEach=Ee,e.forIn=kr,e.forOwn=Er,e.functions=Y,e.groupBy=Ne,e.initial=He,e.intersection=Ve,e.invert=Q,e.invoke=Ae,e.keys=br,e.map=Ce,e.max=Te,e.memoize=gn,e.merge=de,e.min=je,e.omit=ge,e.once=mn,e.pairs=me,e.partial=vn,e.partialRight=yn,e.pick=ve,e.pluck=Oe,e.range=Ye,e.reject=Re,e.rest=Ke,e.shuffle=qe,e.sortBy=De,e.tap=On,e.throttle=bn,e.times=Cn,e.toArray=Fe,e.union=Ze,e.uniq=tn,e.unzip=en,e.values=ye,e.where=Ar,e.without=nn,e.wrap=xn,e.zip=rn,e.zipObject=on,e.collect=Ce,e.drop=Ke,e.each=Ee,e.extend=Sr,e.methods=Y,e.object=on,e.select=_e,e.tail=Ke,e.unique=tn,_n(e),e.clone=V,e.cloneDeep=G,e.contains=xe,e.escape=wn,e.every=Se,e.find=ke,e.findIndex=Ue,e.findKey=X,e.has=K,e.identity=Sn,e.indexOf=We,e.isArguments=H,e.isArray=Z,e.isBoolean=te,e.isDate=ee,e.isElement=ne,e.isEmpty=re,e.isEqual=ie,e.isFinite=oe,e.isFunction=se,e.isNaN=ue,e.isNull=ce,e.isNumber=le,e.isObject=ae,e.isPlainObject=Nr,e.isRegExp=fe,e.isString=pe,e.isUndefined=he,e.lastIndexOf=Xe,e.mixin=_n,e.noConflict=kn,e.parseInt=Cr,e.random=En,e.reduce=Ie,e.reduceRight=Le,e.result=Nn,e.runInContext=i,e.size=Me,e.some=ze,e.sortedIndex=Qe,e.template=An,e.unescape=Tn,e.uniqueId=jn,e.all=Se,e.any=ze,e.detect=ke,e.foldl=Ie,e.foldr=Le,e.include=xe,e.inject=Ie,Er(e,function(t,n){e.prototype[n]||(e.prototype[n]=function(){var n=[this.__wrapped__];return tr.apply(n,arguments),t.apply(e,n)})}),e.first=$e,e.last=Ge,e.take=$e,e.head=$e,Er(e,function(t,n){e.prototype[n]||(e.prototype[n]=function(e,n){var r=t(this.__wrapped__,e,n);return null==e||n&&"function"!=typeof e?r:new B(r)})}),e.VERSION="1.2.0",e.prototype.toString=In,e.prototype.value=Ln,e.prototype.valueOf=Ln,Ee(["join","pop","shift"],function(t){var n=Jn[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments)}}),Ee(["push","reverse","sort","unshift"],function(t){var n=Jn[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),Ee(["concat","slice","splice"],function(t){var n=Jn[t];e.prototype[t]=function(){return new B(n.apply(this.__wrapped__,arguments))}}),e}var o,s="object"==typeof n&&n,a="object"==typeof e&&e&&e.exports==s&&e,u="object"==typeof t&&t;(u.global===u||u.window===u)&&(r=u);var c=0,l={},f=+new Date+"",p=200,h=/\b__p \+= '';/g,d=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/\w*$/,b=/<%=([\s\S]+?)%>/g,x=/^0+(?=.$)/,w=/($^)/,S=/[&<>"']/g,_=/['\n\r\t\u2028\u2029\\]/g,k=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],E=0,N="[object Arguments]",A="[object Array]",C="[object Boolean]",T="[object Date]",j="[object Function]",O="[object Number]",I="[object Object]",L="[object RegExp]",R="[object String]",q={};q[j]=!1,q[N]=q[A]=q[C]=q[T]=q[O]=q[I]=q[L]=q[R]=!0;var M={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},D=i();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(r._=D,define(function(){return D})):s&&!s.nodeType?a?(a.exports=D)._=D:s._=D:r._=D}(this)}(window)},{}],55:[function(t,e){t=function(t,e,n,r){function i(r){if(!n[r]){if(!e[r]){if(t)return t(r);throw new Error("Cannot find module '"+r+"'")}var o=n[r]={exports:{}};e[r][0](function(t){var n=e[r][1][t];return i(n?n:t)},o,o.exports)}return n[r].exports}for(var o=0;o<r.length;o++)i(r[o]);return i}("undefined"!=typeof t&&t,{1:[function(t,e,n){n.readIEEE754=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?0:i-1,p=n?1:-1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},n.writeIEEE754=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?o-1:0,d=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=255&s,h+=d,s/=256,c-=8);t[n+h-d]|=128*g}},{}],2:[function(t,e){!function(){function n(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}function r(t,e){return void 0===e?""+e:"number"!=typeof e||!isNaN(e)&&isFinite(e)?"function"==typeof e||e instanceof RegExp?e.toString():e:e.toString()}function i(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function o(t,e,n,r,i){throw new m.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function s(t,e){t||o(t,!0,e,"==",m.ok)}function a(t,e){if(t===e)return!0;if(d.isBuffer(t)&&d.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:l(t,e)}function u(t){return null===t||void 0===t}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function l(t,e){if(u(t)||u(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return c(e)?(t=g.call(t),e=g.call(e),a(t,e)):!1;try{var r,i,o=n(t),s=n(e)}catch(l){return!1}if(o.length!=s.length)return!1;for(o.sort(),s.sort(),i=o.length-1;i>=0;i--)if(o[i]!=s[i])return!1;for(i=o.length-1;i>=0;i--)if(r=o[i],!a(t[r],e[r]))return!1;return!0}function f(t,e){return t&&e?e instanceof RegExp?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function p(t,e,n,r){var i;"string"==typeof n&&(r=n,n=null);try{e()}catch(s){i=s}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&o("Missing expected exception"+r),!t&&f(i,n)&&o("Got unwanted exception"+r),t&&i&&n&&!f(i,n)||!t&&i)throw i}var h=t("util"),d=t("buffer").Buffer,g=Array.prototype.slice,m=e.exports=s;m.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var e=t.stackStartFunction||o;Error.captureStackTrace&&Error.captureStackTrace(this,e)},h.inherits(m.AssertionError,Error),m.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",i(JSON.stringify(this.actual,r),128),this.operator,i(JSON.stringify(this.expected,r),128)].join(" ")},m.AssertionError.__proto__=Error.prototype,m.fail=o,m.ok=s,m.equal=function(t,e,n){t!=e&&o(t,e,n,"==",m.equal)},m.notEqual=function(t,e,n){t==e&&o(t,e,n,"!=",m.notEqual)},m.deepEqual=function(t,e,n){a(t,e)||o(t,e,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(t,e,n){a(t,e)&&o(t,e,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(t,e,n){t!==e&&o(t,e,n,"===",m.strictEqual)},m.notStrictEqual=function(t,e,n){t===e&&o(t,e,n,"!==",m.notStrictEqual)},m.throws=function(){p.apply(this,[!0].concat(g.call(arguments)))},m.doesNotThrow=function(){p.apply(this,[!1].concat(g.call(arguments)))},m.ifError=function(t){if(t)throw t}}()},{util:3,buffer:4}],"buffer-browserify":[function(t,e){e.exports=t("q9TxCC")},{}],q9TxCC:[function(t,e,n){!function(){function e(t){this.length=t}function r(t){return 16>t?"0"+t.toString(16):t.toString(16)}function i(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)e.push(parseInt(r[i],16));return e}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function s(e){return t("base64-js").toByteArray(e)}function a(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);)e[i+n]=t[i],i++;return i}function u(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function c(t){return t=~~Math.ceil(+t),0>t?0:t}function l(t,n,r){if(!(this instanceof l))return new l(t,n,r);var i;if("number"==typeof r)this.length=c(n),this.parent=t,this.offset=r;else{switch(i=typeof t){case"number":this.length=c(t);break;case"string":this.length=l.byteLength(t,n);break;case"object":this.length=c(t.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>l.poolSize?(this.parent=new e(this.length),this.offset=0):((!T||T.length-T.used<this.length)&&p(),this.parent=T,this.offset=T.used,T.used+=this.length),f(t))for(var o=0;o<this.length;o++)this.parent[o+this.offset]=t instanceof l?t.readUInt8(o):t[o];else"string"==i&&(this.length=this.write(t,0,n))}}function f(t){return Array.isArray(t)||l.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function p(){T=new e(l.poolSize),T.used=0}function h(t,e,n,r){var i=0;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+1<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(n?(i=t.parent[t.offset+e]<<8,e+1<t.length&&(i|=t.parent[t.offset+e+1])):(i=t.parent[t.offset+e],e+1<t.length&&(i|=t.parent[t.offset+e+1]<<8)),i)}function d(t,e,n,r){var i=0;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+3<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(n?(e+1<t.length&&(i=t.parent[t.offset+e+1]<<16),e+2<t.length&&(i|=t.parent[t.offset+e+2]<<8),e+3<t.length&&(i|=t.parent[t.offset+e+3]),i+=t.parent[t.offset+e]<<24>>>0):(e+2<t.length&&(i=t.parent[t.offset+e+2]<<16),e+1<t.length&&(i|=t.parent[t.offset+e+1]<<8),i|=t.parent[t.offset+e],e+3<t.length&&(i+=t.parent[t.offset+e+3]<<24>>>0)),i)}function g(t,e,n,r){var i,o;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+1<t.length,"Trying to read beyond buffer length")),o=h(t,e,n,r),i=32768&o,i?-1*(65535-o+1):o}function m(t,e,n,r){var i,o;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+3<t.length,"Trying to read beyond buffer length")),o=d(t,e,n,r),i=2147483648&o,i?-1*(4294967295-o+1):o}function v(e,n,r,i){return i||(C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(n+3<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function y(e,n,r,i){return i||(C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(n+7<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function b(t,e){C.ok("number"==typeof t,"cannot write a non-number as a number"),C.ok(t>=0,"specified a negative value for writing an unsigned value"),C.ok(e>=t,"value is larger than maximum value for type"),C.ok(Math.floor(t)===t,"value has a fractional component")}function x(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+1<t.length,"trying to write beyond buffer length"),b(e,65535));for(var o=0;o<Math.min(t.length-n,2);o++)t.parent[t.offset+n+o]=(e&255<<8*(r?1-o:o))>>>8*(r?1-o:o)}function w(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+3<t.length,"trying to write beyond buffer length"),b(e,4294967295));for(var o=0;o<Math.min(t.length-n,4);o++)t.parent[t.offset+n+o]=255&e>>>8*(r?3-o:o)}function S(t,e,n){C.ok("number"==typeof t,"cannot write a non-number as a number"),C.ok(e>=t,"value larger than maximum allowed value"),C.ok(t>=n,"value smaller than minimum allowed value"),C.ok(Math.floor(t)===t,"value has a fractional component")}function _(t,e,n){C.ok("number"==typeof t,"cannot write a non-number as a number"),C.ok(e>=t,"value larger than maximum allowed value"),C.ok(t>=n,"value smaller than minimum allowed value")}function k(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+1<t.length,"Trying to write beyond buffer length"),S(e,32767,-32768)),e>=0?x(t,e,n,r,i):x(t,65535+e+1,n,r,i)}function E(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+3<t.length,"Trying to write beyond buffer length"),S(e,2147483647,-2147483648)),e>=0?w(t,e,n,r,i):w(t,4294967295+e+1,n,r,i)}function N(e,n,r,i,o){o||(C.ok(void 0!==n&&null!==n,"missing value"),C.ok("boolean"==typeof i,"missing or invalid endian"),C.ok(void 0!==r&&null!==r,"missing offset"),C.ok(r+3<e.length,"Trying to write beyond buffer length"),_(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,23,4)}function A(e,n,r,i,o){o||(C.ok(void 0!==n&&null!==n,"missing value"),C.ok("boolean"==typeof i,"missing or invalid endian"),C.ok(void 0!==r&&null!==r,"missing offset"),C.ok(r+7<e.length,"Trying to write beyond buffer length"),_(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,52,8)}var C=t("assert");n.INSPECT_MAX_BYTES=50,e.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return i(t).length;case"ascii":case"binary":return t.length;case"base64":return s(t).length;default:throw new Error("Unknown encoding")}},e.prototype.utf8Write=function(t,n,r){return e._charsWritten=a(i(t),this,n,r)},e.prototype.asciiWrite=function(t,n,r){return e._charsWritten=a(o(t),this,n,r)},e.prototype.binaryWrite=e.prototype.asciiWrite,e.prototype.base64Write=function(t,n,r){return e._charsWritten=a(s(t),this,n,r)},e.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},e.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;r<t.length;)t[r]<=127?(e+=u(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;return e+u(n)},e.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},e.prototype.binarySlice=e.prototype.asciiSlice,e.prototype.inspect=function(){for(var t=[],e=this.length,i=0;e>i;i++)if(t[i]=r(this[i]),i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},e.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var i="",o=t;e>o;o++)i+=r(this[o]);return i},e.prototype.toString=function(t,e,n){if(t=String(t||"utf8").toLowerCase(),e=+e||0,"undefined"==typeof n&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},e.prototype.hexWrite=function(t,n,r){n=+n||0;var i=this.length-n;r?(r=+r,r>i&&(r=i)):r=i;var o=t.length;if(o%2)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");this[n+s]=a}return e._charsWritten=2*s,s},e.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}e=+e||0;var o=this.length-e;switch(n?(n=+n,n>o&&(n=o)):n=o,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw new Error("Unknown encoding")}},e.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new l(this,e-t,+t)},e.prototype.copy=function(t,e,n,r){for(var i=[],o=n;r>o;o++)C.ok("undefined"!=typeof this[o],"copying undefined buffer bytes!"),i.push(this[o]);for(var o=e;o<e+i.length;o++)t[o]=i[o-e]},e.prototype.fill=function(t,e,n){if(n>this.length)throw new Error("oob");if(e>n)throw new Error("oob");for(var r=e;n>r;r++)this[r]=t},n.SlowBuffer=e,n.Buffer=l,l.poolSize=8192;var T;l.isBuffer=function(t){return t instanceof l||t instanceof e},l.concat=function(t,e){if(!Array.isArray(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new l(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;n<t.length;n++){var r=t[n];e+=r.length}}for(var i=new l(e),o=0,n=0;n<t.length;n++){var r=t[n];
r.copy(i,o),o+=r.length}return i},l.prototype.inspect=function(){for(var t=[],e=this.length,i=0;e>i;i++)if(t[i]=r(this.parent[i+this.offset]),i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}return"<Buffer "+t.join(" ")+">"},l.prototype.get=function(t){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},l.prototype.set=function(t,e){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=e},l.prototype.write=function(t,n,r,i){if(isFinite(n))isFinite(r)||(i=r,r=void 0);else{var o=i;i=n,n=r,r=o}n=+n||0;var s=this.length-n;r?(r=+r,r>s&&(r=s)):r=s,i=String(i||"utf8").toLowerCase();var a;switch(i){case"hex":a=this.parent.hexWrite(t,this.offset+n,r);break;case"utf8":case"utf-8":a=this.parent.utf8Write(t,this.offset+n,r);break;case"ascii":a=this.parent.asciiWrite(t,this.offset+n,r);break;case"binary":a=this.parent.binaryWrite(t,this.offset+n,r);break;case"base64":a=this.parent.base64Write(t,this.offset+n,r);break;case"ucs2":case"ucs-2":a=this.parent.ucs2Write(t,this.offset+n,r);break;default:throw new Error("Unknown encoding")}return l._charsWritten=e._charsWritten,a},l.prototype.toString=function(t,e,n){switch(t=String(t||"utf8").toLowerCase(),"undefined"==typeof e||0>e?e=0:e>this.length&&(e=this.length),"undefined"==typeof n||n>this.length?n=this.length:0>n&&(n=0),e+=this.offset,n+=this.offset,t){case"hex":return this.parent.hexSlice(e,n);case"utf8":case"utf-8":return this.parent.utf8Slice(e,n);case"ascii":return this.parent.asciiSlice(e,n);case"binary":return this.parent.binarySlice(e,n);case"base64":return this.parent.base64Slice(e,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},l.byteLength=e.byteLength,l.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>n)throw new Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");return this.parent.fill(t,e+this.offset,n+this.offset)},l.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||(r=this.length),e||(e=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==i.length)return 0;if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n),this.parent.copy(t.parent,e+t.offset,n+this.offset,r+this.offset)},l.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new l(this.parent,e-t,+t+this.offset)},l.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},l.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},l.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},l.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")},l.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},l.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},l.prototype.readUInt8=function(t,e){var n=this;return e||(C.ok(void 0!==t&&null!==t,"missing offset"),C.ok(t<n.length,"Trying to read beyond buffer length")),t>=n.length?void 0:n.parent[n.offset+t]},l.prototype.readUInt16LE=function(t,e){return h(this,t,!1,e)},l.prototype.readUInt16BE=function(t,e){return h(this,t,!0,e)},l.prototype.readUInt32LE=function(t,e){return d(this,t,!1,e)},l.prototype.readUInt32BE=function(t,e){return d(this,t,!0,e)},l.prototype.readInt8=function(t,e){var n,r=this;return e||(C.ok(void 0!==t&&null!==t,"missing offset"),C.ok(t<r.length,"Trying to read beyond buffer length")),t>=r.length?void 0:(n=128&r.parent[r.offset+t],n?-1*(255-r.parent[r.offset+t]+1):r.parent[r.offset+t])},l.prototype.readInt16LE=function(t,e){return g(this,t,!1,e)},l.prototype.readInt16BE=function(t,e){return g(this,t,!0,e)},l.prototype.readInt32LE=function(t,e){return m(this,t,!1,e)},l.prototype.readInt32BE=function(t,e){return m(this,t,!0,e)},l.prototype.readFloatLE=function(t,e){return v(this,t,!1,e)},l.prototype.readFloatBE=function(t,e){return v(this,t,!0,e)},l.prototype.readDoubleLE=function(t,e){return y(this,t,!1,e)},l.prototype.readDoubleBE=function(t,e){return y(this,t,!0,e)},l.prototype.writeUInt8=function(t,e,n){var r=this;n||(C.ok(void 0!==t&&null!==t,"missing value"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e<r.length,"trying to write beyond buffer length"),b(t,255)),e<r.length&&(r.parent[r.offset+e]=t)},l.prototype.writeUInt16LE=function(t,e,n){x(this,t,e,!1,n)},l.prototype.writeUInt16BE=function(t,e,n){x(this,t,e,!0,n)},l.prototype.writeUInt32LE=function(t,e,n){w(this,t,e,!1,n)},l.prototype.writeUInt32BE=function(t,e,n){w(this,t,e,!0,n)},l.prototype.writeInt8=function(t,e,n){var r=this;n||(C.ok(void 0!==t&&null!==t,"missing value"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e<r.length,"Trying to write beyond buffer length"),S(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},l.prototype.writeInt16LE=function(t,e,n){k(this,t,e,!1,n)},l.prototype.writeInt16BE=function(t,e,n){k(this,t,e,!0,n)},l.prototype.writeInt32LE=function(t,e,n){E(this,t,e,!1,n)},l.prototype.writeInt32BE=function(t,e,n){E(this,t,e,!0,n)},l.prototype.writeFloatLE=function(t,e,n){N(this,t,e,!1,n)},l.prototype.writeFloatBE=function(t,e,n){N(this,t,e,!0,n)},l.prototype.writeDoubleLE=function(t,e,n){A(this,t,e,!1,n)},l.prototype.writeDoubleBE=function(t,e,n){A(this,t,e,!0,n)},e.prototype.readUInt8=l.prototype.readUInt8,e.prototype.readUInt16LE=l.prototype.readUInt16LE,e.prototype.readUInt16BE=l.prototype.readUInt16BE,e.prototype.readUInt32LE=l.prototype.readUInt32LE,e.prototype.readUInt32BE=l.prototype.readUInt32BE,e.prototype.readInt8=l.prototype.readInt8,e.prototype.readInt16LE=l.prototype.readInt16LE,e.prototype.readInt16BE=l.prototype.readInt16BE,e.prototype.readInt32LE=l.prototype.readInt32LE,e.prototype.readInt32BE=l.prototype.readInt32BE,e.prototype.readFloatLE=l.prototype.readFloatLE,e.prototype.readFloatBE=l.prototype.readFloatBE,e.prototype.readDoubleLE=l.prototype.readDoubleLE,e.prototype.readDoubleBE=l.prototype.readDoubleBE,e.prototype.writeUInt8=l.prototype.writeUInt8,e.prototype.writeUInt16LE=l.prototype.writeUInt16LE,e.prototype.writeUInt16BE=l.prototype.writeUInt16BE,e.prototype.writeUInt32LE=l.prototype.writeUInt32LE,e.prototype.writeUInt32BE=l.prototype.writeUInt32BE,e.prototype.writeInt8=l.prototype.writeInt8,e.prototype.writeInt16LE=l.prototype.writeInt16LE,e.prototype.writeInt16BE=l.prototype.writeInt16BE,e.prototype.writeInt32LE=l.prototype.writeInt32LE,e.prototype.writeInt32BE=l.prototype.writeInt32BE,e.prototype.writeFloatLE=l.prototype.writeFloatLE,e.prototype.writeFloatBE=l.prototype.writeFloatBE,e.prototype.writeDoubleLE=l.prototype.writeDoubleLE,e.prototype.writeDoubleBE=l.prototype.writeDoubleBE}()},{assert:2,"./buffer_ieee754":1,"base64-js":5}],3:[function(t,e,n){function r(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&r(t.__proto__)}function i(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function o(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&a(Date.prototype),n=t.__proto__&&a(t.__proto__);return JSON.stringify(n)===JSON.stringify(e)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,u,c){function l(t,u){if(t&&"function"==typeof t.inspect&&t!==n&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(u);switch(typeof t){case"undefined":return p("undefined","undefined");case"string":var c="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p(c,"string");case"number":return p(""+t,"number");case"boolean":return p(""+t,"boolean")}if(null===t)return p("null","null");var h=s(t),d=e?a(t):h;if("function"==typeof t&&0===d.length){if(i(t))return p(""+t,"regexp");var g=t.name?": "+t.name:"";return p("[Function"+g+"]","special")}if(o(t)&&0===d.length)return p(t.toUTCString(),"date");var m,v,y;if(r(t)?(v="Array",y=["[","]"]):(v="Object",y=["{","}"]),"function"==typeof t){var b=t.name?": "+t.name:"";m=i(t)?" "+t:" [Function"+b+"]"}else m="";if(o(t)&&(m=" "+t.toUTCString()),0===d.length)return y[0]+m+y[1];if(0>u)return i(t)?p(""+t,"regexp"):p("[Object]","special");f.push(t);var x=d.map(function(e){var n,i;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?i=t.__lookupSetter__(e)?p("[Getter/Setter]","special"):p("[Getter]","special"):t.__lookupSetter__(e)&&(i=p("[Setter]","special"))),h.indexOf(e)<0&&(n="["+e+"]"),i||(f.indexOf(t[e])<0?(i=null===u?l(t[e]):l(t[e],u-1),i.indexOf("\n")>-1&&(i=r(t)?i.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+i.split("\n").map(function(t){return"   "+t}).join("\n"))):i=p("[Circular]","special")),"undefined"==typeof n){if("Array"===v&&e.match(/^\d+$/))return i;n=JSON.stringify(""+e),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=p(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=p(n,"string"))}return n+": "+i});f.pop();var w=0,S=x.reduce(function(t,e){return w++,e.indexOf("\n")>=0&&w++,t+e.length+1},0);return x=S>50?y[0]+(""===m?"":m+"\n ")+" "+x.join(",\n  ")+" "+y[1]:y[0]+m+" "+x.join(", ")+" "+y[1]}var f=[],p=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return c||(p=function(t){return t}),l(t,"undefined"==typeof u?2:u)},n.log=function(){},n.pump=null;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},u=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=u(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;r<arguments.length;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,o=i.length,s=String(t).replace(c,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return t}}),a=i[r];o>r;a=i[++r])s+=null===a||"object"!=typeof a?" "+a:" "+n.inspect(a);return s}},{events:6}],5:[function(t,e){!function(){"use strict";function t(t){var e,n,i,o,s,a;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=t.indexOf("="),s=s>0?t.length-s:0,a=[],i=s>0?t.length-4:t.length,e=0,n=0;i>e;e+=4,n+=3)o=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),a.push((16711680&o)>>16),a.push((65280&o)>>8),a.push(255&o);return 2===s?(o=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,a.push(255&o)):1===s&&(o=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,a.push(255&o>>8),a.push(255&o)),a}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,i,o,s=t.length%3,a="";for(n=0,o=t.length-s;o>n;n+=3)i=(t[n]<<16)+(t[n+1]<<8)+t[n+2],a+=e(i);switch(s){case 1:i=t[t.length-1],a+=r[i>>2],a+=r[63&i<<4],a+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],a+=r[i>>10],a+=r[63&i>>4],a+=r[63&i<<2],a+="="}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n}()},{}],7:[function(t,e,n){n.readIEEE754=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?0:i-1,p=n?1:-1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},n.writeIEEE754=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?o-1:0,d=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=255&s,h+=d,s/=256,c-=8);t[n+h-d]|=128*g}},{}],8:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(t,e,n){!function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}t.EventEmitter||(t.EventEmitter=function(){});var r=n.EventEmitter=t.EventEmitter,i="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=10;r.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(i(e)){for(var n=Array.prototype.slice.call(arguments,1),r=e.slice(),o=0,s=r.length;s>o;o++)r[o].apply(this,n);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(i(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:o,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,function r(){n.removeListener(t,r),e.apply(this,arguments)}),this},r.prototype.removeListener=function(t,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(i(r)){var o=e(r,n);if(0>o)return this;r.splice(o,1),0==r.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}}(t("__browserify_process"))},{__browserify_process:8}],4:[function(t,e,n){!function(){function e(t){this.length=t}function r(t){return 16>t?"0"+t.toString(16):t.toString(16)}function i(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)e.push(parseInt(r[i],16));return e}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function s(e){return t("base64-js").toByteArray(e)}function a(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);)e[i+n]=t[i],i++;return i}function u(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function c(t){return t=~~Math.ceil(+t),0>t?0:t}function l(t,n,r){if(!(this instanceof l))return new l(t,n,r);var i;if("number"==typeof r)this.length=c(n),this.parent=t,this.offset=r;else{switch(i=typeof t){case"number":this.length=c(t);break;case"string":this.length=l.byteLength(t,n);break;case"object":this.length=c(t.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>l.poolSize?(this.parent=new e(this.length),this.offset=0):((!T||T.length-T.used<this.length)&&p(),this.parent=T,this.offset=T.used,T.used+=this.length),f(t))for(var o=0;o<this.length;o++)this.parent[o+this.offset]=t[o];else"string"==i&&(this.length=this.write(t,0,n))}}function f(t){return Array.isArray(t)||l.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function p(){T=new e(l.poolSize),T.used=0}function h(t,e,n,r){var i=0;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+1<t.length,"Trying to read beyond buffer length")),n?(i=t.parent[t.offset+e]<<8,i|=t.parent[t.offset+e+1]):(i=t.parent[t.offset+e],i|=t.parent[t.offset+e+1]<<8),i}function d(t,e,n,r){var i=0;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+3<t.length,"Trying to read beyond buffer length")),n?(i=t.parent[t.offset+e+1]<<16,i|=t.parent[t.offset+e+2]<<8,i|=t.parent[t.offset+e+3],i+=t.parent[t.offset+e]<<24>>>0):(i=t.parent[t.offset+e+2]<<16,i|=t.parent[t.offset+e+1]<<8,i|=t.parent[t.offset+e],i+=t.parent[t.offset+e+3]<<24>>>0),i}function g(t,e,n,r){var i,o;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+1<t.length,"Trying to read beyond buffer length")),o=h(t,e,n,r),i=32768&o,i?-1*(65535-o+1):o}function m(t,e,n,r){var i,o;return r||(C.ok("boolean"==typeof n,"missing or invalid endian"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e+3<t.length,"Trying to read beyond buffer length")),o=d(t,e,n,r),i=2147483648&o,i?-1*(4294967295-o+1):o}function v(e,n,r,i){return i||(C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(n+3<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function y(e,n,r,i){return i||(C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(n+7<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function b(t,e){C.ok("number"==typeof t,"cannot write a non-number as a number"),C.ok(t>=0,"specified a negative value for writing an unsigned value"),C.ok(e>=t,"value is larger than maximum value for type"),C.ok(Math.floor(t)===t,"value has a fractional component")}function x(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+1<t.length,"trying to write beyond buffer length"),b(e,65535)),r?(t.parent[t.offset+n]=(65280&e)>>>8,t.parent[t.offset+n+1]=255&e):(t.parent[t.offset+n+1]=(65280&e)>>>8,t.parent[t.offset+n]=255&e)}function w(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+3<t.length,"trying to write beyond buffer length"),b(e,4294967295)),r?(t.parent[t.offset+n]=255&e>>>24,t.parent[t.offset+n+1]=255&e>>>16,t.parent[t.offset+n+2]=255&e>>>8,t.parent[t.offset+n+3]=255&e):(t.parent[t.offset+n+3]=255&e>>>24,t.parent[t.offset+n+2]=255&e>>>16,t.parent[t.offset+n+1]=255&e>>>8,t.parent[t.offset+n]=255&e)}function S(t,e,n){C.ok("number"==typeof t,"cannot write a non-number as a number"),C.ok(e>=t,"value larger than maximum allowed value"),C.ok(t>=n,"value smaller than minimum allowed value"),C.ok(Math.floor(t)===t,"value has a fractional component")}function _(t,e,n){C.ok("number"==typeof t,"cannot write a non-number as a number"),C.ok(e>=t,"value larger than maximum allowed value"),C.ok(t>=n,"value smaller than minimum allowed value")}function k(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+1<t.length,"Trying to write beyond buffer length"),S(e,32767,-32768)),e>=0?x(t,e,n,r,i):x(t,65535+e+1,n,r,i)}function E(t,e,n,r,i){i||(C.ok(void 0!==e&&null!==e,"missing value"),C.ok("boolean"==typeof r,"missing or invalid endian"),C.ok(void 0!==n&&null!==n,"missing offset"),C.ok(n+3<t.length,"Trying to write beyond buffer length"),S(e,2147483647,-2147483648)),e>=0?w(t,e,n,r,i):w(t,4294967295+e+1,n,r,i)}function N(e,n,r,i,o){o||(C.ok(void 0!==n&&null!==n,"missing value"),C.ok("boolean"==typeof i,"missing or invalid endian"),C.ok(void 0!==r&&null!==r,"missing offset"),C.ok(r+3<e.length,"Trying to write beyond buffer length"),_(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,23,4)}function A(e,n,r,i,o){o||(C.ok(void 0!==n&&null!==n,"missing value"),C.ok("boolean"==typeof i,"missing or invalid endian"),C.ok(void 0!==r&&null!==r,"missing offset"),C.ok(r+7<e.length,"Trying to write beyond buffer length"),_(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,52,8)}var C=t("assert");n.INSPECT_MAX_BYTES=50,e.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return i(t).length;case"ascii":return t.length;case"base64":return s(t).length;default:throw new Error("Unknown encoding")}},e.prototype.utf8Write=function(t,n,r){return e._charsWritten=a(i(t),this,n,r)},e.prototype.asciiWrite=function(t,n,r){return e._charsWritten=a(o(t),this,n,r)},e.prototype.base64Write=function(t,n,r){return e._charsWritten=a(s(t),this,n,r)},e.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},e.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;r<t.length;)t[r]<=127?(e+=u(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;return e+u(n)},e.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},e.prototype.inspect=function(){for(var t=[],e=this.length,i=0;e>i;i++)if(t[i]=r(this[i]),i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},e.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var i="",o=t;e>o;o++)i+=r(this[o]);return i},e.prototype.toString=function(t,e,n){if(t=String(t||"utf8").toLowerCase(),e=+e||0,"undefined"==typeof n&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},e.prototype.hexWrite=function(t,n,r){n=+n||0;var i=this.length-n;r?(r=+r,r>i&&(r=i)):r=i;var o=t.length;if(o%2)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");this[n+s]=a}return e._charsWritten=2*s,s},e.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}e=+e||0;var o=this.length-e;switch(n?(n=+n,n>o&&(n=o)):n=o,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw new Error("Unknown encoding")}},e.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new l(this,e-t,+t)},e.prototype.copy=function(t,e,n,r){for(var i=[],o=n;r>o;o++)C.ok("undefined"!=typeof this[o],"copying undefined buffer bytes!"),i.push(this[o]);for(var o=e;o<e+i.length;o++)t[o]=i[o-e]},n.SlowBuffer=e,n.Buffer=l,l.poolSize=8192;var T;l.isBuffer=function(t){return t instanceof l||t instanceof e},l.concat=function(t,e){if(!Array.isArray(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new l(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;n<t.length;n++){var r=t[n];e+=r.length}}for(var i=new l(e),o=0,n=0;n<t.length;n++){var r=t[n];r.copy(i,o),o+=r.length}return i},l.prototype.inspect=function(){for(var t=[],e=this.length,i=0;e>i;i++)if(t[i]=r(this.parent[i+this.offset]),i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}return"<Buffer "+t.join(" ")+">"},l.prototype.get=function(t){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},l.prototype.set=function(t,e){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=e},l.prototype.write=function(t,n,r,i){if(isFinite(n))isFinite(r)||(i=r,r=void 0);else{var o=i;i=n,n=r,r=o}n=+n||0;var s=this.length-n;r?(r=+r,r>s&&(r=s)):r=s,i=String(i||"utf8").toLowerCase();var a;switch(i){case"hex":a=this.parent.hexWrite(t,this.offset+n,r);break;case"utf8":case"utf-8":a=this.parent.utf8Write(t,this.offset+n,r);break;case"ascii":a=this.parent.asciiWrite(t,this.offset+n,r);break;case"binary":a=this.parent.binaryWrite(t,this.offset+n,r);break;case"base64":a=this.parent.base64Write(t,this.offset+n,r);break;case"ucs2":case"ucs-2":a=this.parent.ucs2Write(t,this.offset+n,r);break;default:throw new Error("Unknown encoding")}return l._charsWritten=e._charsWritten,a},l.prototype.toString=function(t,e,n){switch(t=String(t||"utf8").toLowerCase(),"undefined"==typeof e||0>e?e=0:e>this.length&&(e=this.length),"undefined"==typeof n||n>this.length?n=this.length:0>n&&(n=0),e+=this.offset,n+=this.offset,t){case"hex":return this.parent.hexSlice(e,n);case"utf8":case"utf-8":return this.parent.utf8Slice(e,n);case"ascii":return this.parent.asciiSlice(e,n);case"binary":return this.parent.binarySlice(e,n);case"base64":return this.parent.base64Slice(e,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},l.byteLength=e.byteLength,l.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>n)throw new Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");return this.parent.fill(t,e+this.offset,n+this.offset)},l.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||(r=this.length),e||(e=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==i.length)return 0;if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n),this.parent.copy(t.parent,e+t.offset,n+this.offset,r+this.offset)},l.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new l(this.parent,e-t,+t+this.offset)},l.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},l.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},l.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},l.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")},l.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},l.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},l.prototype.readUInt8=function(t,e){var n=this;return e||(C.ok(void 0!==t&&null!==t,"missing offset"),C.ok(t<n.length,"Trying to read beyond buffer length")),n.parent[n.offset+t]},l.prototype.readUInt16LE=function(t,e){return h(this,t,!1,e)},l.prototype.readUInt16BE=function(t,e){return h(this,t,!0,e)},l.prototype.readUInt32LE=function(t,e){return d(this,t,!1,e)},l.prototype.readUInt32BE=function(t,e){return d(this,t,!0,e)},l.prototype.readInt8=function(t,e){var n,r=this;return e||(C.ok(void 0!==t&&null!==t,"missing offset"),C.ok(t<r.length,"Trying to read beyond buffer length")),n=128&r.parent[r.offset+t],n?-1*(255-r.parent[r.offset+t]+1):r.parent[r.offset+t]},l.prototype.readInt16LE=function(t,e){return g(this,t,!1,e)},l.prototype.readInt16BE=function(t,e){return g(this,t,!0,e)},l.prototype.readInt32LE=function(t,e){return m(this,t,!1,e)},l.prototype.readInt32BE=function(t,e){return m(this,t,!0,e)},l.prototype.readFloatLE=function(t,e){return v(this,t,!1,e)},l.prototype.readFloatBE=function(t,e){return v(this,t,!0,e)},l.prototype.readDoubleLE=function(t,e){return y(this,t,!1,e)},l.prototype.readDoubleBE=function(t,e){return y(this,t,!0,e)},l.prototype.writeUInt8=function(t,e,n){var r=this;n||(C.ok(void 0!==t&&null!==t,"missing value"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e<r.length,"trying to write beyond buffer length"),b(t,255)),r.parent[r.offset+e]=t},l.prototype.writeUInt16LE=function(t,e,n){x(this,t,e,!1,n)},l.prototype.writeUInt16BE=function(t,e,n){x(this,t,e,!0,n)},l.prototype.writeUInt32LE=function(t,e,n){w(this,t,e,!1,n)},l.prototype.writeUInt32BE=function(t,e,n){w(this,t,e,!0,n)},l.prototype.writeInt8=function(t,e,n){var r=this;n||(C.ok(void 0!==t&&null!==t,"missing value"),C.ok(void 0!==e&&null!==e,"missing offset"),C.ok(e<r.length,"Trying to write beyond buffer length"),S(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},l.prototype.writeInt16LE=function(t,e,n){k(this,t,e,!1,n)},l.prototype.writeInt16BE=function(t,e,n){k(this,t,e,!0,n)},l.prototype.writeInt32LE=function(t,e,n){E(this,t,e,!1,n)},l.prototype.writeInt32BE=function(t,e,n){E(this,t,e,!0,n)},l.prototype.writeFloatLE=function(t,e,n){N(this,t,e,!1,n)},l.prototype.writeFloatBE=function(t,e,n){N(this,t,e,!0,n)},l.prototype.writeDoubleLE=function(t,e,n){A(this,t,e,!1,n)},l.prototype.writeDoubleBE=function(t,e,n){A(this,t,e,!0,n)},e.prototype.readUInt8=l.prototype.readUInt8,e.prototype.readUInt16LE=l.prototype.readUInt16LE,e.prototype.readUInt16BE=l.prototype.readUInt16BE,e.prototype.readUInt32LE=l.prototype.readUInt32LE,e.prototype.readUInt32BE=l.prototype.readUInt32BE,e.prototype.readInt8=l.prototype.readInt8,e.prototype.readInt16LE=l.prototype.readInt16LE,e.prototype.readInt16BE=l.prototype.readInt16BE,e.prototype.readInt32LE=l.prototype.readInt32LE,e.prototype.readInt32BE=l.prototype.readInt32BE,e.prototype.readFloatLE=l.prototype.readFloatLE,e.prototype.readFloatBE=l.prototype.readFloatBE,e.prototype.readDoubleLE=l.prototype.readDoubleLE,e.prototype.readDoubleBE=l.prototype.readDoubleBE,e.prototype.writeUInt8=l.prototype.writeUInt8,e.prototype.writeUInt16LE=l.prototype.writeUInt16LE,e.prototype.writeUInt16BE=l.prototype.writeUInt16BE,e.prototype.writeUInt32LE=l.prototype.writeUInt32LE,e.prototype.writeUInt32BE=l.prototype.writeUInt32BE,e.prototype.writeInt8=l.prototype.writeInt8,e.prototype.writeInt16LE=l.prototype.writeInt16LE,e.prototype.writeInt16BE=l.prototype.writeInt16BE,e.prototype.writeInt32LE=l.prototype.writeInt32LE,e.prototype.writeInt32BE=l.prototype.writeInt32BE,e.prototype.writeFloatLE=l.prototype.writeFloatLE,e.prototype.writeFloatBE=l.prototype.writeFloatBE,e.prototype.writeDoubleLE=l.prototype.writeDoubleLE,e.prototype.writeDoubleBE=l.prototype.writeDoubleBE
}()},{assert:2,"./buffer_ieee754":7,"base64-js":9}],9:[function(t,e){!function(){"use strict";function t(t){var e,n,i,o,s,a;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=t.indexOf("="),s=s>0?t.length-s:0,a=[],i=s>0?t.length-4:t.length,e=0,n=0;i>e;e+=4,n+=3)o=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),a.push((16711680&o)>>16),a.push((65280&o)>>8),a.push(255&o);return 2===s?(o=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,a.push(255&o)):1===s&&(o=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,a.push(255&o>>8),a.push(255&o)),a}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,i,o,s=t.length%3,a="";for(n=0,o=t.length-s;o>n;n+=3)i=(t[n]<<16)+(t[n+1]<<8)+t[n+2],a+=e(i);switch(s){case 1:i=t[t.length-1],a+=r[i>>2],a+=r[63&i<<4],a+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],a+=r[i>>10],a+=r[63&i>>4],a+=r[63&i<<2],a+="="}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n}()},{}]},{},[]),e.exports=t("buffer-browserify")},{}],51:[function(t,e){!function(n){!function(){function r(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>i&&(e[r+i++]=g[t])});16>i;)e[r+i++]=0;return e}function i(t,e){var n=e||0,r=d;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function o(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var s=null!=t.clockseq?t.clockseq:b,a=null!=t.msecs?t.msecs:(new Date).getTime(),u=null!=t.nsecs?t.nsecs:w+1,c=a-x+(u-w)/1e4;if(0>c&&null==t.clockseq&&(s=16383&s+1),(0>c||a>x)&&null==t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x=a,w=u,b=s,a+=122192928e5;var l=(1e4*(268435455&a)+u)%4294967296;o[r++]=255&l>>>24,o[r++]=255&l>>>16,o[r++]=255&l>>>8,o[r++]=255&l;var f=268435455&1e4*(a/4294967296);o[r++]=255&f>>>8,o[r++]=255&f,o[r++]=16|15&f>>>24,o[r++]=255&f>>>16,o[r++]=128|s>>>8,o[r++]=255&s;for(var p=t.node||y,h=0;6>h;h++)o[r+h]=p[h];return e?e:i(o)}function s(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new h(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=64|15&o[6],o[8]=128|63&o[8],e)for(var s=0;16>s;s++)e[r+s]=o[s];return e||i(o)}var a,u=this;if("function"==typeof t)try{var c=t("crypto").randomBytes;a=c&&function(){return c(16)}}catch(l){}if(!a&&u.crypto&&crypto.getRandomValues){var f=new Uint8Array(16);a=function(){return crypto.getRandomValues(f),f}}if(!a){var p=new Array(16);a=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),p[e]=255&t>>>((3&e)<<3);return p}}for(var h="function"==typeof n?n:Array,d=[],g={},m=0;256>m;m++)d[m]=(m+256).toString(16).substr(1),g[d[m]]=m;var v=a(),y=[1|v[0],v[1],v[2],v[3],v[4],v[5]],b=16383&(v[6]<<8|v[7]),x=0,w=0,S=s;if(S.v1=o,S.v4=s,S.parse=r,S.unparse=i,S.BufferClass=h,u.define&&define.amd)define(function(){return S});else if("undefined"!=typeof e&&e.exports)e.exports=S;else{var _=u.uuid;S.noConflict=function(){return u.uuid=_,S},u.uuid=S}}()}(t("__browserify_buffer").Buffer)},{crypto:36,__browserify_buffer:55}],2:[function(t,e,n){function r(t,e){return a.init(this,e,t)}function i(t,e){return a.init(this,e,t)}function o(t,e){return a.init(this,e,t)}var s=t("lodash"),a=t("./stanza"),u=t("./jingle");r.prototype={constructor:{value:r},_name:"rtp",NS:"urn:xmpp:jingle:apps:rtp:1",EL:"description",toString:a.toString,toJSON:a.toJSON,get media(){return a.getAttribute(this.xml,"media")},set media(t){a.setAttribute(this.xml,"media",t)},get ssrc(){return a.getAttribute(this.xml,"ssrc")},set ssrc(t){a.setAttribute(this.xml,"ssrc",t)},get bandwidth(){return a.getSubText(this.xml,this.NS,"bandwidth")},set bandwidth(t){a.setSubText(this.xml,this.NS,"bandwidth",t)},get bandwidthType(){return a.getSubAttribute(this.xml,this.NS,"bandwidth","type")},set bandwidthType(t){a.setSubAttribute(this.xml,this.NS,"bandwidth","type",t)},get payloadTypes(){},set payloadTypes(){},get encryptionRequired(){var t=a.getSubAttribute(this.xml,this.NS,"encryption","required");return"true"===t||"1"===t},set encryptionRequired(t){a.setSubAttribute(this.xml,this.NS,"encryption","required",t?"true":"false")},get encryptionOptions(){},set encryptionOptions(){}},i.prototype={constructor:{value:i},_name:"crypto",NS:"urn:xmpp:jingle:apps:rtp:1",EL:"crypto",toString:a.toString,toJSON:a.toJSON,get cipherSuite(){return a.getAttribute(this.xml,"cipher-suite")},set cipherSuite(t){a.setAttribute(this.xml,"cipher-suite",t)},get keyParams(){return a.getAttribute(this.xml,"key-params")},set keyParams(t){a.setAttribute(this.xml,"key-params",t)},get sessionParams(){return a.getAttribute(this.xml,"session-params")},set sessionParams(t){a.setAttribute(this.xml,"session-params",t)},get tag(){return a.getAttribute(this.xml,"tag")},set tag(t){a.setAttribute(this.xml,"tag",t)}},o.prototype={constructor:{value:o},_name:"payloadType",NS:"urn:xmpp:jingle:apps:rtp:1",EL:"payload-type",toString:a.toString,toJSON:a.toJSON,get channels(){return a.getAttribute(this.xml,"channels")},set channels(t){a.setAttribute(this.xml,"channels",t)},get clockrate(){return a.getAttribute(this.xml,"clockrate")},set clockrate(t){a.setAttribute(this.xml,"clockrate",t)},get id(){return a.getAttribute(this.xml,"id")},set id(t){a.setAttribute(this.xml,"id",t)},get maxptime(){return a.getAttribute(this.xml,"maxptime")},set maxptime(t){a.setAttribute(this.xml,"maxptime",t)},get name(){return a.getAttribute(this.xml,"name")},set name(t){a.setAttribute(this.xml,"name",t)},get ptime(){return a.getAttribute(this.xml,"ptime")},set ptime(t){a.setAttribute(this.xml,"ptime",t)},get parameters(){var t={},e=a.find(this.xml,this.NS,"parameter");return s.forEach(e,function(e){var n=a.getAttribute(e,"name"),r=a.getAttribute(e,"value");t[n]=r}),t},set parameters(t){var e=this;s.forEach(t,function(t,n){var r=document.createElementNS(e.NS,"parameter");r.setAttribute("name",t),r.setAttribute("value",n),e.xml.appendChild(r)})}},a.extend(u.Content,r),n.RTP=r,n.Crypto=i,n.PayloadType=o},{"./stanza":4,"./jingle":10,lodash:50}],3:[function(t,e,n){function r(t,e){return o.init(this,e,t)}function i(t,e){return o.init(this,e,t)}var o=(t("lodash"),t("./stanza")),s=t("./jingle");r.prototype={constructor:{value:r},_name:"iceUdp",NS:"urn:xmpp:jingle:transports:ice-udp:1",EL:"transport",toString:o.toString,toJSON:o.toJSON,get pwd(){return o.getAttribute(this.xml,"pwd")},set pwd(t){o.setAttribute(this.xml,"pwd",t)},get ufrag(){return o.getAttribute(this.xml,"ufrag")},set ufrag(t){o.setAttribute(this.xml,"ufrag",t)},get candidates(){},set candidates(){},get remoteCandidate(){return{component:o.getSubAttribute(this.xml,this.NS,"remote-candidate","component"),ip:o.getSubAttribute(this.xml,this.NS,"remote-candidate","ip"),port:o.getSubAttribute(this.xml,this.NS,"remote-candidate","port")}},set remoteCandidate(t){o.setSubAttribute(this.xml,this.NS,"remote-candidate","component",t.component),o.setSubAttribute(this.xml,this.NS,"remote-candidate","ip",t.ip),o.setSubAttribute(this.xml,this.NS,"remote-candidate","port",t.port)}},i.prototype={constructor:{value:i},_name:"iceUdpCandidate",NS:"urn:xmpp:jingle:transports:ice-udp:1",EL:"candidate",toString:o.toString,toJSON:o.toJSON,get component(){return o.getAttribute(this.xml,"component")},set component(t){o.setAttribute(this.xml,"component",t)},get foundation(){return o.getAttribute(this.xml,"foundation")},set foundation(t){o.setAttribute(this.xml,"foundation",t)},get generation(){return o.getAttribute(this.xml,"generation")},set generation(t){o.setAttribute(this.xml,"generation",t)},get id(){return o.getAttribute(this.xml,"id")},set id(t){o.setAttribute(this.xml,"id",t)},get ip(){return o.getAttribute(this.xml,"ip")},set ip(t){o.setAttribute(this.xml,"ip",t)},get network(){return o.getAttribute(this.xml,"network")},set network(t){o.setAttribute(this.xml,"network",t)},get port(){return o.getAttribute(this.xml,"port")},set port(t){o.setAttribute(this.xml,"port",t)},get priority(){return o.getAttribute(this.xml,"priority")},set priority(t){o.setAttribute(this.xml,"priority",t)},get protocol(){return o.getAttribute(this.xml,"protocol")},set protocol(t){o.setAttribute(this.xml,"protocol",t)},get relAddr(){return o.getAttribute(this.xml,"relAddr")},set relAddr(t){o.setAttribute(this.xml,"relAddr",t)},get relPort(){return o.getAttribute(this.xml,"relPort")},set relPort(t){o.setAttribute(this.xml,"relPort",t)},get type(){return o.getAttribute(this.xml,"type")},set type(t){o.setAttribute(this.xml,"type",t)}},o.extend(s.Content,r),n.ICEUDP=r,n.Candidate=i},{"./stanza":4,"./jingle":10,lodash:50}],56:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],52:[function(t,e){!function(t){!function(){function n(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(r,arguments)}}var r,i,o={};r=this,null!=r&&(i=r.async),o.noConflict=function(){return r.async=i,o};var s=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},a=function(t,e){if(t.map)return t.map(e);var n=[];return s(t,function(t,r,i){n.push(e(t,r,i))}),n},u=function(t,e,n){return t.reduce?t.reduce(e,n):(s(t,function(t,r,i){n=e(n,t,r,i)}),n)},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof t&&t.nextTick?(o.nextTick=t.nextTick,o.setImmediate="undefined"!=typeof setImmediate?setImmediate:o.nextTick):"function"==typeof setImmediate?(o.setImmediate=setImmediate,o.nextTick=setImmediate):(o.setImmediate=o.nextTick,o.nextTick=function(t){setTimeout(t,0)}),o.each=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0;s(t,function(o){e(o,n(function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length&&r(null))}))})},o.forEach=o.each,o.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n(null):i())})};i()},o.forEachSeries=o.eachSeries,o.eachLimit=function(t,e,n,r){var i=l(e);i.apply(null,[t,n,r])},o.forEachLimit=o.eachLimit;var l=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[o.each].concat(e))}},p=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[l(t)].concat(n))}},h=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[o.eachSeries].concat(e))}},d=function(t,e,n,r){var i=[];e=a(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})};o.map=f(d),o.mapSeries=h(d),o.mapLimit=function(t,e,n,r){return g(e)(t,n,r)};var g=function(t){return p(t,d)};o.reduce=function(t,e,n,r){o.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(t,e,n,r){var i=a(t,function(t){return t}).reverse();o.reduce(i,e,n,r)},o.foldr=o.reduceRight;var m=function(t,e,n,r){var i=[];e=a(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(){r(a(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};o.filter=f(m),o.filterSeries=h(m),o.select=o.filter,o.selectSeries=o.filterSeries;var v=function(t,e,n,r){var i=[];e=a(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(){r(a(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};o.reject=f(v),o.rejectSeries=h(v);var y=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(){r()})};o.detect=f(y),o.detectSeries=h(y),o.some=function(t,e,n){o.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(){n(!1)})},o.any=o.some,o.every=function(t,e,n){o.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(){n(!0)})},o.all=o.every,o.sortBy=function(t,e,n){o.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,a(e.sort(r),function(t){return t.value}))})},o.auto=function(t,e){e=e||function(){};var n=c(t);if(!n.length)return e(null);var r={},i=[],a=function(t){i.unshift(t)},l=function(t){for(var e=0;e<i.length;e+=1)if(i[e]===t)return i.splice(e,1),void 0},f=function(){s(i.slice(0),function(t){t()})};a(function(){c(r).length===n.length&&(e(null,r),e=function(){})}),s(n,function(n){var i=t[n]instanceof Function?[t[n]]:t[n],p=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var a={};s(c(r),function(t){a[t]=r[t]}),a[n]=i,e(t,a),e=function(){}}else r[n]=i,o.setImmediate(f)},h=i.slice(0,Math.abs(i.length-1))||[],d=function(){return u(h,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(d())i[i.length-1](p,r);else{var g=function(){d()&&(l(g),i[i.length-1](p,r))};a(g)}})},o.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),s=t.next();s?i.push(r(s)):i.push(e),o.setImmediate(function(){t.apply(null,i)})}}};r(o.iterator(t))()};var b=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(c(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};o.parallel=function(t,e){b({map:o.map,each:o.each},t,e)},o.parallelLimit=function(t,e,n){b({map:g(e),each:l(e)},t,n)},o.series=function(t,e){if(e=e||function(){},t.constructor===Array)o.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};o.eachSeries(c(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},o.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},o.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var x=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};o.concat=f(x),o.concatSeries=h(x),o.whilst=function(t,e,n){t()?e(function(r){return r?n(r):(o.whilst(t,e,n),void 0)}):n()},o.doWhilst=function(t,e,n){t(function(r){return r?n(r):(e()?o.doWhilst(t,e,n):n(),void 0)})},o.until=function(t,e,n){t()?n():e(function(r){return r?n(r):(o.until(t,e,n),void 0)})},o.doUntil=function(t,e,n){t(function(r){return r?n(r):(e()?n():o.doUntil(t,e,n),void 0)})},o.queue=function(t,e){function r(t,n,r,i){n.constructor!==Array&&(n=[n]),s(n,function(n){var s={data:n,callback:"function"==typeof i?i:null};r?t.tasks.unshift(s):t.tasks.push(s),t.saturated&&t.tasks.length===e&&t.saturated(),o.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,a={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,push:function(t,e){r(a,t,!1,e)},unshift:function(t,e){r(a,t,!0,e)},process:function(){if(i<a.concurrency&&a.tasks.length){var e=a.tasks.shift();a.empty&&0===a.tasks.length&&a.empty(),i+=1;var r=function(){i-=1,e.callback&&e.callback.apply(e,arguments),a.drain&&0===a.tasks.length+i&&a.drain(),a.process()},o=n(r);t(e.data,o)}},length:function(){return a.tasks.length},running:function(){return i}};return a},o.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),s(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.saturated&&r.length===e&&i.saturated()}),o.setImmediate(i.process)},process:function u(){if(!n){if(0===r.length)return i.drain&&i.drain(),void 0;var o="number"==typeof e?r.splice(0,e):r.splice(0),c=a(o,function(t){return t.data});i.empty&&i.empty(),n=!0,t(c,function(){n=!1;var t=arguments;s(o,function(e){e.callback&&e.callback.apply(null,t)}),u()})}},length:function(){return r.length},running:function(){return n}};return i};var w=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&s(n,function(e){console[t](e)}))}]))}};o.log=w("log"),o.dir=w("dir"),o.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),s=e.apply(null,i);s in n?o.apply(null,n[s]):s in r?r[s].push(o):(r[s]=[o],t.apply(null,i.concat([function(){n[s]=arguments;var t=r[s];delete r[s];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},o.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},o.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return o.map(r,e,n)},o.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return o.mapSeries(r,e,n)},o.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();o.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}};var S=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};o.applyEach=f(S),o.applyEachSeries=h(S),o.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return o}):"undefined"!=typeof e&&e.exports?e.exports=o:r.async=o}()}(t("__browserify_process"))},{__browserify_process:56}],4:[function(t,e,n){var r=t("lodash"),i=new XMLSerializer,o="http://www.w3.org/XML/1998/namespace",s={},a={},u={},c=n.find=function(t,e,n){var i=t.querySelectorAll(n);return r.filter(i,function(n){return n.namespaceURI===e&&n.parentNode==t})};n.init=function(t,e,n){return t.xml=e||document.createElementNS(t.NS,t.EL),t.xml.setAttribute("xmlns",t.NS),t._extensions={},r.each(t.xml.childNodes,function(e){var n=e.namespaceURI+"|"+e.localName,r=a[n];if(void 0!==r){var i=r.prototype._name;t._extensions[i]=new r(null,e),t._extensions[i].parent=t}}),r.extend(t,n),t},n.getSubText=function(t,e,n){var r=c(t,e,n);if(!r)return"";for(var i=0;i<r.length;i++)if(r[i].namespaceURI===e)return r[i].textContent||"";return""},n.getMultiSubText=function(t,e,n,r){for(var i=c(t,e,n),o=[],r=r||function(t){return t.textContent||""},s=0;s<i.length;s++)i[s].namespaceURI===e&&o.push(r(i[s]));return o},n.getSubLangText=function(t,e,n,r){var i=c(t,e,n);if(!i)return{};for(var s,a,u={},l=[],f=0;f<i.length;f++)a=i[f],a.namespaceURI===e&&(s=a.getAttributeNS(o,"lang")||r,l.push(s),u[s]=a.textContent||"");return u},n.setSubText=function(t,e,n,r){var i=c(t,e,n);if(i.length){for(var o=0;o<i.length;o++)if(i[o].namespaceURI===e){if(r)return i[o].textContent=r,void 0;t.removeChild(i[o])}}else if(r){var s=document.createElementNS(e,n);s.textContent=r,t.appendChild(s)}},n.setMultiSubText=function(t,e,n,i,o){var s=c(t,e,n),a=[],o=o||function(r){var i=document.createElementNS(e,n);i.textContent=r,t.appendChild(i)};a="string"==typeof i?(i||"").split("\n"):i,r.forEach(s,function(e){t.removeChild(e)}),r.forEach(a,function(t){t&&o(t)})},n.setSubLangText=function(t,e,n,r,i){var s,a,u=c(t,e,n);if(u.length)for(var l=0;l<u.length;l++)s=u[l],s.namespaceURI===e&&t.removeChild(s);if("string"==typeof r)s=document.createElementNS(e,n),s.textContent=r,t.appendChild(s);else if("object"==typeof r)for(a in r)r.hasOwnProperty(a)&&(s=document.createElementNS(e,n),a!==i&&s.setAttributeNS(o,"lang",a),s.textContent=r[a],t.appendChild(s))},n.getAttribute=function(t,e,n){return t.getAttribute(e)||n||""},n.setAttribute=function(t,e,n){n?t.setAttribute(e,n):t.removeAttribute(e)},n.getSubAttribute=function(t,e,n,r,i){var o=c(t,e,n);if(!o)return"";for(var s=0;s<o.length;s++)if(o[s].namespaceURI===e)return o[s].getAttribute(r)||i||"";return""},n.setSubAttribute=function(t,e,n,r,i){var o=c(t,e,n);if(o.length){for(var s=0;s<o.length;s++)if(o[s].namespaceURI===e){if(i)return o[s].setAttribute(r,i),void 0;o[s].removeAttribute(r)}}else if(i){var n=document.createElementNS(e,n);n.setAttribute(r,i),t.appendChild(n)}i?t.setAttribute(r,i):t.removeAttribute(r)},n.toString=function(){return i.serializeToString(this.xml)},n.toJSON=function(){var t,e={},n={constructor:!0,NS:!0,EL:!0,toString:!0,toJSON:!0,_extensions:!0,prototype:!0,xml:!0,parent:!0,_name:!0};for(t in this._extensions)this._extensions[t].toJSON&&(e[t]=this._extensions[t].toJSON());for(t in this)if(!n[t]&&!u[t]&&!this._extensions[t]&&"_"!==t[0]){var r=this[t];"function"!=typeof r&&("object"==typeof r&&Object.keys(r).length>0||r)&&(e[t]=r)}return e},n.extend=function(t,e){var i=e.prototype._name,o=e.prototype.NS+"|"+e.prototype.EL;a[o]=e,u[i]=e,t.prototype.__defineGetter__(i,function(){if(!this._extensions[i]){var t=n.find(this.xml,e.prototype.NS,e.prototype.EL);t.length?this._extensions[i]=new e(null,t[0]):(this._extensions[i]=new e,this.xml.appendChild(this._extensions[i].xml)),this._extensions[i].parent=this}return this._extensions[i]}),t.prototype.__defineSetter__(i,function(t){var e=this[i];r.extend(e,t)})},n.topLevel=function(t){var e=t.prototype.NS+"|"+t.prototype.EL;a[e]=t,s[e]=t},n.build=function(t){var e=s[t.namespaceURI+"|"+t.localName];return e?new e(null,t):void 0},n.XML_NS=o,n.TOP_LEVEL_LOOKUP=s,n.LOOKUP_EXT=u,n.LOOKUP=a},{lodash:50}],6:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=(t("lodash"),t("./stanza"));r.prototype={constructor:{value:r},_name:"message",NS:"jabber:client",EL:"message",toString:i.toString,toJSON:i.toJSON,get lang(){return this.xml.getAttributeNS(i.XML_NS,"lang")||""},set lang(t){this.xml.setAttributeNS(i.XML_NS,"lang",t)},get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)},get to(){return this.xml.getAttribute("to")||""},set to(t){this.xml.setAttribute("to",t)},get from(){return this.xml.getAttribute("from")||""},set from(t){this.xml.setAttribute("from",t)},get type(){return this.xml.getAttribute("type")||"normal"},set type(t){this.xml.setAttribute("type",t)},get body(){var t=this.$body;return t[this.lang]||""},get $body(){return i.getSubLangText(this.xml,this.NS,"body",this.lang)},set body(t){i.setSubLangText(this.xml,this.NS,"body",t,this.lang)},get thread(){return i.getSubText(this.xml,this.NS,"thread")},set thread(t){i.setSubText(this.xml,this.NS,"thread",t)},get parentThread(){var t=i.find(this.xml,this.NS,"thread");return t.length?t[0].getAttribute("parent")||"":""},set parentThread(t){var e=i.find(this.xml,this.NS,"thread");if(e.length)t?e[0].setAttribute("parent",t):e[0].removeAttribute("parent");else{if(!t)return;var n=document.createElementNS(this.NS,"thread");n.setAttribute("parent",t),this.xml.appendChild(n)}}},i.topLevel(r),n.Message=r},{"./stanza":4,lodash:50}],7:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=(t("lodash"),t("./stanza"));r.prototype={constructor:{value:r},_name:"presence",NS:"jabber:client",EL:"presence",toString:i.toString,toJSON:i.toJSON,get lang(){return this.xml.getAttributeNS(i.XML_NS,"lang")||""},set lang(t){this.xml.setAttributeNS(i.XML_NS,"lang",t)},get id(){return this.xml.getAttribute("id")||""},set id(t){this.xml.setAttribute("id",t)},get to(){return this.xml.getAttribute("to")||""},set to(t){this.xml.setAttribute("to",t)},get from(){return this.xml.getAttribute("from")||""},set from(t){this.xml.setAttribute("from",t)},get type(){return this.xml.getAttribute("type")||""},set type(t){this.xml.setAttribute("type",t)},get status(){var t=this.$status;return t[this.lang]||""},get $status(){return i.getSubLangText(this.xml,this.NS,"status",this.lang)},set status(t){i.setSubLangText(this.xml,this.NS,"status",t,this.lang)},get priority(){return i.getSubText(this.xml,this.NS,"priority")},set priority(t){i.setSubText(this.xml,this.NS,"priority",t)},get show(){return i.getSubText(this.xml,this.NS,"show")},set show(t){i.setSubText(this.xml,this.NS,"show",t)}},i.topLevel(r),n.Presence=r},{"./stanza":4,lodash:50}],9:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=(t("lodash"),t("./stanza")),o=t("./message").Message;r.prototype={constructor:{value:r},_name:"sox",NS:"http://stanza.io/protocol/sox",EL:"sox",toString:i.toString,toJSON:i.toJSON,get type(){return i.getAttribute(this.xml,"type")},set type(t){i.setAttribute(this.xml,"type",t)},get label(){return i.getAttribute(this.xml,"label")},set label(t){i.setAttribute(this.xml,"label",t)},get id(){return i.getAttribute(this.xml,"id")},set id(t){i.setAttribute(this.xml,"id",t)},get sid(){return i.getAttribute(this.xml,"sid")},set sid(t){i.setAttribute(this.xml,"sid",t)},get sdp(){return this.xml.textContent},set sdp(t){this.xml.textContent=t}},i.extend(o,r),n.SOX=r},{"./stanza":4,"./message":6,lodash:50}],10:[function(t,e,n){function r(t,e){return o.init(this,e,t)}function i(t,e){return o.init(this,e,t)}var o=(t("lodash"),t("./stanza")),s=t("./iq").Iq;r.prototype={constructor:{value:r},_name:"jingle",NS:"urn:xmpp:jingle:1",EL:"jingle",toString:o.toString,toJSON:o.toJSON,get action(){return o.getAttribute(this.xml,"action")},set action(t){o.setAttribute(this.xml,"action",t)},get initiator(){return o.getAttribute(this.xml,"initiator")},set initiator(t){o.setAttribute(this.xml,"initiator",t)},get responder(){return o.getAttribute(this.xml,"responder")},set responder(t){o.setAttribute(this.xml,"responder",t)},get sid(){return o.getAttribute(this.xml,"sid")},set sid(t){o.setAttribute(this.xml,"sid",t)},get contents(){},set contents(){}},i.prototype={constructor:{value:i},_name:"jingleContent",NS:"urn:xmpp:jingle:1",EL:"content",toString:o.toString,toJSON:o.toJSON,get creator(){return o.getAttribute(this.xml,"creator")},set creator(t){o.setAttribute(this.xml,"creator",t)},get disposition(){return o.getAttribute(this.xml,"disposition","session")},set disposition(t){o.setAttribute(this.xml,"disposition",t)},get name(){return o.getAttribute(this.xml,"name")},set name(t){o.setAttribute(this.xml,"name",t)},get senders(){return o.getAttribute(this.xml,"senders","both")},set senders(t){o.setAttribute(this.xml,"senders",t)}},o.extend(s,r),n.Jingle=r,n.Content=i},{"./stanza":4,"./iq":8,lodash:50}],12:[function(t,e,n){function r(t,e){var n="",r=t.features.sort(),i=[],u={},c=[];o.forEach(t.identities,function(t){i.push([t.category||"",t.type||"",t.lang||"",t.name||""].join("/"))});var l=i.length,f=r.length;if(i=o.unique(i,!0),r=o.unique(r,!0),f!=r.length||l!=i.length)return!1;n+=i.join("<")+"<",n+=r.join("<")+"<";var p=!1;if(o.forEach(t.extensions,function(t){for(var e=t.fields,n=0,r=e.length;r>n;n++)if("FORM_TYPE"==e[n].name&&"hidden"==e[n].type){var i=e[n].value;return u[i]?(p=!0,void 0):(u[i]=t,c.push(i),void 0)}}),p)return!1;c.sort(),o.forEach(c,function(t){var e=u[t],r={},i=[];n+="<"+t,o.forEach(e.fields,function(t){var e=t.name;if("FORM_TYPE"!=e){var n=t.value||"";"object"!=typeof n&&(n=n.split("\n")),r[e]=n.sort(),i.push(e)}}),i.sort(),o.forEach(i,function(t){n+="<"+t,o.forEach(r[t],function(t){n+="<"+t})})}),"sha-1"===e&&(e="sha1");for(var h=s.createHash(e).update(a.encode(n)).digest(),d=4-h.length%4,g=0;d>g;g++)h+="=";return h}function i(){this.features={},this.identities={},this.extensions={},this.items={},this.caps={}}var o=t("lodash"),s=t("crypto");t("../stanza/disco"),t("../stanza/caps");var a={encode:function(t){return unescape(encodeURIComponent(t))},decode:function(t){return decodeURIComponent(escape(t))}};i.prototype={constructor:{value:i},addFeature:function(t,e){t=t||"",this.features[t]||(this.features[t]=[]),this.features[t].push(e)},addIdentity:function(t,e){t=t||"",this.identities[t]||(this.identities[t]=[]),this.identities[t].push(e)},addItem:function(t,e){t=t||"",this.items[t]||(this.items[t]=[]),this.items[t].push(e)},addExtension:function(t,e){t=t||"",this.extensions[t]||(this.extensions[t]=[]),this.extensions[t].push(e)}},n.init=function(t){t.disco=new i(t),t.disco.addFeature("","http://jabber.org/protocol/disco#info"),t.disco.addIdentity("",{category:"client",type:"web"}),t.getDiscoInfo=function(t,e,n){this.client.sendIq({to:t,type:"get",discoInfo:{node:e}},n)},t.getDiscoItems=function(t,e,n){this.sendIq({to:t,type:"get",discoItems:{node:e}},n)},t.updateCaps=function(){this.disco.caps={node:this.config.capsNode||"https://stanza.io",hash:"sha-1",ver:r({identities:this.disco.identities[""],features:this.disco.features[""],extensions:this.disco.extensions[""]},"sha-1")}},t.on("iq:get:discoInfo",function(e){var n=e.discoInfo.node,r=e.discoInfo.node;n===t.disco.caps.node+"#"+t.disco.caps.ver&&(r=n,n=""),t.sendIq(e.resultReply({discoInfo:{node:r,identities:t.disco.identities[n]||[],features:t.disco.features[n]||[],extensions:t.disco.extensions[n]||[]}}))}),t.on("iq:get:discoItems",function(e){var n=e.discoInfo.node;t.sendIq(e.resultReply({discoItems:{node:n,items:t.disco.items[n]||[]}}))})}},{crypto:36,"../stanza/disco":57,"../stanza/caps":53,lodash:50}],24:[function(t,e,n){function r(t){var e=this;return this.client=t,this.peerConnectionConfig={iceServers:"firefox"==l?[{url:"stun:124.124.124.2"}]:[{url:"stun:stun.l.google.com:19302"}]},this.peerConnectionConstraints={optional:[{DtlsSrtpKeyAgreement:!0}]},this.media={audio:!0,video:{mandatory:{},optional:[]}},this.sessions={},this.peerSessions={},this.attachMediaStream=u,f?(t.emit("webrtc:supported"),t.disco.addFeature("","http://stanza.io/protocol/sox"),t.on("message",function(n){if("error"!==n.type&&n._extensions.sox){var r,o=n.from+":"+n.sox.sid;"offer"===n.sox.type?(console.log("got an offer"),r=new i(t,n.from,n.sox.sid),e.sessions[o]=r,e.peerSessions[n.from]||(e.peerSessions[n.from]=[]),e.peerSessions[n.from].push(o)):"answer"===n.sox.type?(console.log("got an answer"),r=e.sessions[o],r&&(console.log("Setting remote description"),r.conn.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:n.sox.sdp})))):"candidate"===n.sox.type&&(r=e.sessions[o],r&&(console.log("Adding new ICE candidate"),r.conn.addIceCandidate(new RTCIceCandidate({sdpMLineIndex:n.sox.label,candidate:n.sox.sdp})))),t.emit("webrtc:"+n.sox.type,n)}}),void 0):(t.emit("webrtc:unsupported"),e)}function i(t,e,n){var r=this;this.client=t,this.jid=e,this.sid=n,this.closed=!1,this.conn=new s(t.webrtc.peerConnectionConfig,t.webrtc.peerConnectionConstraints),this.conn.addStream(t.webrtc.localStream),this.conn.onicecandidate=function(t){r.closed||(t.candidate?(console.log("Sending candidate"),r.client.sendMessage({mto:r.jid,sox:{type:"candidate",sid:r.sid,label:t.candidate.sdpMLineIndex,id:t.candidate.sdpMid,sdp:t.candidate.candidate}})):console.log("End of ICE candidates"))
},this.conn.onaddstream=function(t){r.client.emit("webrtc:stream:added",{stream:t.stream,sid:r.sid,peer:r.jid})},this.conn.onremovestream=function(){r.client.emit("webrtc:stream:removed",{sid:r.sid,peer:r.jid})},this.mediaConstraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}}var o=t("node-uuid"),s=null,a=null,u=null,c=null,l=null,f=!0;navigator.mozGetUserMedia?(l="firefox",s=mozRTCPeerConnection,RTCSessionDescription=mozRTCSessionDescription,RTCIceCandidate=mozRTCIceCandidate,a=navigator.mozGetUserMedia.bind(navigator),u=function(t,e){t.mozSrcObject=e,t.play()},c=function(t,e){t.mozSrcObject=e.mozSrcObject,t.play()},MediaStream.prototype.getVideoTracks=function(){return[]},MediaStream.prototype.getAudioTracks=function(){return[]}):navigator.webkitGetUserMedia?(l="chrome",s=webkitRTCPeerConnection,a=navigator.webkitGetUserMedia.bind(navigator),u=function(t,e){t.autoplay=!0,t.src=webkitURL.createObjectURL(e)},c=function(t,e){t.src=e.src},webkitMediaStream.prototype.getVideoTracks||(webkitMediaStream.prototype.getVideoTracks=function(){return this.videoTracks},webkitMediaStream.prototype.getAudioTracks=function(){return this.audioTracks}),webkitRTCPeerConnection.prototype.getLocalStreams||(webkitRTCPeerConnection.prototype.getLocalStreams=function(){return this.localStreams},webkitRTCPeerConnection.prototype.getRemoteStreams=function(){return this.remoteStreams})):f=!1,r.prototype={constructor:{value:r},testReadiness:function(){var t=this;this.localStream&&this.client.sessionStarted&&setTimeout(function(){t.client.emit("webrtc:ready")},1e3)},startLocalMedia:function(t){var e=this;a(this.media,function(n){u(t,n),e.localStream=n,e.testReadiness()},function(){throw new Error("Failed to get access to local media.")})},offerSession:function(t){var e=this,n=o.v4(),r=new i(this.client,t,n);this.sessions[t+":"+n]=r,this.peerSessions[t]||(this.peerSessions[t]=[]),this.peerSessions[t].push(t+":"+n),r.conn.createOffer(function(i){console.log("Setting local description"),r.conn.setLocalDescription(i),console.log("Sending offer"),e.client.sendMessage({to:t,sox:{type:"offer",sid:n,sdp:i.sdp}})},null,this.mediaConstraints)},acceptSession:function(t){var e=this,n=e.sessions[t.from+":"+t.sox.sid];n&&(console.log("Setting remote description"),n.conn.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:t.sox.sdp})),n.conn.createAnswer(function(t){console.log("Setting local description"),n.conn.setLocalDescription(t),console.log("Sending answer"),e.client.sendMessage({to:n.jid,sox:{type:"answer",sid:n.sid,sdp:t.sdp}})},null,this.mediaConstraints))},declineSession:function(t){this.endSession(t.from,t.sox.sid)},endSession:function(t,e){var n=this.sessions[t+":"+e];if(n){var r=t+":"+e,i=this.peerSessions[t].indexOf(r);-1!=i&&this.peerSessions.splice(i,1),this.sessions[r]=void 0,n.conn.close(),this.client.emit("webrtc:stream:removed",{sid:n.sid,peer:n.jid}),this.client.sendMessage({to:t,sox:{type:"end",sid:e}})}},mute:function(){this._audioEnabled(!1),this.client.emit("webrtc:audio:off")},unmute:function(){this._audioEnabled(!0),this.client.emit("webrtc:audio:on")},pauseVideo:function(){this._videoEnabled(!1),this.client.emit("webrtc:video:off")},resumeVideo:function(){this._videoEnabled(!0),this.client.emit("webrtc:video:on")},pause:function(){this.mute(),this.pauseVideo()},resume:function(){this.unmute(),this.resumeVideo()},_audioEnabled:function(t){this.localStream.getAudioTracks().forEach(function(e){e.enabled=!!t})},_videoEnabled:function(t){this.localStream.getVideoTracks().forEach(function(e){e.enabled=!!t})}},i.prototype={constructor:{value:i}},n.init=function(t){t.webrtc=new r(t)}},{"node-uuid":51}],58:[function(t,e,n){!function(){function e(t,e){return(t%e+e)%e}function r(t){this.conn=t,this.id=!1,this.allowResume=!0,this.started=!1,this.lastAck=0,this.handled=0,this.windowSize=1,this.windowCount=0,this.unacked=[]}var i=t("./stanza/sm"),o=Math.pow(2,32);r.prototype={constructor:{value:r},enable:function(){var t=new i.Enable;t.resume=this.allowResume,this.conn.send(t),this.handled=0,this.started=!0},resume:function(){var t=new i.Resume({h:this.handled,previd:this.id});this.conn.send(t),this.started=!0},enabled:function(t){this.id=t.id},resumed:function(t){this.id=t.id,t.h&&this.process(t,!0)},failed:function(){this.started=!1,this.id=!1,this.lastAck=0,this.handled=0,this.windowCount=0,this.unacked=[]},ack:function(){this.conn.send(new i.Ack({h:this.handled}))},request:function(){this.conn.send(new i.Request)},process:function(t,n){for(var r=this,i=e(t.h-this.lastAck,o),s=0;i>s&&this.unacked.length>0;s++)this.conn.emit("stanza:acked",this.unacked.shift());if(n){var a=this.unacked;this.unacked=[],a.forEach(function(t){r.conn.send(t)})}this.lastAck=t.h},track:function(t){var e=t._name,n={message:!0,presence:!0,iq:!0};this.started&&n[e]&&(this.unacked.push(t),this.windowCount+=1,this.windowCount==this.windowSize&&(this.request(),this.windowCount=0))},handle:function(){this.started&&(this.handled=e(this.handled+1,o))}},n.StreamManagement=r}()},{"./stanza/sm":42}],41:[function(t,e,n){function r(){function t(t){var e=[n.streamStart,t,n.streamEnd].join("");return e}function e(t){return n.parser.parseFromString(t,"application/xml").childNodes[0]}var n=this;i.call(this),n.sm=new u(n),n.sendQueue=s.queue(function(t,e){n.conn&&(n.emit("raw:outgoing",t),n.sm.track(t),"string"!=typeof t&&(t=t.toString()),n.conn.send(t)),e()},1),n.on("connected",function(){n.send(["<stream:stream",'xmlns:stream="http://etherx.jabber.org/streams"','xmlns="jabber:client"','version="'+(n.config.version||"1.0")+'"','xml:lang="'+(n.config.lang||"en")+'"','to="'+n.config.server+'">'].join(" "))}),n.on("raw:incoming",function(r){var i,s;if(r=r.trim(),r=r.replace(/^(\s*<\?.*\?>\s*)*/,""),r.match(n.streamEnd))return n.disconnect();if(n.hasStream)try{i=new a({},e(t(r)))}catch(u){return n.disconnect()}else{var c=r.match(/^<(\S+:)?(\S+) /);n.streamStart=r,n.streamEnd="</"+(c[1]||"")+c[2]+">",s=!1;try{i=new a({},e(r+n.streamEnd))}catch(u){try{i=new a({},e(r)),s=!0}catch(l){return n.disconnect()}}n.hasStream=!0,n.stream=i,n.emit("stream:start",i)}o.each(i._extensions,function(t){t.lang||(t.lang=n.stream.lang),("message"===t._name||"presence"===t._name||"iq"===t._name)&&(n.sm.handle(t),n.emit("stanza",t)),n.emit(t._eventname||t._name,t),n.emit("stream:data",t),t.id&&n.emit("id:"+t.id,t)}),s&&n.emit("stream:end")})}var i=t("wildemitter"),o=t("lodash"),s=t("async"),a=(t("./stanza/stanza"),t("./stanza/stream").Stream),u=(t("./stanza/message").Message,t("./stanza/presence").Presence,t("./stanza/iq").Iq,t("./sm").StreamManagement);t("node-uuid"),r.prototype=Object.create(i.prototype,{constructor:{value:r}}),r.prototype.connect=function(t){var e=this;e.config=t,e.hasStream=!1,e.streamStart='<stream:stream xmlns:stream="http://etherx.jabber.org/streams">',e.streamEnd="</stream:stream>",e.parser=new DOMParser,e.serializer=new XMLSerializer,e.conn=new WebSocket(t.wsURL,"xmpp"),e.conn.onopen=function(){e.emit("connected",e)},e.conn.onclose=function(){e.emit("disconnected",e)},e.conn.onmessage=function(t){e.emit("raw:incoming",t.data)}},r.prototype.disconnect=function(){this.conn&&(this.hasStream&&(this.conn.send("</stream:stream>"),this.emit("raw:outgoing","</stream:stream>"),this.emit("stream:end")),this.hasStream=!1,this.conn.close(),this.stream=void 0,this.conn=void 0)},r.prototype.restart=function(){var t=this;t.hasStream=!1,t.send(["<stream:stream",'xmlns:stream="http://etherx.jabber.org/streams"','xmlns="jabber:client"','version="'+(t.config.version||"1.0")+'"','xml:lang="'+(t.config.lang||"en")+'"','to="'+t.config.server+'">'].join(" "))},r.prototype.send=function(t){this.sendQueue.push(t)},n.WSConnection=r},{"./stanza/stanza":4,"./stanza/stream":5,"./stanza/message":6,"./stanza/presence":7,"./stanza/iq":8,"./sm":58,wildemitter:49,lodash:50,"node-uuid":51,async:52}],54:[function(t,e,n){function r(t,e){return i.init(this,e,t)}var i=t("./stanza");r.prototype={constructor:{value:r},NS:"http://jabber.org/protocol/rsm",EL:"set",_name:"rsm",toString:i.toString,toJSON:i.toJSON,get after(){return i.getSubText(this.xml,this.NS,"after")},set after(t){i.setSubText(this.xml,this.NS,"after",t)},get before(){return i.getSubText(this.xml,this.NS,"before")},set before(t){i.setSubText(this.xml,this.NS,"before",t)},get count(){return parseInt(i.getSubText(this.xml,this.NS,"count")||"0")},set count(t){i.setSubText(this.xml,this.NS,"count",t.toString())},get first(){return i.getSubText(this.xml,this.NS,"first")},set first(t){i.setSubText(this.xml,this.NS,"first",t)},get firstIndex(){return i.getSubAttribute(this.xml,this.NS,"first","index")},set firstIndex(t){i.setSubAttribute(this.xml,this.NS,"first","index",t)},get index(){return i.getSubText(this.xml,this.NS,"index")},set index(t){i.setSubText(this.xml,this.NS,"index",t)},get last(){return i.getSubText(this.xml,this.NS,"last")},set last(t){i.setSubText(this.xml,this.NS,"last",t)},get max(){return i.getSubText(this.xml,this.NS,"max")},set max(t){i.setSubText(this.xml,this.NS,"max",t.toString())}},n.RSM=r},{"./stanza":4}],40:[function(t,e,n){function r(t,e){return l.init(this,e,t)}function i(t,e){return l.init(this,e,t)}function o(t,e){return l.init(this,e,t)}function s(t,e){return l.init(this,e,t)}function a(t,e){return l.init(this,e,t)}function u(t,e){return l.init(this,e,t)}function c(t,e){return l.init(this,e,t)}var l=t("./stanza"),f=t("lodash"),p=t("./streamFeatures").StreamFeatures;r.prototype={constructor:{value:r},_name:"sasl",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"mechanisms",toString:l.toString,toJSON:l.toJSON,required:!0,get mechanisms(){var t=[],e=l.find(this.xml,this.NS,"mechanism");return e.length&&f.each(e,function(e){t.push(e.textContent)}),t},set mechanisms(t){var e=this,n=l.find(this.xml,this.NS,"mechanism");n.length&&f.each(n,function(t){e.xml.remove(t)}),f.each(t,function(t){var n=document.createElementNS(e.NS,"mechanism");n.textContent=t,e.xml.appendChild(n)})}},i.prototype={constructor:{value:i},_name:"saslAuth",_eventname:"sasl:auth",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"auth",toString:l.toString,toJSON:l.toJSON,get value(){return atob(this.xml.textContent)},set value(t){this.xml.textContent=btoa(t)||"="},get mechanism(){return this.xml.getAttribute("mechanism")||""},set mechanism(t){this.xml.setAttribute("mechanism",t)}},o.prototype={constructor:{value:o},_name:"saslChallenge",_eventname:"sasl:challenge",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"challenge",toString:l.toString,toJSON:l.toJSON,get value(){return atob(this.xml.textContent)},set value(t){this.xml.textContent=btoa(t)||"="}},s.prototype={constructor:{value:s},_name:"saslResponse",_eventname:"sasl:response",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"response",toString:l.toString,toJSON:l.toJSON,get value(){return atob(this.xml.textContent)},set value(t){this.xml.textContent=btoa(t)||"="}},a.prototype={constructor:{value:a},_name:"saslSuccess",_eventname:"sasl:success",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"success",toString:l.toString,toJSON:l.toJSON,get value(){return atob(this.xml.textContent)},set value(t){this.xml.textContent=btoa(t)||"="}},u.prototype={constructor:{value:a},_CONDITIONS:["aborted","account-disabled","credentials-expired","encryption-required","incorrect-encoding","invalid-authzid","invalid-mechanism","malformed-request","mechanism-too-weak","not-authorized","temporary-auth-failure"],_name:"saslFailure",_eventname:"sasl:failure",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"failure",toString:l.toString,toJSON:l.toJSON,get lang(){return this._lang||""},set lang(t){this._lang=t},get condition(){var t=this,e=[];return f.each(this._CONDITIONS,function(n){var r=l.find(t.xml,this.NS,n);r.length&&e.push(r[0].tagName)}),e[0]||""},set condition(t){var e=this;if(f.each(this._CONDITIONS,function(t){var n=l.find(e.xml,e.NS,t);n.length&&e.xml.removeChild(n[0])}),t){var n=document.createElementNS(this.NS,t);n.setAttribute("xmlns",this.NS),this.xml.appendChild(n)}},get text(){var t=this.$text;return t[this.lang]||""},get $text(){return l.getSubLangText(this.xml,this.NS,"text",this.lang)},set text(t){l.setSubLangText(this.xml,this.NS,"text",t,this.lang)}},c.prototype={constructor:{value:c},_name:"saslAbort",_eventname:"sasl:abort",NS:"urn:ietf:params:xml:ns:xmpp-sasl",EL:"abort",toString:l.toString,toJSON:l.toJSON},l.extend(p,r,"sasl"),l.topLevel(i),l.topLevel(o),l.topLevel(s),l.topLevel(a),l.topLevel(u),l.topLevel(c),n.Mechanisms=r,n.Auth=i,n.Challenge=o,n.Response=s,n.Success=a,n.Failure=u,n.Abort=c},{"./stanza":4,"./streamFeatures":46,lodash:50}],43:[function(t,e,n){function r(t,e){return o.init(this,e,t)}var i=t("lodash"),o=t("./stanza"),s=t("./iq").Iq;r.prototype={constructor:{value:r},_name:"roster",NS:"jabber:iq:roster",EL:"query",toString:o.toString,toJSON:o.toJSON,get ver(){return this.xml.getAttribute("ver")||""},set ver(t){t&&this.xml.setAttribute("ver",t)},get items(){var t=this,e=o.find(this.xml,this.NS,"item");if(!e.length)return[];var n=[];return i.each(e,function(e){var r={jid:e.getAttribute("jid")||void 0,_name:e.getAttribute("name")||void 0,subscription:e.getAttribute("subscription")||"none",ask:e.getAttribute("ask")||void 0,groups:[]},s=o.find(e,t.NS,"group");i.each(s,function(t){r.groups.push(t.textContent)}),n.push(r)}),n},set items(t){var e=this;i.each(t,function(t){var n=document.createElementNS(e.NS,"item");t.jid&&n.setAttribute("jid",t.jid),t.name&&n.setAttribute("name",t.name),t.subscription&&n.setAttribute("subscription",t.subscription),t.ask&&n.setAttribute("ask",t.ask),i.each(t.groups||[],function(t){var r=document.createElementNS(e.NS,"group");r.textContent=t,n.appendChild(r)}),e.xml.appendChild(n)})}},o.extend(s,r),n.Roster=r},{"./stanza":4,"./iq":8,lodash:50}],44:[function(t,e,n){function r(t,e){return o.init(this,e,t)}var i=t("lodash"),o=t("./stanza"),s=t("./message").Message,a=t("./presence").Presence,u=t("./iq").Iq;r.prototype={constructor:{value:r},_name:"error",NS:"jabber:client",EL:"error",_ERR_NS:"urn:ietf:params:xml:ns:xmpp-stanzas",_CONDITIONS:["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"],toString:o.toString,toJSON:o.toJSON,get lang(){return this.parent?this.parent.lang:""},get condition(){var t=this,e=[];return i.each(this._CONDITIONS,function(n){var r=o.find(t.xml,t._ERR_NS,n);r.length&&e.push(r[0].tagName)}),e[0]||""},set condition(t){var e=this;if(i.each(this._CONDITIONS,function(t){var n=o.find(e.xml,e._ERR_NS,t);n.length&&e.xml.removeChild(n[0])}),t){var n=document.createElementNS(this._ERR_NS,t);n.setAttribute("xmlns",this._ERR_NS),this.xml.appendChild(n)}},get gone(){return o.getSubText(this.xml,this._ERR_NS,"gone")},set gone(t){this.condition="gone",o.setSubText(this.xml,this._ERR_NS,"gone",t)},get redirect(){return o.getSubText(this.xml,this._ERR_NS,"redirect")},set redirect(t){this.condition="redirect",o.setSubText(this.xml,this._ERR_NS,"redirect",t)},get code(){return this.xml.getAttribute("code")||""},set code(t){this.xml.setAttribute("code",t)},get type(){return this.xml.getAttribute("type")||""},set type(t){this.xml.setAttribute("type",t)},get by(){return this.xml.getAttribute("by")||""},set by(t){this.xml.setAttribute("by",t)},get $text(){return o.getSubLangText(this.xml,this._ERR_NS,"text",this.lang)},set text(t){o.setSubLangText(this.xml,this._ERR_NS,"text",t,this.lang)}},o.extend(s,r),o.extend(a,r),o.extend(u,r),n.Error=r},{"./stanza":4,"./message":6,"./presence":7,"./iq":8,lodash:50}],45:[function(t,e,n){function r(t,e){return o.init(this,e,t)}var i=t("lodash"),o=t("./stanza");r.prototype={constructor:{value:r},_name:"streamError",NS:"http://etherx.jabber.org/streams",EL:"error",_ERR_NS:"urn:ietf:params:xml:ns:xmpp-streams",_CONDITIONS:["bad-format","bad-namespace-prefix","conflict","connection-timeout","host-gone","host-unknown","improper-addressing","internal-server-error","invalid-from","invalid-namespace","invalid-xml","not-authorized","not-well-formed","policy-violation","remote-connection-failed","reset","resource-constraint","restricted-xml","see-other-host","system-shutdown","undefined-condition","unsupported-encoding","unsupported-feature","unsupported-stanza-type","unsupported-version"],toString:o.toString,toJSON:o.toJSON,get lang(){return this._lang||""},set lang(t){this._lang=t},get condition(){var t=this,e=[];return i.each(this._CONDITIONS,function(n){var r=o.find(t.xml,t._ERR_NS,n);r.length&&e.push(r[0].tagName)}),e[0]||""},set condition(t){var e=this;if(i.each(this._CONDITIONS,function(t){var n=o.find(e.xml,e._ERR_NS,t);n.length&&e.xml.removeChild(n[0])}),t){var n=document.createElementNS(this._ERR_NS,t);n.setAttribute("xmlns",this._ERR_NS),this.xml.appendChild(n)}},get seeOtherHost(){return o.getSubText(this.xml,this._ERR_NS,"see-other-host")},set seeOtherHost(t){this.condition="see-other-host",o.setSubText(this.xml,this._ERR_NS,"see-other-host",t)},get text(){var t=this.$text;return t[this.lang]||""},get $text(){return o.getSubLangText(this.xml,this._ERR_NS,"text",this.lang)},set text(t){o.setSubLangText(this.xml,this._ERR_NS,"text",t,this.lang)}},o.topLevel(r),n.StreamError=r},{"./stanza":4,lodash:50}],57:[function(t,e,n){function r(t,e){return s.init(this,e,t)}function i(t,e){return s.init(this,e,t)}var o=t("lodash"),s=t("./stanza"),a=t("./iq").Iq,u=t("./rsm").RSM,c=t("./dataforms").DataForm;r.prototype={constructor:{value:r},_name:"discoInfo",NS:"http://jabber.org/protocol/disco#info",EL:"query",toString:s.toString,toJSON:s.toJSON,get node(){return this.xml.getAttribute("node")||""},set node(t){t?this.xml.setAttribute("node",t):this.xml.removeAttribute("node")},get identities(){var t=[],e=s.find(this.xml,this.NS,"identity");return o.each(e,function(e){t.push({category:e.getAttribute("category"),type:e.getAttribute("type"),lang:e.getAttributeNS(s.XML_NS,"lang"),_name:e.getAttribute("name")})}),t},set identities(t){var e=this,n=s.find(this.xml,this.NS,"identity");o.each(n,function(t){this.xml.removeChild(t)}),o.each(t,function(t){var n=document.createElementNS(e.NS,"identity");t.category&&n.setAttribute("category",t.category),t.type&&n.setAttribute("type",t.type),t.name&&n.setAttribute("name",t.name),t.lang&&n.setAttributeNS(s.XML_NS,"lang",t.lang),e.xml.appendChild(n)})},get features(){var t=[],e=s.find(this.xml,this.NS,"feature");return o.each(e,function(e){t.push(e.getAttribute("var"))}),t},set features(t){var e=this,n=s.find(this.xml,this.NS,"feature");o.each(n,function(t){e.xml.removeChild(t)}),o.each(t,function(t){var n=document.createElementNS(e.NS,"feature");n.setAttribute("var",t),e.xml.appendChild(n)})},get extensions(){var t=[],e=s.find(this.xml,c.NS,c.EL);o.forEach(e,function(e){var n=new c({},e);t.push(n.toJSON())})},set extensions(t){var e=this,n=s.find(this.xml,c.NS,c.EL);o.forEach(n,function(t){e.xml.removeChild(t)}),o.forEach(t,function(t){var n=new c(t);e.xml.appendChild(n.xml)})}},i.prototype={constructor:{value:r},_name:"discoItems",NS:"http://jabber.org/protocol/disco#items",EL:"query",toString:s.toString,toJSON:s.toJSON,get node(){return this.xml.getAttribute("node")||""},set node(t){this.xml.setAttribute("node",t)},get items(){var t=[],e=s.find(this.xml,this.NS,"item");return o.each(e,function(e){t.push({jid:e.getAttribute("jid"),node:e.getAttribute("node"),_name:e.getAttribute("name")})}),t},set items(t){var e=this,n=s.find(this.xml,this.NS,"item");o.each(n,function(t){e.xml.removeChild(t)}),o.each(t,function(t){var n=document.createElementNS(e.NS,"item");t.jid&&n.setAttribute("jid",t.jid),t.node&&n.setAttribute("node",t.node),t.name&&n.setAttribute("name",t.name),e.xml.appendChild(n)})}},s.extend(a,r),s.extend(a,i),s.extend(i,u),n.DiscoInfo=r,n.DiscoItems=i},{"./stanza":4,"./iq":8,"./rsm":54,"./dataforms":59,lodash:50}],59:[function(t,e,n){function r(t,e){return s.init(this,e,t)}function i(t,e){return s.init(this,e,t)}var o=t("lodash"),s=t("./stanza"),a=t("./message").Message;r.prototype={constructor:{value:r},NS:"jabber:x:data",EL:"x",_name:"form",toString:s.toString,toJSON:s.toJSON,get title(){return s.getSubText(this.xml,this.NS,"title")},set title(t){s.setSubText(this.xml,this.NS,"title",t)},get instructions(){return s.getMultiSubText(this.xml,this.NS,"title").join("\n")},set instructions(t){s.setMultiSubText(this.xml,this.NS,"title",t.split("\n"))},get type(){return this.xml.getAttribute("type")||"form"},set type(t){this.xml.setAttribute("type",t)},get fields(){var t=s.find(this.xml,this.NS,"field"),e=[];return o.forEach(t,function(t){e.push(new i({},t).toJSON())}),e},set fields(t){var e=this;o.forEach(t,function(t){e.addField(t)})},addField:function(t){var e=new i(t);this.xml.appendChild(e.xml)}},i.prototype={constructor:{value:i},NS:"jabber:x:data",EL:"field",toString:s.toString,toJSON:s.toJSON,get type(){return this.xml.getAttribute("type")||"text-single"},set type(t){this._type=t,this.xml.setAttribute("type",t)},get name(){return this.xml.getAttribute("var")||""},set name(t){this.xml.setAttribute("var",t)},get desc(){return s.getSubText(this.xml,this.NS,"desc")},set desc(t){s.setSubText(this.xml,this.NS,"desc",t)},get value(){var t=s.getMultiSubText(this.xml,this.NS,"value");return"boolean"===this._type?"1"===t[0]||"true"===t[0]:t.length>1?"text-multi"===this._type?t.join("\n"):t:t[0]},set value(t){"boolean"===this._type?s.setSubText(this.xml,this.NS,"value",t?"1":"0"):("text-multi"===this._type&&(t=t.split("\n")),s.setMultiSubText(this.xml,this.NS,"value",t))},get required(){var t=s.find(this.xml,this.NS,"required");return t.length>0},set required(t){var e=s.find(this.xml,this.NS,"required");if(t&&0===e.length){var n=document.createElementNS(this.NS,"required");this.xml.appendChild(n)}else!t&&e.length>0&&o.forEach(e,function(t){this.xml.removeChild(t)})},get label(){return this.xml.getAttribute("label")||""},set label(t){this.xml.setAttribute("label",t)},get options(){var t=this;return s.getMultiSubText(this.xml,this.NS,"option",function(e){return s.getSubText(e,t.NS,"value")})},set options(t){var e=this;s.setMultiSubText(this.xml,this.NS,"option",t,function(t){var n=document.createElementNS(e.NS,"option"),r=document.createElementNS(e.NS,"value");n.appendChild(r),r.textContent=t,e.xml.appendChild(n)})}},s.extend(a,r),n.DataForm=r,n.Field=i},{"./stanza":4,"./message":6,lodash:50}]},{},[1]),$("head").prepend(['<link rel="stylesheet" href="/style.css">','<link rel="stylesheet" href="/fonts.css">','<link rel="stylesheet" href="/ui.css">','<meta name="google-site-verification" content="OEAv0Phoo4ZRGpC-GIVt-WpSDQU8wtQerm6s9PToCVY" />'].join("")),$(function(){require("app").launch()}),function(){if(!this.require){var t={},e={},n=function(o,s){var a,u=r(s,o),c=e[u];if(c)return c.exports;if(!(a=t[u]||t[u=r(u,"./index")]))throw"module '"+o+"' not found";c={id:u,exports:{}};try{return e[u]=c,a(c.exports,function(t){return n(t,i(u))},c),c.exports}catch(l){throw delete e[u],l}},r=function(t,e){var n,r,i=[];n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var o=0,s=n.length;s>o;o++)r=n[o],".."==r?i.pop():"."!=r&&""!=r&&i.push(r);return i.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")};this.require=function(t){return n(t,"")},this.require.define=function(e){for(var n in e)t[n]=e[n]}}return this.require.define}.call(this)({andlog:function(t,e,n){!function(e){var r=e.localStorage,i={},o="undefined"!=typeof process;if(o)return n.exports=console,void 0;if(r&&r.debug&&e.console)i=e.console;else for(var s="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),a=s.length,u=function(){};a--;)i[s[a]]=u;"undefined"!=typeof t?n.exports=i:e.console=i}(this)},backbone:function(t,e){!function(){var n,r=this,i=r.Backbone,o=[],s=o.push,a=o.slice,u=o.splice;n="undefined"!=typeof t?t:r.Backbone={},n.VERSION="1.0.0";var c=r._;c||"undefined"==typeof e||(c=e("underscore")),n.$=r.jQuery||r.Zepto||r.ender||r.$,n.noConflict=function(){return r.Backbone=i,this},n.emulateHTTP=!1,n.emulateJSON=!1;var l=n.Events={on:function(t,e,n){if(!p(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!p(this,"once",t,[e,n])||!e)return this;var r=this,i=c.once(function(){r.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var r,i,o,s,a,u,l,f;if(!this._events||!p(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(s=t?[t]:c.keys(this._events),a=0,u=s.length;u>a;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=r=[],e||n)for(l=0,f=o.length;f>l;l++)i=o[l],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!p(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&h(n,e),r&&h(r,arguments),this},stopListening:function(t,e,n){var r=this._listeners;if(!r)return this;var i=!e&&!n;"object"==typeof e&&(n=this),t&&((r={})[t._listenerId]=t);for(var o in r)r[o].off(e,n,this),i&&delete this._listeners[o];return this}},f=/\s+/,p=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(f.test(n)){for(var o=n.split(f),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},h=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};c.each(d,function(t,e){l[e]=function(e,n,r){var i=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=c.uniqueId("l"));return i[o]=e,"object"==typeof n&&(r=this),e[t](n,r,this),this}}),l.bind=l.on,l.unbind=l.off,c.extend(n,l);var g=n.Model=function(t,e){var n,r=t||{};e||(e={}),this.cid=c.uniqueId("c"),this.attributes={},c.extend(this,c.pick(e,m)),e.parse&&(r=this.parse(r,e)||{}),(n=c.result(this,"defaults"))&&(r=c.defaults({},r,n)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];c.extend(g.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return c.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,o,s,a,u,l,f;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;o=n.unset,a=n.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=c.clone(this.attributes),this.changed={}),f=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)e=i[r],c.isEqual(f[r],e)||s.push(r),c.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete f[r]:f[r]=e;if(!a){s.length&&(this._pending=!0);for(var p=0,h=s.length;h>p;p++)this.trigger("change:"+s[p],this,f[s[p]],n)}if(u)return this;if(!a)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,c.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,c.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!c.isEmpty(this.changed):c.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?c.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)c.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(t){t=t?c.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(r){return e.set(e.parse(r,t),t)?(n&&n(e,r,t),e.trigger("sync",e,r,t),void 0):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,i,o,s=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,!(!r||n&&n.wait||this.set(r,n)))return!1;if(n=c.extend({validate:!0},n),!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=c.extend({},s,r)),void 0===n.parse&&(n.parse=!0);var a=this,u=n.success;return n.success=function(t){a.attributes=s;var e=a.parse(t,n);return n.wait&&(e=c.extend(r||{},e)),c.isObject(e)&&!a.set(e,n)?!1:(u&&u(a,t,n),a.trigger("sync",a,t,n),void 0)},F(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=s),o},destroy:function(t){t=t?c.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;F(this,t);var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=c.result(this,"urlRoot")||c.result(this.collection,"url")||D();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},c.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=c.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,c.extend(e||{},{validationError:n})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];c.each(v,function(t){g.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),c[t].apply(c,e)}});var y=n.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,c.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},x={add:!0,merge:!1,remove:!1};c.extend(y.prototype,l,{model:g,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return n.sync.apply(this,arguments)},add:function(t,e){return this.set(t,c.defaults(e||{},x))},remove:function(t,e){t=c.isArray(t)?t.slice():[t],e||(e={});var n,r,i,o;for(n=0,r=t.length;r>n;n++)o=this.get(t[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,e.silent||(e.index=i,o.trigger("remove",o,this,e)),this._removeReference(o));return this},set:function(t,e){e=c.defaults(e||{},b),e.parse&&(t=this.parse(t,e)),c.isArray(t)||(t=t?[t]:[]);var n,r,i,o,a,l=e.at,f=this.comparator&&null==l&&e.sort!==!1,p=c.isString(this.comparator)?this.comparator:null,h=[],d=[],g={};for(n=0,r=t.length;r>n;n++)(i=this._prepareModel(t[n],e))&&((o=this.get(i))?(e.remove&&(g[o.cid]=!0),e.merge&&(o.set(i.attributes,e),f&&!a&&o.hasChanged(p)&&(a=!0))):e.add&&(h.push(i),i.on("all",this._onModelEvent,this),this._byId[i.cid]=i,null!=i.id&&(this._byId[i.id]=i)));if(e.remove){for(n=0,r=this.length;r>n;++n)g[(i=this.models[n]).cid]||d.push(i);d.length&&this.remove(d,e)}if(h.length&&(f&&(a=!0),this.length+=h.length,null!=l?u.apply(this.models,[l,0].concat(h)):s.apply(this.models,h)),a&&this.sort({silent:!0}),e.silent)return this;
for(n=0,r=h.length;r>n;n++)(i=h[n]).trigger("add",i,this,e);return a&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,c.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return c.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var r=c.isFunction(e)?e:function(t){return t.get(e)};return c.sortedIndex(this.models,t,r,n)},pluck:function(t){return c.invoke(this.models,"get",t)},fetch:function(t){t=t?c.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";n[i](r,t),e&&e(n,r,t),n.trigger("sync",n,r,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?c.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(i){e.wait&&n.add(t,e),r&&r(t,i,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof g)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];c.each(w,function(t){y.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),c[t].apply(c,e)}});var S=["groupBy","countBy","sortBy"];c.each(S,function(t){y.prototype[t]=function(e,n){var r=c.isFunction(e)?e:function(t){return t.get(e)};return c[t](this.models,r,n)}});var _=n.View=function(t){this.cid=c.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];c.extend(_.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof n.$?t:n.$(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=c.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(c.isFunction(n)||(n=this[t[e]]),n){var r=e.match(k),i=r[1],o=r[2];n=c.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=c.extend({},c.result(this,"options"),t)),c.extend(this,c.pick(t,E)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var t=c.extend({},c.result(this,"attributes"));this.id&&(t.id=c.result(this,"id")),this.className&&(t["class"]=c.result(this,"className"));var e=n.$("<"+c.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}}),n.sync=function(t,e,r){var i=N[t];c.defaults(r||(r={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=c.result(e,"url")||D()),null!=r.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||e.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var s=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",i),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=r.xhr=n.ajax(c.extend(o,r));return e.trigger("request",e,a,r),a};var N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var A=n.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,j=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(A.prototype,l,{initialize:function(){},route:function(t,e,r){c.isRegExp(t)||(t=this._routeToRegExp(t)),c.isFunction(e)&&(r=e,e=""),r||(r=this[e]);var i=this;return n.history.route(t,function(o){var s=i._extractParameters(t,o);r&&r.apply(i,s),i.trigger.apply(i,["route:"+e].concat(s)),i.trigger("route",e,s),n.history.trigger("route",i,e,s)}),this},navigate:function(t,e){return n.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var t,e=c.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(O,"\\$&").replace(C,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/]+)"}).replace(j,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return c.map(n,function(t){return t?decodeURIComponent(t):null})}});var I=n.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,q=/msie [\w.]+/,M=/\/$/;I.started=!1,c.extend(I.prototype,l,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(M,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(L,"")},start:function(t){if(I.started)throw new Error("Backbone.history has already been started");I.started=!0,this.options=c.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),r=document.documentMode,i=q.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(R,"/"),i&&this._wantsHashChange&&(this.iframe=n.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?n.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?n.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){n.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),I.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=c.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!I.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),n.history=new I;var z=function(t,e){var n,r=this;n=t&&c.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},c.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&c.extend(n.prototype,t),n.__super__=r.prototype,n};g.extend=y.extend=A.extend=_.extend=I.extend=z;var D=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}}}.call(this)},"conversat.io":function(t,e,n){function r(t){var e,n={};if("object"==typeof t)for(e in t)n[e]=t[e];i.call(this,n),n.token&&this.auth(n.token),this.connection.on("passwordRequired",this.emit.bind(this,"passwordRequired")),this.connection.on("passwordFailed",this.emit.bind(this,"passwordFailed")),this.connection.on("unlocked",this.emit.bind(this,"unlocked")),this.connection.on("locked",this.emit.bind(this,"locked"))}var i=e("simplewebrtc");r.prototype=Object.create(i.prototype,{constructor:{value:r}}),r.prototype.auth=function(t,e){var n=this;this.connection.emit("validateToken",t,function(t,r){t?n.emit("authFailed",t):n.emit("user",r),e&&e(t,r)})},r.prototype.lockRoom=function(t,e){this.connection.emit("lockRoom",t,e)},r.prototype.unlockRoom=function(t){this.connection.emit("unlockRoom",t)},n.exports=r},"cookie-getter":function(t,e,n){n.exports=function(t){var e,n=document.cookie,r=n.indexOf(t+"="),i=n.indexOf(";",r);return~r?(e=decodeURIComponent(n.substring(r,~i?i:void 0).split("=")[1]),"{"===e.charAt(0)?JSON.parse(e):e):null}},fluidGrid:function(t,e,n){!function(){function e(t){return function(e){i(t,e)}}function r(t,e){var e=e||.75,n=t.width*e;return n>t.height?{height:t.height,width:t.height/e}:{width:t.width,height:t.width*e}}function i(t,e){var n,i,s,a,u,c,l,f,p,h,d,g,m=Math.floor,v=$(t),y=v.length,b=function(){var t=!!v.find(".focused").length;return t&&y>1?y-1:t&&1===y?1:y}(),x=window.innerWidth,w=window.innerHeight-140,S=x,_=w,k=15;if(e&&(o=$(e)[0]),o&&!$(o).parent().length&&(o=void 0),g=o&&b>1,v.height(_),g)n=b-1,i=1,_=.2*w;else{if(0===b)return;1===b?(n=1,i=1):2===b?S>_?(n=2,i=1):(n=1,i=2):3===b?S>_?(n=3,i=1):(n=1,i=3):4===b?(n=2,i=2):5===b?(n=3,i=2):6===b&&(S>_?(n=3,i=2):(n=2,i=3))}if(u=r({width:S/n,height:_/i}),s=n-1,a=i-1,c=u.width*n,l=function(){var t=c-k*s;return t/n}(),f=(S-c)/2,p=u.height-(i>1?k/i:0),h=i*p,d=(_-h)/2,g&&(v=v.not(".focused")),v.each(function(t){var e=t,r=m(e/n),i=e%n,o=12,s=function(){if(3===n){if(0===i)return 1;if(1===i)return 0;if(2===i)return-1}else{if(2===n)return o=5,1==i?-1:1;if(1===n)return 0}}(),a="rotateY("+s*o+"deg)";0===s&&(a+=" scale(.98)");var c;c=g?.8*w+d+"px":r*u.height+d+"px",$(this).css({top:c,left:i*u.width+f+"px",width:l+"px",height:p+"px",position:"absolute"})}),g){var E=r({height:.8*w,width:x},o.videoHeight/o.videoWidth);$(o).css({top:0,height:E.height-d,width:E.width,left:x/2-E.width/2})}}var o;"undefined"!=typeof t?n.exports=e:window.getFluidGridFunction=e}()},simplewebrtc:function(t,e,n){!function(){function t(){this.callbacks={}}function e(e){var n,r,o=this,s=e||{};this.config={url:"http://signaling.simplewebrtc.com:8888",log:!1,localVideoEl:"",remoteVideosEl:"",autoRequestMedia:!1,autoRemoveVideos:!0,peerConnectionConfig:{iceServers:"firefox"==c?[{url:"stun:124.124.124.2"}]:[{url:"stun:stun.l.google.com:19302"}]},peerConnectionContraints:{optional:[{DtlsSrtpKeyAgreement:!0}]},media:{audio:!0,video:{mandatory:{},optional:[]}}},webRTCSupport||console.error("Your browser doesn't seem to support WebRTC"),this.screenSharingSupport=l;for(n in s)this.config[n]=s[n];this.config.log&&(i=console),this.peers=[],r=this.connection=io.connect(this.config.url),r.on("connect",function(){o.emit("ready",r.socket.sessionid),o.sessionReady=!0,o.testReadiness()}),r.on("message",function(t){var e,n=o.getPeers(t.from,t.roomType);"offer"===t.type?(e=o.createPeer({id:t.from,type:t.roomType,sharemyscreen:"screen"===t.roomType&&!t.broadcaster}),e.handleMessage(t)):n.length&&n.forEach(function(e){e.handleMessage(t)})}),r.on("remove",function(t){t.id!==o.connection.socket.sessionid&&o.removeForPeerSession(t.id,t.type)}),t.call(this),this.on("*",function(t,e,n){i.log("event:",t,e,n)}),this.config.autoRequestMedia&&this.startLocalVideo()}function r(e){var n=this;this.id=e.id,this.parent=e.parent,this.type=e.type||"video",this.oneway=e.oneway||!1,this.sharemyscreen=e.sharemyscreen||!1,this.stream=e.stream,this.pc=new o(this.parent.config.peerConnectionConfig,this.parent.config.peerConnectionContraints),this.pc.onicecandidate=this.onIceCandidate.bind(this),"screen"===e.type?this.parent.localScreen&&this.sharemyscreen&&(i.log("adding local screen stream to peer connection"),this.pc.addStream(this.parent.localScreen),this.broadcaster=this.parent.connection.socket.sessionid):this.pc.addStream(this.parent.localStream),this.pc.onaddstream=this.handleRemoteStreamAdded.bind(this),this.pc.onremovestream=this.handleStreamRemoved.bind(this),this.mediaConstraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},t.call(this),this.on("*",function(t,e){n.parent.emit(t,e,n)})}var i={log:function(){},warn:function(){},error:function(){}},o=null,s=null,a=null,u=null,c=null,l=!1;if(webRTCSupport=!0,navigator.mozGetUserMedia)i.log("This appears to be Firefox"),c="firefox",o=mozRTCPeerConnection,RTCSessionDescription=mozRTCSessionDescription,RTCIceCandidate=mozRTCIceCandidate,s=navigator.mozGetUserMedia.bind(navigator),a=function(t,e){t.mozSrcObject=e,t.play()},u=function(t,e){t.mozSrcObject=e.mozSrcObject,t.play()},MediaStream.prototype.getVideoTracks=function(){return[]},MediaStream.prototype.getAudioTracks=function(){return[]};else{if(!navigator.webkitGetUserMedia)throw webRTCSupport=!1,new Error("Browser does not appear to be WebRTC-capable");c="chrome",l=navigator.userAgent.match("Chrome")&&parseInt(navigator.userAgent.match(/Chrome\/(.*) /)[1])>=26,o=webkitRTCPeerConnection,s=navigator.webkitGetUserMedia.bind(navigator),a=function(t,e){t.autoplay=!0,t.src=webkitURL.createObjectURL(e)},u=function(t,e){t.src=e.src},webkitMediaStream.prototype.getVideoTracks||(webkitMediaStream.prototype.getVideoTracks=function(){return this.videoTracks},webkitMediaStream.prototype.getAudioTracks=function(){return this.audioTracks}),webkitRTCPeerConnection.prototype.getLocalStreams||(webkitRTCPeerConnection.prototype.getLocalStreams=function(){return this.localStreams},webkitRTCPeerConnection.prototype.getRemoteStreams=function(){return this.remoteStreams})}t.prototype.on=function(t){var e=3===arguments.length,n=e?arguments[1]:void 0,r=e?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[t]=this.callbacks[t]||[]).push(r),this},t.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this.on(t,n),this},t.prototype.releaseGroup=function(t){var e,n,r,i;for(e in this.callbacks)for(i=this.callbacks[e],n=0,r=i.length;r>n;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},t.prototype.off=function(t,e){var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),this):this},t.prototype.emit=function(t){var e,n,r=[].slice.call(arguments,1),i=this.callbacks[t],o=this.getWildcardCallbacks(t);if(i)for(e=0,n=i.length;n>e;++e)i[e].apply(this,r);if(o)for(e=0,n=o.length;n>e;++e)o[e].apply(this,[t].concat(r));return this},t.prototype.getWildcardCallbacks=function(t){var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[1].length)===n[1])&&(r=r.concat(this.callbacks[e]));return r},e.prototype=Object.create(t.prototype,{constructor:{value:e}}),e.prototype.getEl=function(t){return"string"==typeof t?document.getElementById(t):t},e.prototype.getLocalVideoContainer=function(){var t=this.getEl(this.config.localVideoEl);if(t&&"VIDEO"===t.tagName)return t;var e=document.createElement("video");return t.appendChild(e),e},e.prototype.getRemoteVideoContainer=function(){return this.getEl(this.config.remoteVideosEl)},e.prototype.createPeer=function(t){var e;return t.parent=this,e=new r(t),this.peers.push(e),e},e.prototype.createRoom=function(t,e){2===arguments.length?this.connection.emit("create",t,e):this.connection.emit("create",t)},e.prototype.joinRoom=function(t,e){var n=this;this.roomName=t,this.connection.emit("join",t,function(t,r){if(t)n.emit("error",t);else{var i,o,s,a;for(i in r.clients){o=r.clients[i];for(s in o)o[s]&&(a=n.createPeer({id:i,type:s}),a.start())}}e instanceof Function&&e(t,r)})},e.prototype.leaveRoom=function(){this.roomName&&(this.connection.emit("leave",this.roomName),this.peers.forEach(function(t){t.end()}))},e.prototype.testReadiness=function(){var t=this;this.localStream&&this.sessionReady&&setTimeout(function(){t.emit("readyToCall",t.connection.socket.sessionid)},1e3)},e.prototype.startLocalVideo=function(t){var e=this;s(this.config.media,function(n){a(t||e.getLocalVideoContainer(),n),t.muted=!0,e.localStream=n,e.testReadiness()},function(){throw new Error("Failed to get access to local media.")})},e.prototype.mute=function(){this._audioEnabled(!1),this.emit("audioOff")},e.prototype.unmute=function(){this._audioEnabled(!0),this.emit("audioOn")},e.prototype.pauseVideo=function(){this._videoEnabled(!1),this.emit("videoOff")},e.prototype.resumeVideo=function(){this._videoEnabled(!0),this.emit("videoOn")},e.prototype.pause=function(){this.mute(),this.pauseVideo()},e.prototype.resume=function(){this.unmute(),this.resumeVideo()},e.prototype._audioEnabled=function(t){this.localStream.getAudioTracks().forEach(function(e){e.enabled=!!t})},e.prototype._videoEnabled=function(t){this.localStream.getVideoTracks().forEach(function(e){e.enabled=!!t})},e.prototype.shareScreen=function(){var t=this;l&&s({video:{mandatory:{chromeMediaSource:"screen"}}},function(e){var n=document.createElement("video"),r=t.getRemoteVideoContainer();t.localScreen=e,n.id="localScreen",a(n,e),r&&r.appendChild(n),t.emit("videoAdded",n),t.connection.emit("shareScreen"),t.peers.forEach(function(e){var n;"video"===e.type&&(n=t.createPeer({id:e.id,type:"screen",sharemyscreen:!0}),n.start())})},function(){throw new Error("Failed to access to screen media.")})},e.prototype.stopScreenShare=function(){this.connection.emit("unshareScreen");var t=document.getElementById("localScreen"),e=this.getRemoteVideoContainer();this.localScreen,this.config.autoRemoveVideos&&e&&t&&e.removeChild(t),t&&this.emit("videoRemoved",t),this.localScreen.stop(),this.peers.forEach(function(t){t.broadcaster&&t.end()}),delete this.localScreen},e.prototype.removeForPeerSession=function(t,e){this.getPeers(t,e).forEach(function(t){t.end()})},e.prototype.getPeers=function(t,e){return this.peers.filter(function(n){return!(t&&n.id!==t||e&&n.type!==e)})},r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype.handleMessage=function(t){if("offer"===t.type)i.log("setting remote description"),this.pc.setRemoteDescription(new RTCSessionDescription(t.payload)),this.answer();else if("answer"===t.type)i.log("setting answer"),this.pc.setRemoteDescription(new RTCSessionDescription(t.payload));else if("candidate"===t.type){var e=new RTCIceCandidate({sdpMLineIndex:t.payload.label,candidate:t.payload.candidate});this.pc.addIceCandidate(e)}},r.prototype.send=function(t,e){this.parent.connection.emit("message",{to:this.id,broadcaster:this.broadcaster,roomType:this.type,type:t,payload:e})},r.prototype.onIceCandidate=function(t){this.closed||(t.candidate?this.send("candidate",{label:t.candidate.sdpMLineIndex,id:t.candidate.sdpMid,candidate:t.candidate.candidate}):i.log("End of candidates."))},r.prototype.start=function(){var t=this;this.pc.createOffer(function(e){i.log("setting local description"),t.pc.setLocalDescription(e),i.log("sending offer",e),t.send("offer",e)},null,this.mediaConstraints)},r.prototype.end=function(){this.pc.close(),this.handleStreamRemoved()},r.prototype.answer=function(){var t=this;i.log("answer called"),this.pc.createAnswer(function(e){i.log("setting local description"),t.pc.setLocalDescription(e),i.log("sending answer",e),t.send("answer",e)},null,this.mediaConstraints)},r.prototype.handleRemoteStreamAdded=function(t){var e=this.stream=t.stream,n=document.createElement("video"),r=this.parent.getRemoteVideoContainer();n.id=this.getDomId(),a(n,e),r&&r.appendChild(n),this.emit("videoAdded",n)},r.prototype.handleStreamRemoved=function(){var t=document.getElementById(this.getDomId()),e=this.parent.getRemoteVideoContainer();t&&(this.emit("videoRemoved",t),e&&this.parent.config.autoRemoveVideos&&e.removeChild(t)),this.parent.peers.splice(this.parent.peers.indexOf(this),1),this.closed=!0},r.prototype.getDomId=function(){return[this.id,this.type,this.broadcaster?"broadcasting":"incoming"].join("_")},"undefined"!=typeof n?n.exports=e:window.WebRTC=e}()},slugger:function(t,e,n){!function(){function t(t,n){var i=n&&n.maintainCase||!1,o=n&&n.replacement||"-";return"string"!=typeof t?"":(i||(t=t.toLowerCase()),t.replace(r,"").replace(e,o))}var e=/\s+/g,r=/[^A-Za-z0-9_ \-]/g;"undefined"!=typeof n?n.exports=t:window.slugger=t}()},"sound-effect-manager":function(t,e,n){!function(){function t(){this.support=!!window.webkitAudioContext,this.support&&(this.context=new webkitAudioContext),this.sounds={}}var e=this;t.prototype.loadFile=function(t,e,n,r){this.support?this._loadWebAudioFile(t,e,n,r):this._loadWaveFile(t.replace(".mp3",".wav"),e,n,3,r)},t.prototype._loadWebAudioFile=function(t,e,n,r){if(this.support){var i=this,o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=function(){i.sounds[e]=i.context.createBuffer(o.response,!0),r&&r()},setTimeout(function(){o.send()},n||0)}},t.prototype._loadWaveFile=function(t,e,n,r,i){var o=this,s=r||3;setTimeout(function(){var n,r=0;for(o.sounds[e]=[];s>r;)n=new Audio,n.src=t,0===r&&i&&n.addEventListener("canplaythrough",i,!1),n.load(),o.sounds[e][r++]=n},n||0)},t.prototype._playWebAudio=function(t){var e,n=this.sounds[t];n&&(e=this.context.createBufferSource(),e.buffer=n,e.connect(this.context.destination),e.noteOn(0))},t.prototype._playWavAudio=function(t,e){var n,r=this.sounds[t],i=r&&r.length||0,o=0;if(r)for(;i>o;){if(n=r[o++],n.error)return;if(0===n.currentTime||n.currentTime===n.duration)return n.currentTime=0,n.loop=!!e,o=i,n.play()}},t.prototype.play=function(t,e){return this.support?(this._playWebAudio(t,e),void 0):this._playWavAudio(t,e)},t.prototype.stop=function(t){if(this.support);else for(var e,n=this.sounds[t],r=n&&n.length||0,i=0;r>i;)e=n[i++],e.pause(),e.currentTime=0},"undefined"!=typeof n?n.exports=t:"function"==typeof e.define&&define.amd?e.define(t):e.SoundEffectManager=t}()},strictmodel:function(t,e){!function(){"use strict";var n=this,r="undefined"!=typeof t?t:n.Strict={};Object.prototype.toString,Array.prototype.slice,r.VERSION="0.0.1";var i=n._;i||"undefined"==typeof e||(i=e("underscore"));var o=n.Backbone;o||"undefined"==typeof e||(o=e("backbone")),o.Collection.prototype._prepareModel=function(t,e){if(t instanceof r.Model)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)};var s=function(){},a=function(t,e,n){var r;return r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i.extend(r,t),s.prototype=t.prototype,r.prototype=new s,e&&i.extend(r.prototype,e),n&&i.extend(r,n),r.prototype.constructor=r,r.__super__=t.prototype,r},u=function(t,e){var n=a(this,t,e);return n.extend=this.extend,n},c=r.Mixins={define:function(t,e){Object.defineProperty(this,t,e)},defineGetter:function(t,e){this.define(t,{get:e.bind(this)})},defineSetter:function(t,e){this.define(t,{set:e.bind(this)})}},l=r.Registry=function(){this._cache={},this._namespaces={}};i.extend(l.prototype,{_getCache:function(t){return t?(this._namespaces[t]||(this._namespaces[t]={}),this._namespaces[t]):this._cache},lookup:function(t,e,n){var r=this._getCache(n);return r&&r[t+e]},store:function(t){var e=this._getCache(t._namespace),n=t.type+t.id;return e[n]=e[n]||t,this},remove:function(t,e,n){var r=this._getCache(n);return this.lookup.apply(this,arguments)?(delete r[t+e],!0):!1},clear:function(){this._cache={},this._namespaces={}}}),r.registry=new l;var f=r.Model=function(t,e){t=t||{},e=e||{};var n=i.defaults(e||{},{seal:!0});this._namespace=n.namespace,this._initted=!1,this._deps={},this._initProperties(),this._initCollections(),this._cache={},this._verifyRequired(),this.set(t,{silent:!0}),this.init.apply(this,arguments),t.id&&r.registry.store(this),this._previous=i.clone(this.attributes),this._initted=!0};i.extend(f.prototype,o.Events,c,{idAttribute:"id",idDefinition:{type:"number",setOnce:!0},init:function(){return this},remove:function(){return this.id&&r.registry.remove(this.type,this.id,this._namespace),this.trigger("remove",this),this.off(),this},set:function(t,e,n){var r,o,s,a,u,c,l,f=this,p=(f._changing,[]);f._changing=!0,i.isObject(t)||null===t?(c=t,n=e):(c={},c[t]=e),r=n||{};for(u in c){if(l=c[u],o=typeof l,s=l,a=this.definition[u]||{},"date"===a.type)if(i.isDate(l))o="date",s=l.valueOf();else try{s=new Date(parseInt(l,10)).valueOf(),o="date"}catch(h){o=typeof l}else"array"===a.type?o=i.isArray(l)?"array":typeof l:"object"===a.type&&"object"!=typeof l&&i.isUndefined(l)&&(s=null,o="object");if(a.type&&a.type!==o&&!a.required&&!i.isUndefined(l))throw new TypeError("Property '"+u+"' must be of type "+a.type+". Tried to set "+l);if(a.setOnce&&void 0!==a.value&&!i.isEqual(a.value,s))throw new TypeError("Property '"+t+"' can only be set once.");i.isEqual(a.value,s)||(f._previous&&(f._previous[u]=a.value),a.value=s,p.push(u))}i.each(p,function(t){r.silent||f.trigger("change:"+t,f,f[t]),(f._deps[t]||[]).forEach(function(t){delete f._cache[t],r.silent||f.trigger("change:"+t,f,f.derived[t])})}),p.length&&(r.silent||f.trigger("change",f))},get:function(t){return this[t]},addListVal:function(t,e,n){var r=i.clone(this[t])||[];return i(r).contains(e)||(r[n?"unshift":"push"](e),this[t]=r),this},previous:function(t){return t?this._previous[t]:i.clone(this._previous)},removeListVal:function(t,e){var n=i.clone(this[t])||[];return i(n).contains(e)&&(this[t]=i(n).without(e)),this},hasListVal:function(t,e){return i.contains(this[t]||[],e)},_initCollections:function(){var t;if(this.collections)for(t in this.collections)this[t]=new this.collections[t],this[t].parent=this},_verifyRequired:function(){var t=this.attributes;for(var e in this.definition)if(this.definition[e].required&&"undefined"==typeof t[e])return!1;return!0},_initProperties:function(){function t(t,e,n){var a=s[t]={};i.isString(e)?(r=o._ensureValidType(e),r&&(a.type=r)):(r=o._ensureValidType(e[0]||e.type),r&&(a.type=r),(e[1]||e.required)&&(a.required=!0),a.value=i.isUndefined(e[2])?e.default:e[2],n&&(a.session=!0),e.setOnce&&(a.setOnce=!0))}var e,n,r,o=this,s=this.definition={};this.cid=i.uniqueId("model");for(n in this.props)t(n,this.props[n]);for(e in this.session)t(e,this.session[e],!0);s.id?s[this.idAttribute].setOnce=!0:t(this.idAttribute,this.idDefinition),this._registerDerived(),this._createGettersSetters(),this.session&&Object.freeze(this.session),this.props&&Object.freeze(this.props)},_ensureValidType:function(t){return i.contains(["string","number","boolean","array","object","date"],t)?t:void 0},_validate:function(){return!0},_createGettersSetters:function(){var t,e,n,r=this;for(t in this.definition)e=this.definition[t],n={},n.set=function(t,e){return function(t){r.set(e,t)}}(e,t),n.get=function(t){return function(){return"undefined"!=typeof t.value?"date"===t.type?new Date(t.value):t.value:void 0}}(e),this.define(t,n);this.defineGetter("attributes",function(){var t={};for(var e in this.definition)t[e]=this[e];return t}),this.defineGetter("keys",function(){return Object.keys(this.attributes)}),this.defineGetter("json",function(){return JSON.stringify(this._getAttributes(!1,!0))}),this.defineGetter("derived",function(){var t={};for(var e in this._derived)t[e]=this._derived[e].fn.apply(this);return t}),this.defineGetter("toTemplate",function(){return i.extend(this._getAttributes(!0),this.derived)})},_getAttributes:function(t,e){var n={};for(var r in this.definition)t?n[r]=e?this.definition[r].value:this[r]:this.definition[r].session||(n[r]=e?this.definition[r].value:this[r]);return n},_registerDerived:function(){var t,e=this;if(this.derived){this._derived=this.derived;for(var n in this.derived)t=this.derived[n].deps||[],i.each(t,function(t){e._deps[t]=i(e._deps[t]||[]).union([n])}),this.define(n,{get:i.bind(function(t){return this._derived[t].cache?this._cache.hasOwnProperty(t)?this._cache[t]:this._cache[t]=this._derived[t].fn.apply(this):this._derived[t].fn.apply(this)},this,n),set:i.bind(function(t){var e=this._derived[t].deps,n='"'+t+"\" is a derived property, you can't set it directly.";throw e&&e.length?new TypeError(n+' It is dependent on "'+e.join('" and "')+'".'):new TypeError(n)},this,n)})}}}),r.Model.extend=u,o.Model=r.Model}.call(this)},strictview:function(t,e,n){var r=e("backbone"),i=e("underscore"),o=e("templates");n.exports=r.View.extend({handleBindings:function(){var t=this;return this.contentBindings&&i.each(this.contentBindings,function(e,n){var r=function(){var r=e.length>0?t.$(e):$(t.el);r.html(t.model[n])};t.listenTo(t.model,"change:"+n,r),r()}),this.imageBindings&&i.each(this.imageBindings,function(e,n){var r=function(){var r=e.length>0?t.$(e):$(t.el);r.attr("src",t.model[n])};t.listenTo(t.model,"change:"+n,r),r()}),this.hrefBindings&&i.each(this.hrefBindings,function(e,n){var r=function(){var r=e.length>0?t.$(e):$(t.el);r.attr("href",t.model[n])};t.listenTo(t.model,"change:"+n,r),r()}),this.classBindings&&i.each(this.classBindings,function(e,n){var r=function(){var r=t.model[n],o=t.model.previous(),s=i.isFunction(o)?o(n):o[n],a=e.length>0?t.$(e):$(t.el);i.isBoolean(r)?r?a.addClass(n):a.removeClass(n):(s&&a.removeClass(s),a.addClass(r))
};t.listenTo(t.model,"change:"+n,r),r()}),this.inputBindings&&i.each(this.inputBindings,function(e,n){var r=function(){var r=e.length>0?t.$(e):$(t.el);r.val(t.model[n])};t.listenTo(t.model,"change:"+n,r),r()}),this},desist:function(t){t||(t={}),i.defaults(t,{quick:!1,animate:!0,speed:300,animationProps:{height:0,opacity:0}});var e=$(this.el),n=i.bind(this.remove,this);this.interval&&(clearInterval(this.interval),delete this.interval),t.quick?n():t.animate?e.animate(t.animationProps,{speed:t.speed,complete:n}):setTimeout(n,t.speed)},addReferences:function(t){for(var e in t)this["$"+e]=$(t[e],this.el)},basicRender:function(t){var e;t||(t={}),i.defaults(t,{templateFunc:"string"==typeof this.template?o[t.templateKey]:this.template,context:!1}),e=$(t.templateFunc(t.contex)),$(this.el).replaceWith(e),this.setElement(e),this.handleBindings(),this.delegateEvents()},subViewRender:function(t){t||(t={}),i.defaults(t,{placement:"append",templateFunc:"string"==typeof this.template?o[t.templateKey]:this.template});var e=(i.isFunction(this.model.toTemplate)?this.model.toTemplate():this.model.toTemplate,$(t.templateFunc(t.context))[0]);this.el.parentNode?$(this.el).replaceWith(e):$(this.containerEl)[t.placement](e),this.setElement(e),this.handleBindings()},bindomatic:function(t,e,n,r){var o=i.bind(n,this);this.listenTo(t,e,o),(r&&r.trigger||r===!0)&&o()},collectomatic:function(t,e,n,r){function o(t){var r=u.matchesFilters?u.matchesFilters(t):!0;r&&(a[t.cid]=new e(i({model:t}).extend(n)),a[t.cid].parent=u)}var s,a={},u=this;this.listenTo(t,"add",o),this.listenTo(t,"remove",function(t){a[t.cid]&&(a[t.cid].desist(r),delete a[t.cid])}),this.listenTo(t,"move",function(){i(a).each(function(t){t.desist({quick:!0})}),a={},t.each(o)}),s=function(){i(a).each(function(t){t.desist({quick:!0})}),a={},t.each(o)},this.listenTo(t,"refresh reset sort",s),s()}})},templates:function(exports,require,module){!function(){var root=this,exports={},jade=function(t){function e(t){return null!=t}return Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),t.merge=function(t,n){var r=t["class"],i=n["class"];(r||i)&&(r=r||[],i=i||[],Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]),r=r.filter(e),i=i.filter(e),t["class"]=r.concat(i).join(" "));for(var o in n)"class"!=o&&(t[o]=n[o]);return t},t.attrs=function(e,n){var r=[],i=e.terse;delete e.terse;var o=Object.keys(e),s=o.length;if(s){r.push("");for(var a=0;s>a;++a){var u=o[a],c=e[u];"boolean"==typeof c||null==c?c&&(i?r.push(u):r.push(u+'="'+u+'"')):0==u.indexOf("data")&&"string"!=typeof c?r.push(u+"='"+JSON.stringify(c)+"'"):"class"==u&&Array.isArray(c)?r.push(u+'="'+t.escape(c.join(" "))+'"'):n&&n[u]?r.push(u+'="'+t.escape(c)+'"'):r.push(u+'="'+c+'"')}}return r.join(" ")},t.escape=function(t){return String(t).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.rethrow=function(t,e,n){if(!e)throw t;var r=3,i=require("fs").readFileSync(e,"utf8"),o=i.split("\n"),s=Math.max(n-r,0),a=Math.min(o.length,n+r),r=o.slice(s,a).map(function(t,e){var r=e+s+1;return(r==n?"  > ":"    ")+r+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Jade")+":"+n+"\n"+r+"\n\n"+t.message,t},t}({});exports.dialogs={},exports.includes={},exports.pages={},exports.layout=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="wrap"><header><div class="loggedOut"><a href="#" class="logIn">Log In</a></div><div class="loggedIn"><img class="avatar"/><div class="name"></div><a href="/logout">Log Out</a></div></header><section id="pages"></section><footer><a id="ad" href="http://andbang.com" target="_blank"></a><a id="andyet" href="http://andyet.com" target="_blank"><img src="http://andyet.com/images/logo.png" width="40"/></a></footer></div>');return buf.join("")},exports.dialogs.enterPassword=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<form class="password"><h2>This room requires a password:</h2><p class="errorMessage"></p><input class="type"/><button type="button" class="cancel">Cancel</button><button type="submit" class="go">Join</button></form>');return buf.join("")},exports.dialogs.lockingRequiresPaid=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="modalDialog"><p>To lock the room you need to be logged in and have a <a href="/signup">conversat.io pro</a> account.</p><button class="gopro">Go pro!</button><button class="login">Login</button><button class="cancel">Cancel</button></div>');return buf.join("")},exports.dialogs.setPassword=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<form class="password"><h2>Set a password for this room:</h2><p class="errorMessage"></p><input class="type"/><button type="button" class="cancel">Cancel</button><button type="submit" class="go">Save</button></form>');return buf.join("")},exports.includes.passwordDialog=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<form class="password"><h2>This room requires a password:</h2><p class="errorMessage"></p><input class="type"/><button type="button" class="cancel">Cancel</button><button type="submit" class="go">Join</button></form>');return buf.join("")},exports.pages.create=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section class="page create"><a href="/"><h1 id="logo"><img src="conversatio.png" height="64" width="480" alt="Conversat.io"/></h1></a><h2><span id="title">Get a room.</span><p class="desc">Video chat with up to 6 people.</p></h2><form id="createRoom"><input id="sessionInput" placeholder="Username" autofocus="autofocus"/><input id="sessionInput" placeholder="Password" type="password"/><button type="submit">Lets go!</button></form><p class="about">Requires Chrome or Firefox Nightly with peer connection enabled.<br/> conversat.io uses <a href="https://github.com/henrikjoreteg/SimpleWebRTC">the simple WebRTC library</a> from <a href="http://andyet.com">&yet</a> and so can you.</p></section>');return buf.join("")},exports.pages.talk=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<section class="page talk"><a href="/"><h1 id="logo"><img src="conversatio.png" height="64" width="480" alt="Conversat.io"/></h1></a><h2><span id="title" class="roomName"></span></h2><h3 id="roomLink"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 50 50"><g><path d="M46.715,28.074c-0.012-0.022-0.027-0.044-0.039-0.067c-0.439-0.807-0.982-1.538-1.615-2.17l-8.635-8.634c-0.035-0.036-0.068-0.066-0.098-0.092c-1.102-1.067-2.439-1.85-3.893-2.282c1.676,1.754,2.785,3.946,3.217,6.358c0.127,0.723,0.193,1.462,0.193,2.197c0,0.293-0.014,0.602-0.039,0.943l5.381,5.382c0.469,0.469,0.816,1.058,1.002,1.706c0.109,0.372,0.162,0.759,0.162,1.151c0,0.434-0.064,0.862-0.197,1.273c-0.197,0.618-0.521,1.157-0.967,1.602l-3.508,3.508c-0.752,0.752-1.77,1.166-2.865,1.166s-2.115-0.414-2.865-1.166l-3.346-3.344l-2.164-2.166l-3.125-3.124c-0.311-0.311-0.569-0.678-0.765-1.092c-0.26-0.546-0.397-1.159-0.397-1.772c0-0.414,0.061-0.824,0.18-1.217c0.011-0.035,0.024-0.07,0.038-0.105l0.021-0.057c0.051-0.144,0.098-0.261,0.148-0.368c0.029-0.062,0.06-0.123,0.092-0.184c0.059-0.111,0.125-0.22,0.202-0.337l0.032-0.048c0.023-0.035,0.046-0.071,0.071-0.105c0.128-0.174,0.251-0.32,0.378-0.445l1.337-1.338c-0.015-0.159-0.051-0.301-0.109-0.422c-0.056-0.118-0.125-0.219-0.206-0.299L21.213,19.4l-0.23-0.23l-1.541,1.542c-0.149,0.149-0.298,0.31-0.457,0.493c-0.023,0.026-0.045,0.055-0.068,0.083l-0.05,0.061c-0.105,0.125-0.206,0.252-0.304,0.382c-0.033,0.043-0.064,0.088-0.097,0.132l-0.019,0.026c-0.096,0.134-0.188,0.27-0.276,0.408l-0.024,0.036c-0.021,0.033-0.042,0.066-0.063,0.099c-0.103,0.169-0.203,0.341-0.292,0.509l-0.014,0.025l-0.013,0.024c-0.313,0.596-0.564,1.23-0.747,1.889c-0.064,0.234-0.116,0.45-0.158,0.659c-0.128,0.639-0.193,1.283-0.193,1.924c0,0.563,0.051,1.13,0.148,1.68c0.343,1.929,1.251,3.674,2.624,5.048l1.799,1.8l2.628,2.626l4.208,4.209c3.715,3.715,9.76,3.715,13.477,0l3.508-3.509c1.201-1.202,2.059-2.72,2.479-4.393c0.199-0.795,0.301-1.584,0.301-2.346c0-1.506-0.361-3.01-1.045-4.349c-0.008-0.016-0.016-0.032-0.021-0.049c-0.008-0.013-0.012-0.025-0.02-0.038C46.744,28.116,46.73,28.096,46.715,28.074z"></path><path d="M30.398,16.544L28.6,14.745l-2.627-2.626l-4.208-4.209c-3.715-3.714-9.76-3.714-13.476,0.001L4.78,11.419c-1.202,1.2-2.058,2.72-2.479,4.391C2.102,16.605,2,17.394,2,18.157c0,1.505,0.362,3.008,1.045,4.348c0.008,0.015,0.016,0.033,0.022,0.049c0.006,0.013,0.011,0.026,0.019,0.039c0.011,0.021,0.023,0.042,0.037,0.065c0.014,0.022,0.027,0.044,0.04,0.068c0.44,0.808,0.984,1.537,1.616,2.168l8.634,8.634c0.036,0.037,0.068,0.067,0.1,0.093c1.1,1.067,2.437,1.85,3.891,2.281c-1.675-1.755-2.785-3.946-3.214-6.357c-0.129-0.72-0.196-1.46-0.196-2.197c0-0.291,0.013-0.6,0.039-0.943l-5.382-5.383c-0.468-0.468-0.815-1.058-1.001-1.706c-0.108-0.372-0.163-0.757-0.163-1.15c0-0.434,0.067-0.863,0.198-1.274c0.198-0.619,0.522-1.158,0.967-1.601l3.509-3.509c1.554-1.554,4.179-1.554,5.731,0l3.345,3.345l2.165,2.165l3.124,3.125c0.312,0.311,0.568,0.678,0.766,1.092c0.26,0.545,0.396,1.157,0.396,1.772c0,0.415-0.061,0.824-0.18,1.217c-0.012,0.036-0.023,0.071-0.037,0.107l-0.021,0.055c-0.051,0.145-0.098,0.261-0.148,0.368c-0.027,0.062-0.061,0.123-0.094,0.184c-0.059,0.112-0.125,0.225-0.199,0.337l-0.031,0.044c-0.021,0.038-0.047,0.074-0.072,0.108c-0.129,0.174-0.252,0.32-0.377,0.446l-1.339,1.338c0.015,0.159,0.051,0.301,0.11,0.423c0.056,0.117,0.124,0.219,0.205,0.298l3.124,3.125l0.23,0.229l1.541-1.541c0.146-0.146,0.297-0.309,0.457-0.493c0.023-0.027,0.049-0.056,0.07-0.084l0.047-0.058c0.105-0.127,0.207-0.254,0.305-0.384c0.039-0.052,0.076-0.104,0.113-0.157c0.098-0.135,0.189-0.271,0.279-0.408l0.029-0.046l0.055-0.089c0.105-0.168,0.203-0.339,0.295-0.51l0.012-0.022l0.014-0.025c0.312-0.595,0.564-1.229,0.748-1.888c0.062-0.228,0.113-0.444,0.156-0.661c0.129-0.637,0.193-1.282,0.193-1.922c0-0.564-0.051-1.13-0.148-1.68C32.68,19.663,31.771,17.918,30.398,16.544z"></path></g></svg><span id="subTitle"> '+escape(null==(interp=window.location.origin+"/")?"":interp)+'<span class="roomName"></span> <span id="roomKey"></span></span><div class="lockControls"><a href="#" class="unlock">Unlock Room</a><a href="#" class="lock">Lock Room</a></div></h3><video id="localVideo"></video><div class="controls"><button id="shareScreen"><span class="share"><i class="ss-icon">windows </i>Share screen</span><span class="unshare"><i class="ss-icon">windows</i>Unshare screen</span></button><button id="muteMicrophone"><span class="mute"><i class="ss-icon">volume</i>Mute</span><span class="unmute"><i class="ss-icon">volumehigh</i>Unmute</span></button><button id="pauseVideo"><span class="pause"><i class="ss-icon">pause  </i>Pause</span><span class="resume"><i class="ss-icon">play  </i>Resume</span></button></div><div id="remotes"></div><div id="game"><aside id="instructions" style="position: absolute"><h3>Play lander while you wait for people to join.</h3><p>Arrow keys control the ship</p><p><code>r</code> restarts</p><p><code>x</code> blows up your ship</p><p>Have fun!</p></aside><canvas id="viewport"></canvas></div></section>')}return buf.join("")},exports.pages.wrapper=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="page"></div>');return buf.join("")},"undefined"!=typeof module?module.exports=exports:"function"==typeof define&&define.amd?define(exports):root.templatizer=exports}()},underscore:function(t,e,n){!function(){var e=this,r=e._,i={},o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,l=o.concat,f=s.toString,p=s.hasOwnProperty,h=o.forEach,d=o.map,g=o.reduce,m=o.reduceRight,v=o.filter,y=o.every,b=o.some,x=o.indexOf,w=o.lastIndexOf,S=Array.isArray,_=Object.keys,k=a.bind,E=function(t){return t instanceof E?t:this instanceof E?(this._wrapped=t,void 0):new E(t)};"undefined"!=typeof t?("undefined"!=typeof n&&n.exports&&(t=n.exports=E),t._=E):e._=E,E.VERSION="1.4.4";var N=E.each=E.forEach=function(t,e,n){if(null!=t)if(h&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var s in t)if(E.has(t,s)&&e.call(n,t[s],s,t)===i)return};E.map=E.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(N(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var A="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=E.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(N(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(A);return n},E.reduceRight=E.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return r&&(e=E.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=E.keys(t);o=s.length}if(N(t,function(a,u,c){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(A);return n},E.find=E.detect=function(t,e,n){var r;return C(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},E.filter=E.select=function(t,e,n){var r=[];return null==t?r:v&&t.filter===v?t.filter(e,n):(N(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},E.reject=function(t,e,n){return E.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},E.every=E.all=function(t,e,n){e||(e=E.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(N(t,function(t,o,s){return(r=r&&e.call(n,t,o,s))?void 0:i}),!!r)};var C=E.some=E.any=function(t,e,n){e||(e=E.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(N(t,function(t,o,s){return r||(r=e.call(n,t,o,s))?i:void 0}),!!r)};E.contains=E.include=function(t,e){return null==t?!1:x&&t.indexOf===x?-1!=t.indexOf(e):C(t,function(t){return t===e})},E.invoke=function(t,e){var n=c.call(arguments,2),r=E.isFunction(e);return E.map(t,function(t){return(r?e:t[e]).apply(t,n)})},E.pluck=function(t,e){return E.map(t,function(t){return t[e]})},E.where=function(t,e,n){return E.isEmpty(e)?n?null:[]:E[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},E.findWhere=function(t,e){return E.where(t,e,!0)},E.max=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&E.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return N(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>=r.computed&&(r={value:t,computed:s})}),r.value},E.min=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&E.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return N(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s<r.computed&&(r={value:t,computed:s})}),r.value},E.shuffle=function(t){var e,n=0,r=[];return N(t,function(t){e=E.random(n++),r[n-1]=r[e],r[e]=t}),r};var T=function(t){return E.isFunction(t)?t:function(e){return e[t]}};E.sortBy=function(t,e,n){var r=T(e);return E.pluck(E.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var j=function(t,e,n,r){var i={},o=T(e||E.identity);return N(t,function(e,s){var a=o.call(n,e,s,t);r(i,a,e)}),i};E.groupBy=function(t,e,n){return j(t,e,n,function(t,e,n){(E.has(t,e)?t[e]:t[e]=[]).push(n)})},E.countBy=function(t,e,n){return j(t,e,n,function(t,e){E.has(t,e)||(t[e]=0),t[e]++})},E.sortedIndex=function(t,e,n,r){n=null==n?E.identity:T(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},E.toArray=function(t){return t?E.isArray(t)?c.call(t):t.length===+t.length?E.map(t,E.identity):E.values(t):[]},E.size=function(t){return null==t?0:t.length===+t.length?t.length:E.keys(t).length},E.first=E.head=E.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:c.call(t,0,e)},E.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},E.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},E.rest=E.tail=E.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},E.compact=function(t){return E.filter(t,E.identity)};var O=function(t,e,n){return N(t,function(t){E.isArray(t)?e?u.apply(n,t):O(t,e,n):n.push(t)}),n};E.flatten=function(t,e){return O(t,e,[])},E.without=function(t){return E.difference(t,c.call(arguments,1))},E.uniq=E.unique=function(t,e,n,r){E.isFunction(e)&&(r=n,n=e,e=!1);var i=n?E.map(t,n,r):t,o=[],s=[];return N(i,function(n,r){(e?r&&s[s.length-1]===n:E.contains(s,n))||(s.push(n),o.push(t[r]))}),o},E.union=function(){return E.uniq(l.apply(o,arguments))},E.intersection=function(t){var e=c.call(arguments,1);return E.filter(E.uniq(t),function(t){return E.every(e,function(e){return E.indexOf(e,t)>=0})})},E.difference=function(t){var e=l.apply(o,c.call(arguments,1));return E.filter(t,function(t){return!E.contains(e,t)})},E.zip=function(){for(var t=c.call(arguments),e=E.max(E.pluck(t,"length")),n=new Array(e),r=0;e>r;r++)n[r]=E.pluck(t,""+r);return n},E.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},E.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=E.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(x&&t.indexOf===x)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},E.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(w&&t.lastIndexOf===w)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},E.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o},E.bind=function(t,e){if(t.bind===k&&k)return k.apply(t,c.call(arguments,1));var n=c.call(arguments,2);return function(){return t.apply(e,n.concat(c.call(arguments)))}},E.partial=function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},E.bindAll=function(t){var e=c.call(arguments,1);return 0===e.length&&(e=E.functions(t)),N(e,function(e){t[e]=E.bind(t[e],t)}),t},E.memoize=function(t,e){var n={};return e||(e=E.identity),function(){var r=e.apply(this,arguments);return E.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},E.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},E.defer=function(t){return E.delay.apply(E,[t,1].concat(c.call(arguments,1)))},E.throttle=function(t,e){var n,r,i,o,s=0,a=function(){s=new Date,i=null,o=t.apply(n,r)};return function(){var u=new Date,c=e-(u-s);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,s=u,o=t.apply(n,r)):i||(i=setTimeout(a,c)),o}},E.debounce=function(t,e,n){var r,i;return function(){var o=this,s=arguments,a=function(){r=null,n||(i=t.apply(o,s))},u=n&&!r;return clearTimeout(r),r=setTimeout(a,e),u&&(i=t.apply(o,s)),i}},E.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},E.wrap=function(t,e){return function(){var n=[t];return u.apply(n,arguments),e.apply(this,n)}},E.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},E.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},E.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)E.has(t,n)&&(e[e.length]=n);return e},E.values=function(t){var e=[];for(var n in t)E.has(t,n)&&e.push(t[n]);return e},E.pairs=function(t){var e=[];for(var n in t)E.has(t,n)&&e.push([n,t[n]]);return e},E.invert=function(t){var e={};for(var n in t)E.has(t,n)&&(e[t[n]]=n);return e},E.functions=E.methods=function(t){var e=[];for(var n in t)E.isFunction(t[n])&&e.push(n);return e.sort()},E.extend=function(t){return N(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},E.pick=function(t){var e={},n=l.apply(o,c.call(arguments,1));return N(n,function(n){n in t&&(e[n]=t[n])}),e},E.omit=function(t){var e={},n=l.apply(o,c.call(arguments,1));for(var r in t)E.contains(n,r)||(e[r]=t[r]);return e},E.defaults=function(t){return N(c.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,e){return e(t),t};var I=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof E&&(t=t._wrapped),e instanceof E&&(e=e._wrapped);var i=f.call(t);if(i!=f.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var s=0,a=!0;if("[object Array]"==i){if(s=t.length,a=s==e.length)for(;s--&&(a=I(t[s],e[s],n,r)););}else{var u=t.constructor,c=e.constructor;if(u!==c&&!(E.isFunction(u)&&u instanceof u&&E.isFunction(c)&&c instanceof c))return!1;for(var l in t)if(E.has(t,l)&&(s++,!(a=E.has(e,l)&&I(t[l],e[l],n,r))))break;if(a){for(l in e)if(E.has(e,l)&&!s--)break;a=!s}}return n.pop(),r.pop(),a};E.isEqual=function(t,e){return I(t,e,[],[])},E.isEmpty=function(t){if(null==t)return!0;if(E.isArray(t)||E.isString(t))return 0===t.length;for(var e in t)if(E.has(t,e))return!1;return!0},E.isElement=function(t){return!(!t||1!==t.nodeType)},E.isArray=S||function(t){return"[object Array]"==f.call(t)},E.isObject=function(t){return t===Object(t)},N(["Arguments","Function","String","Number","Date","RegExp"],function(t){E["is"+t]=function(e){return f.call(e)=="[object "+t+"]"}}),E.isArguments(arguments)||(E.isArguments=function(t){return!(!t||!E.has(t,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(t){return"function"==typeof t}),E.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},E.isNaN=function(t){return E.isNumber(t)&&t!=+t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==f.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,e){return p.call(t,e)},E.noConflict=function(){return e._=r,this},E.identity=function(t){return t},E.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},E.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var L={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};L.unescape=E.invert(L.escape);var R={escape:new RegExp("["+E.keys(L.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(L.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(t){E[t]=function(e){return null==e?"":(""+e).replace(R[t],function(e){return L[t][e]})}}),E.result=function(t,e){if(null==t)return null;var n=t[e];return E.isFunction(n)?n.call(t):n},E.mixin=function(t){N(E.functions(t),function(e){var n=E[e]=t[e];E.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),F.call(this,n.apply(E,t))}})};var q=0;E.uniqueId=function(t){var e=++q+"";return t?t+e:e},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(t,e,n){var r;n=E.defaults({},n,E.templateSettings);var i=new RegExp([(n.escape||M).source,(n.interpolate||M).source,(n.evaluate||M).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(D,function(t){return"\\"+z[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,E);var u=function(t){return r.call(this,t,E)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},E.chain=function(t){return E(t).chain()};var F=function(t){return this._chain?E(t).chain():t};E.mixin(E),N(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];E.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(t){var e=o[t];E.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)},wildemitter:function(t,e,n){function r(){this.callbacks={}}n.exports=r,r.prototype.on=function(t){var e=3===arguments.length,n=e?arguments[1]:void 0,r=e?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[t]=this.callbacks[t]||[]).push(r),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this.on(t,n),this},r.prototype.releaseGroup=function(t){var e,n,r,i;for(e in this.callbacks)for(i=this.callbacks[e],n=0,r=i.length;r>n;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},r.prototype.off=function(t,e){var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),this):this},r.prototype.emit=function(t){var e,n,r=[].slice.call(arguments,1),i=this.callbacks[t],o=this.getWildcardCallbacks(t);if(i)for(e=0,n=i.length;n>e;++e)i[e].apply(this,r);if(o)for(e=0,n=o.length;n>e;++e)o[e].apply(this,[t].concat(r));return this},r.prototype.getWildcardCallbacks=function(t){var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[1].length)===n[1])&&(r=r.concat(this.callbacks[e]));return r}},app:function(t,e,n){var r=e("backbone"),i=e("models/me"),o=e("views/main"),s=(e("conversat.io"),e("sound-effect-manager")),a=e("cookie-getter"),u=e("helpers/tracking"),c=e("router");n.exports={launch:function(){window.app=this,window.me=new i,a("accessToken"),this.view=new o({model:me,el:document.body}).render(),new c,app.history=r.history,app.history.start({pushState:!0,root:"/"}),app.sounds=new s,app.sounds.loadFile("/online.mp3","online"),app.sounds.loadFile("/offline.mp3","offline"),u.track("webAppLoaded")},navigate:function(t){var e="/"===t.charAt(0)?t.slice(1):t;app.history.navigate(e,!0)},renderPage:function(t,e){var n=$("#pages");app.currentPage&&app.currentPage.hide(e),n.append(t.render("none"===e).el),t.show(e)},saveRoomDescriptions:function(t){me.roomKey=t.key,me.roomIsReserved=t.reserved},join:function(t){app.api.joinRoom(t,function(t,e){t||app.saveRoomDescriptions(e)})},login:function(){return window.location="/auth?next="+window.location.href,!1}}},"helpers/getOrCall":function(t,e,n){n.exports=function(t,e){return t[e]instanceof Function?t[e]():t[e]||""}},"helpers/intercom":function(t,e,n){n.exports=function(t){window.intercomSettings={email:t.email,created_at:Math.floor(t.created/1e3),name:t.fullName,user_id:t.id,widget:{activator:"#Intercom",use_counter:!0},app_id:"1qnjz20f"},$.getScript("https://api.intercom.io/api/js/library.js")}},"helpers/shippyAd":function(t,e,n){n.exports=function(){var t=["Have more fun, get more done with your team. And Bang is currently in free private beta.","And Bang is simple and powerful tasks and chat for teams. Join the free private beta now.","Create a culture of shipping, one rocket at a time. And Bang is free while in private beta.","An API for what's important right now. And Bang is free while in private beta."];return t[Math.floor(Math.random()*t.length)]}},"helpers/tracking":function(t,e){var n=e("helpers/intercom"),r=window.location.hostname,i="conversat.io"===r||"beta.conversat.io"===r;t.identify=function(t){i&&t&&t.authed&&(mixpanel.identify(t.id),mixpanel.name_tag(t.username),mixpanel.people.set({$email:t.email,$first_name:t.firstName,$last_name:t.lastName}),mixpanel.people.increment("web app opened"),n(t))},t.track=function(t,e,n){i&&mixpanel.track(t,e||{},n)}},"models/me":function(t,e,n){var r=e("strictmodel");n.exports=r.Model.extend({props:{id:"string",firstName:"string",lastName:"string",username:"string",email:"string",smallPicUrl:"/robot.png"},session:{readyToCall:["boolean",!0,!1],currentRoom:"string",muted:["boolean",!0,!1],paused:["boolean",!0,!1],sharingScreen:["boolean",!0,!1],createdRoom:["boolean",!0,!1],gameActive:["boolean",!0,!1],enterPasswordDialog:["boolean",!0,!1],setPasswordDialog:["boolean",!0,!1],roomKey:["string",!0,""],roomIsReserved:["boolean",!0,!1]},url:"/me",derived:{name:{deps:["firstName","lastName"],fn:function(){return this.firstName?this.firstName+" "+this.lastName:""}},authed:{deps:["firstName"],fn:function(){return!!this.firstName}},roomLocked:{deps:["roomKey"],fn:function(){return!!this.roomKey}}}})},"pages/base":function(t,e,n){var r=e("strictview"),i=e("helpers/getOrCall");n.exports=r.extend({show:function(){return $("body").scrollTop(0),app.currentPage=this,document.title=i(this,"title")+"  conversat.io",this.trigger("pageloaded"),this},hide:function(){return this.trigger("pageunloaded"),this.remove(),this}})},"pages/create":function(t,e,n){var r=e("pages/base"),i=e("templates"),o=e("helpers/tracking"),s=e("slugger");n.exports=r.extend({template:i.pages.create,events:{"submit #loginForm":"handleFormSubmit"},initialize:function(t){this.url=t.url},render:function(){return this.basicRender(),this.$el.load(this.url),this},handleFormSubmit:function(){var t=this.$("#sessionInput"),e=s(t.val());return app.api.createRoom(e,function(e,n){e?($.showMessage("That room is taken. Please pick another name."),t.val("").focus()):(me.createdRoom=!0,app.navigate(n.name),o.track("roomCreated",{name:n.name}))}),!1}})},"pages/talk":function(t,e,n){var r=e("pages/base"),i=e("templates"),o=e("helpers/tracking"),s=e("underscore"),a=e("fluidGrid");n.exports=r.extend({template:i.pages.talk,events:{"click video":"handleVideoClick","dblclick video":"handleVideoDoubleClick","click #shareScreen":"handleScreenShareClick","click #muteMicrophone":"handleMuteClick","click #pauseVideo":"handlePauseClick","click .lock":"handleLockClick","click .unlock":"handleUnlockClick"},classBindings:{muted:"#muteMicrophone",sharingScreen:"#shareScreen",paused:"#pauseVideo",gameActive:"#game",roomLocked:".lockControls",roomIsReserved:""},contentBindings:{currentRoom:".roomName",roomKey:"#roomKey"},initialize:function(){var t=this;this.shuffle=a("#remotes >"),app.api.on("readyToCall",s.bind(this.handleReadyToCall,this)),app.api.on("videoAdded",s.bind(this.handleVideoAdded,this)),app.api.on("videoRemoved",s.bind(this.handleVideoRemoved,this)),$(window).on("resize",s.bind(this.shuffle,this,"")),$(window).on("resize",s.debounce(s.bind(this.resetGame,this),500)),$(document).on("keydown",function(e){55===e.which&&t.startGame(!0)
}),"localhost"===window.location.hostname&&this.enableTestMode()},render:function(){return $("body").addClass("active"),this.basicRender(),this.start(),this},handleVideoClick:function(t){this.$("video").removeClass("focused"),$(t.target).addClass("focused"),this.shuffle(t.target)},handleVideoDoubleClick:function(t){t.preventDefault();var e=$(t.target)[0];e.webkitEnterFullScreen?(e.webkitEnterFullScreen(),o.track("goingFullscreen",{browser:"webkit"})):e.mozRequestFullScreen&&(e.mozRequestFullScreen(),o.track("goingFullscreen",{browser:"mozilla"}))},handleScreenShareClick:function(){return me.sharingScreen?(me.sharingScreen=!1,app.api.stopScreenShare()):(me.sharingScreen=!0,app.api.shareScreen()),!1},handleMuteClick:function(){return me.muted?(me.muted=!1,app.api.unmute(),o.track("unmuting")):(me.muted=!0,app.api.mute(),o.track("muting")),!1},handlePauseClick:function(){return me.paused?(me.paused=!1,app.api.resume(),o.track("resuming")):(me.paused=!0,app.api.pause(),o.track("pausing")),!1},start:function(){app.api.startLocalVideo(this.$("#localVideo")[0])},startGame:function(t){(!me.passwordDialog&&!this.$("#remotes video").length||t)&&(me.gameActive=!0,t?this.$("#instructions").hide():this.$("#instructions").show(),$.getScript("/Box2d.min.js",function(){$.getScript("/out.js")}))},hideGame:function(){me.gameActive&&(me.gameActive=!1,this.$("canvas").replaceWith(this.$("canvas").clone()),this.$("#instructions").hide())},resetGame:function(){this.hideGame(),this.startGame()},handleReadyToCall:function(){me.createdRoom||app.join(me.currentRoom),s.delay(s.bind(this.startGame,this),1e3)},handleVideoAdded:function(t,e){this.$("#remotes").append(t),this.shuffle(),app.sounds.play("online"),this.hideGame(),e&&o.track("videoConnected",{loggedIn:me.authed,name:me.currentRoom,locked:me.roomLocked,reserved:me.roomIsReserved,type:e.type,peerId:e.id}),t.videoStartTime=Date.now()},handleVideoRemoved:function(t,e){var n=Date.now()-t.videoStartTime;$(t).remove(),this.shuffle(),app.sounds.play("offline"),e&&o.track("videoDisconnected",{duration:n,peerId:e.id,type:e.type})},handleLockClick:function(){if(me.authed)me.setPasswordDialog=!0;else{var t=$(i.dialogs.lockingRequiresPaid()),e=ui.dialog(t[0]).modal().show();o.track("lockDialogShown"),t.delegate("button","click",function(){switch(this.className){case"gopro":o.track("goProButtonClicked",{},function(){window.location="https://apps.andyet.com/conversat.io"});break;case"login":o.track("loginButtonClicked",{},function(){app.login()});break;case"cancel":e.hide(),o.track("cancelButtonClicked")}return!1})}return!1},handleUnlockClick:function(){return app.api.unlockRoom(function(t){t||o.track("roomUnlocked",{name:me.currentRoom})}),!1},enableTestMode:function(){var t=234234,e=this;$(document).keydown(function(n){if(e===app.currentPage){var r=document.getElementById("localVideo").src,i=document.createElement("video"),o=e.$("#remotes")[0];187===n.which&&(i.autoplay=!0,i.id=++t,i.src=r,app.api.emit("videoAdded",i)),189===n.which&&o.firstChild&&app.api.emit("videoRemoved",o.firstChild)}})}})},"pages/wrapper":function(t,e,n){var r=e("pages/base"),i=e("templates");n.exports=r.extend({template:i.pages.wrapper,initialize:function(t){this.url=t.url},render:function(){return this.basicRender(),this.$el.load(this.url),this}})},router:function(t,e,n){var r=e("backbone"),i=function(t){return function(){var n=e("pages/wrapper");app.renderPage(new n({url:t}))}};n.exports=r.Router.extend({routes:{"":"create",help:"help",premium:"premium",":room":"talk"},create:function(){var t=e("pages/create");app.renderPage(new t({model:me}))},help:i("/partials/help"),premium:i("/partials/help"),talk:function(t){var n=e("pages/talk");me.currentRoom=t,app.renderPage(new n({model:me}))}})},"views/main":function(t,e,n){var r=e("pages/base"),i=e("templates"),o=e("helpers/shippyAd");n.exports=r.extend({template:i.layout,classBindings:{authed:""},contentBindings:{name:".name"},hrefBindings:{smallPicUrl:"header .avatar"},events:{"click .logIn":"handleLoginClick"},render:function(){return this.$el.html(this.template()),this.startAd(),this.handleBindings(),me.on("change:enterPasswordDialog",this.handleEnterPasswordDialogChange,this),me.on("change:setPasswordDialog",this.handleSetPasswordDialogChange,this),this},startAd:function(){this.$("#ad").html(o()),setTimeout(this.startAd.bind(this),3e4)},handleLoginClick:function(){return!1},handleEnterPasswordDialogChange:function(){function t(){me.enterPasswordDialog=!1}function e(t){$(".errorMessage",n).text(t)}var n;me.enterPasswordDialog?(n=$(i.dialogs.enterPassword()),this.enterPasswordDialog=ui.dialog(n[0]).modal().show(),$("button.cancel",n).click(function(){t(),app.navigate("")}),n.submit(function(r){r.preventDefault();var i=$("input",n).val();return i?(e("joining..."),app.api.joinRoom({name:me.currentRoom,key:i},function(n,r){n?e("Incorrect, try again."):(app.saveRoomDescriptions(r),t())})):e("Password required."),!1})):(this.enterPasswordDialog&&this.enterPasswordDialog.hide(),delete this.enterPasswordDialog)},handleSetPasswordDialogChange:function(){function t(){me.setPasswordDialog=!1}function e(t){$(".errorMessage",n).text(t)}var n;me.setPasswordDialog?(n=$(i.dialogs.setPassword()),this.setPasswordDialog=ui.dialog(n[0]).modal().show(),$("button.cancel",n).click(function(){t()}),n.submit(function(r){r.preventDefault();var i=$("input",n).val();return i?(e("setting..."),app.api.lockRoom(i,function(n){n?e(n):t()})):e("Password required."),!1})):(this.setPasswordDialog&&this.setPasswordDialog.hide(),delete this.setPasswordDialog)}})}});